{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../../src/config/index.ts","../../src/config/checkSingleton.ts","../../src/enterprise/index.ts","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/windows/protocol.ts","../../node_modules/callback-registry/lib/index.js","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../src/notifications/protocol.ts","../../node_modules/shortid/lib/random/random-from-seed.js","../../node_modules/shortid/lib/alphabet.js","../../node_modules/shortid/lib/random/random-byte-browser.js","../../node_modules/nanoid/format.browser.js","../../node_modules/shortid/lib/generate.js","../../node_modules/shortid/lib/build.js","../../node_modules/shortid/lib/is-valid.js","../../node_modules/shortid/index.js","../../node_modules/shortid/lib/index.js","../../src/notifications/controller.ts","../../src/intents/protocol.ts","../../src/intents/controller.ts","../../src/channels/controller.ts","../../src/system/protocol.ts","../../src/system/controller.ts","../../src/notifications/notification.ts","../../src/extension/protocol.ts","../../src/extension/decoders.ts","../../src/extension/controller.ts","../../src/shared/dispatcher.ts","../../src/shared/ioc.ts","../../../core/dist/core.es.js","../../src/index.ts","../../src/web.ts","App.tsx","reportWebVitals.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/main.ts","index.tsx"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","ApplicationItem","_a","appName","onClick","React","preventDefault","className","ApplicationsList","glue","inLane","parent","hidePopup","searchTerm","updatePopupHeight","filter","filterApps","isActivity","isShell","type","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","id","title","name","toLowerCase","map","key","callback","w","workspaceWindow","focus","unsub","onWindowLoaded","workspace","addGroup","children","newGroup","addWindow","console","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","props","window","useContext","GlueContext","Error","workspaceId","boxId","resizePopup","_b","useState","_c","setParent","_d","setSearchTerm","containerRef","createRef","shouldUpdate","workspaces","getWorkspaceById","myWorkspace","getBox","getAllWorkspaces","allWorkspaces","find","refreshPopupHeight","containerHeight","current","getBoundingClientRect","height","width","ref","placeholder","onChange","target","Feedback","message","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","frameId","showFeedback","layoutSummaries","setLayoutSummaries","getSummaries","layouts","summary","layoutName","restoreWorkspace","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","checked","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","save","saveContext","setTitle","error","instance","agm","payload","operation","operationArguments","invoke","returned","layout","downloadElement","document","createElement","data","encodeURIComponent","JSON","stringify","append","setAttribute","click","remove","err","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","o","c","globalThis","global","self","path","exports","require","config","container","controls","errors","items","utils","F","extend","createObject","contructor","objectKeys","keys","getHashValue","location","hash","match","RegExp","getQueryStringParam","search","substr","split","copy","animFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","Int8Array","isFunction","toString","fnBind","Function","bind","concat","slice","removeFromArray","splice","moveInArray","getBounds","now","Date","getTime","getUniqueId","Math","random","replace","filterXss","stripTags","trim","EventEmitter","_mSubscriptions","ALL_EVENT","on","fn","ctx","emit","unshift","unbind","off","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","timeout","destroy","button","_getCoordinates","x","one","_timeout","_startDrag","abs","clearTimeout","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","_ignorePinned","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","forEach","_dragListener","_element","_itemConfig","createContentItem","componentName","join","Root","createPopout","l","h","u","isRoot","addId","isNaN","screenX","screenLeft","screenY","screenTop","left","offset","top","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","close","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","allowDrop","allowDropLeft","allowDropTop","allowDropRight","allowDropBottom","side","_$calculateItemAreas","_getAllContentItems","isStack","workspacesConfig","contentItem","_contentAreaDimensions","header","highlightArea","_dropSegment","mode","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","max","floor","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","removeChild","_findAllStackContainersRecursive","isComponent","restoreMaximizedContainers","getItemsByFilter","hasId","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","workspaceInnerDrag","borderWidth","borderGrabWidth","minItemHeight","maxItemHeight","maxItemWidth","dragProxyWidth","dragProxyHeight","maximize","restore","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","_calculateRelativeSizes","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","clientWidth","clientHeight","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","href","moveTo","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_dragProxy","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","moveTab","_syncContentItemOrder","removeTab","setActiveContentItem","setActive","activeItemIndex","position","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","parseInt","z-index","margin-left","[object Object]","reduce","isPinned","_action","Splitter","_isVertical","_size","_grabSize","_createElement","_elementOffset","_xOfLastReorder","titleElement","closeElement","isActive","TabDragListener","_onReorderStart","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","pin","_getLastIndexOfPinnedTab","min","unpin","isMaximized","windowId","allowExtract","_onReorder","_onReorderStop","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","minWidth","maxWidth","minHeight","maxHeight","_$shown","shown","_containerElement","getMinWidth","getMaxWidth","getMinHeight","getMaxHeight","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","ceil","totalWidth","totalHeight","pinnedSize","round","_respectItemWidthConstraints","_respectItemHeightConstraints","m","C","_isRow","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","horizontal","vertical","_getMaximumDimensions","_setMinMaxSplitterPosition","allowSplitters","_activeContentItem","_dropZones","_dropIndex","_$validateClosability","realHeight","wrapper","log","clone","_getItemToFocusAfterRemove","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","allowDropHeader","right","bottom","placeHolderTop","isArray","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventType","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","reorderTimeout","_startReorder","_inReorder","_stopReorder","errorHandling","add","includes","execute","clear","clearKey","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","windows","mergeWindows","hibernatedWindows","lastActive","some","getWorkspaceContentItem","values","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","visibleTabs","getTabWidth","from","refreshTabClasses","MutationObserver","classList","contains","handleTabCountChanged","removedNodes","addedNodes","attributeName","handleTabHeaderResized","observe","childList","subtree","attributes","attributeFilter","attributeOldValue","characterData","characterDataOldValue","disconnect","isTabPinned","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","observer","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","subscribeForWorkspaceContentsResize","getElementById","stateResolver","windowContentItem","index","getByWindowId","url","getUserFriendlyParent","itemId","isFocused","isLoaded","positionIndex","showCloseButton","widthInPx","heightInPx","getSummaryCore","isWorkspaceSelected","cachedBounds","containerContentItem","populateChildrenAllowDrop","populateChildrenAllowExtact","populateChildrenAllowSplitters","showMaximizeButton","showEjectButton","showAddWindowButton","getByContainerId","getUserFriendlyType","findElementInConfig","workspaceContentItem","getWindowSummarySync","transformComponentsToWindowSummary","getContainerSummary","transformParentsToContainerSummary","lastFocusedWindowId","focusedWindowId","focusedGroupId","isWindowSelected","hibernateConfig","tabIndex","findIndex","isHibernated","isSelected","showSaveButton","showAddWindowButtons","showEjectButtons","showWindowCloseButtons","icon","getPropertyFromConfig","populateChildrenAllowExtract","populateChildrenShowAddWindowButtons","populateChildrenShowEjectButtons","populateChildrenShowWindowCloseButtons","parentElement","hibernatedWorkspaceIconLabel","workspaceTab","getWorkspaceTabElement","hasClass","HibernationIconClass","hideWorkspaceSaveButton","showWorkspaceIconButton","hideWorkspaceIconButton","showWorkspaceSaveButton","SaveWorkspaceButtonLabel","innerHTML","getElementsByTagName","appendChild","getWindowContentItem","getContainer","showWindowCloseButton","hideWindowCloseButton","hideEjectButton","hideAddWindowButton","hasTransition","pseudoElement","removeEventListener","addEventListener","getComputedStyle","getPropertyValue","W","E","I","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","getImmediateChildEmptyWindow","_options","_emitter","_stateResolver","_configFactory","_frameId","_showLoadingIndicator","showLoadingIndicator","_tabObserver","initWorkspaceConfig","refreshLayoutSize","all","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","placementId","registerWindowComponent","applyLockConfig","onContentComponentCreated","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","resetWorkspace","getContainerConfig","getWorkspaceLayoutComponentName","selected","registerWorkspaceComponent","hideWorkspaceCloseButton","replaceWorkspaceSaveButtonWithIcon","waitForTransition","refreshTabsMaxWidth","removeLayout","reuseWorkspaceId","getWorkspaceLayoutItemById","removeById","item","showAddButton","getDragElement","setDragElementSize","hasMaximizedItems","waitForWindowContainer","getElementsByClassName","showWorkspaceCloseButton","hideWindowCloseButtons","hideEjectButtons","hideAddWindowButtons","hideMaximizeButton","validateRowHeight","resizeComponentCore","validateColumnWidth","validateStackWidth","validateStackHeight","unpinWorkspace","pinWorkspace","validateComponentWidth","validateComponentHeight","addOrUpdate","signal","promise","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","onclick","args","laneId","disableCustomButtons","toBack","toFront","refreshTabSizeClass","isWindowLoaded","catch","getElementByClass","waitForLayout","composedPath","activeElement","blur","syncWorkspaceOrder","onOuterLayoutContainerResized","onContentContainerResized","parentType","S","T","B","D","lastIndexOf","M","R","H","dt","A","get","characters","seed","lookup","shuffled","crypto","msCrypto","L","getRandomValues","Uint8Array","O","LN2","z","pow","N","test","generate","worker","isValid","q","_idToFrame","_glue","startCore","contentWindow","postMessage","glue42core","setImmediate","loading","src","URL","protocol","waitForWindow","onWindowAdded","list","U","LAST_SESSION_KEY","sessionStorage","V","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","G","resolver","_configConverter","_constraintsValidator","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","workspacesFrameCache","addWorkspaceIds","convertToRendererConfig","getAll","export","components","state","fixWorkspace","metadata","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","set","getWorkspaceConfig","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","findById","getContext","application","details","getWindowLayoutState","layoutState","contexts","X","_layoutEventEmitter","frameController","converter","waitForWindowContentItem","frameSummary","getFrameSummary","getWorkspaceSnapshot","getFrameConstraints","getFrameSnapshot","hasFrame","visualViewport","offsetLeft","offsetTop","getRendererWindowBounds","Y","_pattern","sort","J","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","loadingStrategy","Z","registry","action","Q","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","every","getGroupWithEmptyVisibleWindow","convertSizeToRendererConfigSafely","createEmptyVisibleWindowConfig","activeTabIndex","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","K","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","tt","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","interopId","et","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","tagName","nt","askForSettings","interop","domain","ot","_frameController","_manager","_delayedExecutor","WAIT_FOR_WINDOWS_TIMEOUT","idToWindowPromise","onFrameRemoved","defaultStrategy","getComponentsByVisibility","visibleComponents","start","getSettings","startExecution","notImmediatelyVisibleComponents","batchSize","delayed","batch","executionInterval","interval","initialDelay","initialOffsetInterval","waitFor","onLoaded","onFailed","getTitleByAppName","vaidateTitle","getUrlByAppName","getURL","workspacesEventEmitter","raiseWindowEvent","windowSummary","notifyFrameWillStart","startFrame","moveFrame","getWindowSummary","getAppNameByWindowId","raiseFailed","closeTab","it","actionsInProgress","splitInBatches","executeBatch","st","getAllItemsFromWorkspace","areConstraintsValid","getConstraintsFromItem","validateWorkspace","rt","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","_isDisposing","extractWindowSummariesFromSnapshot","getWorkspaceSummary","_applicationFactory","notifyFrameWillClose","raiseWorkspaceEvent","workspaceSummary","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","_facade","loadConfig","_initialized","_popupManager","initLayout","reInitialize","setInitialWorkspaceConfig","getActiveWorkspace","reinitializeWorkspace","delete","maximizeContainer","maximizeWindow","restoreContainer","restoreWindow","closeWorkspace","closeContainer","cleanIsPinned","addContainer","applyIsPinned","setWorkspaceTitle","setWindowTitle","closeItem","reuseId","waitForFrameLoaded","resumeWorkspace","focusWorkspace","focusWindow","my","_context","isInitialized","initializationContext","removeLayoutElement","removeWindow","generateLayout","hideHibernatedIcon","showSaveIcon","disableWorkspaceDrop","enableWorkspaceDrop","disableWorkspaceExtract","enableWorkspaceExtract","disableSplitters","enableSplitters","disableWorkspaceCloseButton","enableWorkspaceCloseButton","disableWorkspaceSaveButton","enableWorkspaceSaveButton","disableWorkspaceAddWindowButtons","enableWorkspaceAddWindowButtons","disableWorkspaceEjectButtons","enableWorkspaceEjectButtons","disableWorkspaceWindowCloseButtons","enableWorkspaceWindowCloseButtons","handleColumnLockRequested","handleRowLockRequested","handleGroupLockRequested","windowPlacementId","disableWindowExtract","enableWindowExtract","disableWindowCloseButton","enableWindowCloseButton","showHibernationIcon","resizeWorkspaceItem","isWindowMaximized","resizeRow","resizeColumn","resizeStack","resizeComponent","getInitialConfig","subscribeForPopups","subscribeForLayout","showDelayedIndicator","getLoadingStrategy","handleWindows","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onItemDropped","onSelectionChanged","selectionChanged","onWorkspaceAdded","handleOnWorkspaceAdded","onWorkspaceSelectionChanged","selectionChangedDeep","isWindowVisible","onAddButtonClicked","peerId","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onContainerMaximized","maximizeTab","onContainerRestored","restoreTab","onEjectRequested","eject","onComponentSelectedInWorkspace","onWorkspaceContainerResized","refreshWorkspaceSize","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","setItemTitle","onFrameLoaded","hideLoadingIndicator","closeHibernatedWorkspaceCore","closeWorkspaceCore","checkForEmptyWorkspace","getSnapshot","startDelayed","startDirect","startLazy","isPlatformFrame","handleOnWorkspaceAddedWithSnapshot","executeAfterControlIsDone","removeWorkspace","onWindowEvent","disableGroupExtract","enableGroupExtract","disableGroupAddWindowButton","enableGroupAddWindowButton","disableGroupEjectButton","enableGroupEjectButton","disableGroupMaximizeButton","enableGroupMaximizeButton","disableGroupDrop","enableGroupDrop","disableRowDrop","enableRowDrop","disableRowSplitters","enableRowSplitters","disableColumnDrop","enableColumnDrop","disableColumnSplitters","enableColumnSplitters","workspaceSnapshot","at","manager","doesContainerContainLockingProperties","lockContainer","doesWorkspaceContainLockingProperties","lockWorkspace","doesWindowContainLockingProperties","lockWindow","getItemFromWorkspace","isLockingPropertySet","showExtractButton","showExtractButtons","ct","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","_controlPromise","handleControlCore","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleLockWorkspace","handleLockContainer","handleLockWindow","handleResizeItem","handlePinWorkspace","handleUnpinWorkspace","handleGetWorkspaceIcon","handleSetWorkspaceIcon","handleInitFrame","handleCreateFrame","handleControl","_converter","_locker","_constraintValidator","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","finally","registerAsync","openWorkspace","restoreOptions","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","definition","fixNewContainer","applyContainerLockConfiguration","fixNewWindow","applyWindowLockConfiguration","convertCreateWorkspaceArgumentsToWorkspaceItem","applyLockConfiguration","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","move","moveWindowTo","containerId","generateWorkspaceLayout","live","hibernateWorkspace","resizeItem","getWorkspaceIcon","setWorkspaceIcon","convertLayoutOptionsToWorkspaceItem","layoutsManager","initFrameLayout","setFrameContext","methods","lt","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","end","expando","isReady","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","String","fromCharCode","charCodeAt","_t","disabled","nodeName","dir","childNodes","ownerDocument","qsa","wt","scope","yt","querySelectorAll","removeAttribute","cacheLength","shift","ht","attrHandle","ut","sourceIndex","nextSibling","pt","mt","ft","isDisabled","gt","isXML","namespaceURI","documentElement","setDocument","defaultView","attachEvent","createComment","getElementsByName","getAttributeNode","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","has","lang","hasFocus","enabled","selectedIndex","empty","input","nth","radio","checkbox","file","password","image","submit","reset","vt","Ct","It","kt","bt","filters","tokenize","compile","selector","defaultValue","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","fail","Callbacks","once","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","readyWait","doScroll","uid","cache","defineProperty","configurable","access","hasData","removeData","_data","_removeData","queue","dequeue","_queueHooks","stop","clearQueue","source","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","xt","Wt","Et","event","St","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","Event","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","enumerable","writable","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","mouseenter","mouseleave","pointerenter","pointerleave","Tt","Bt","Dt","Mt","At","Pt","Lt","Ot","Rt","_evalUrl","Ht","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","zt","Ft","$t","Nt","jt","pixelBoxStyles","qt","cssText","marginLeft","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Vt","Gt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","isFinite","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","fx","scrollTop","scrollLeft","linear","swing","cos","PI","oe","ie","se","re","ae","hidden","tick","ce","le","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","me","fe","ge","we","ve","removeProp","propFix","for","class","toggleClass","ye","val","valHooks","focusin","_e","Ce","parentWindow","simulate","triggerHandler","Ie","ke","be","parseXML","DOMParser","parseFromString","xe","We","Ee","Se","Te","param","serialize","serializeArray","Be","De","Me","Ae","Pe","Le","Oe","Re","He","ze","Fe","$e","dataTypes","Ne","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","processData","async","contentType","accepts","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","send","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ve","Ge","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","proxy","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","positions","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","len","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","_this","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","undefined","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","logger","gateway","webPlatform","libraries","parseConfig","combined","systemLogger","level","checkSingleton","glue42CoreNamespace","webStarted","enterprise","enterpriseConfig","channels","Glue","ok","asPromise","withDefault","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","acc","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","paths","prependAt","newAt","rest","Decoder","decode","kind","runPromise","runWithException","where","errorMessage","succeed","string","number","boolean","constant","object","decoders","obj","array","decoder","arr","err$$1","decodeValue_1","tuple","union","ad","bd","_i","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","nonEmptyStringDecoder","operations","openWindow","dataDecoder","openWindowConfigDecoder","resultDecoder","coreWindowDataDecoder","windowHello","windowHelloDecoder","helloSuccessDecoder","windowAdded","windowRemoved","simpleWindowDecoder","windowBoundsResultDecoder","getFrameBounds","frameWindowBoundsResultDecoder","getUrl","windowUrlResultDecoder","moveResize","windowMoveResizeConfigDecoder","windowTitleConfigDecoder","createRegistry","_userErrorHandler","callbacks","callbacksForKey","WebWindowModel","_name","_bridge","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","subscribe","api","resizeTo","updateContext","setContext","onContextUpdated","dimension","targetBounds","boundsDecoder","commandArgs","nonNegativeNumberDecoder","ttl","anyDecoder","update","WindowsController","allWindowProjections","coreGlue","ioc","subLogger","trace","publicWindowId","connection","transport","actualWindowId","addWindowOperationExecutors","bridge","platformRegistration","registerWithPlatform","toApi","operationName","windowOperationTypesDecoder","operationData","windowOpenSettingsDecoder","windowSuccess","buildWebWindow","projection","onWindowRemoved","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","isWorkspaceFrame","myWindow","currentWindows","webWindowProjection","removed","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","timeoutMilliseconds","timeoutMessage","promiseActive","operationResult","executor","appHello","appHelloSuccessDecoder","appDirectoryStateChange","appDirectoryStateChangeDecoder","instanceStarted","instanceDataDecoder","instanceStopped","applicationStart","applicationStartConfigDecoder","instanceStop","basicInstanceDataDecoder","appRemoveConfigDecoder","appsExportOperationDecoder","AppManagerController","baseApplicationsTimeoutMS","appImportTimeoutMS","addOperationsExecutors","appManagerOperationTypesDecoder","startOptions","waitForAGMReady","relativeTo","relativeDirection","forceChromeTab","forceTab","openResult","applicationName","buildInstance","myInstance","inMemory","getApplication","getApplications","getInstances","onAppAdded","onAppChanged","onAppRemoved","onInstanceStarted","onInstanceStopped","handleAppDirectoryStateChange","handleInstanceStartedMessage","handleInstanceStoppedMessage","appsAdded","handleApplicationAddedMessage","appsChanged","handleApplicationChangedMessage","appsRemoved","handleApplicationRemovedMessage","appData","buildApplication","appIndex","version","instanceData","instIdx","inst","instIdxApps","definitions","importModeDecoder","parseResult","soFar","decodeResult","allApplicationDefinitionsDecoder","valid","invalid","responseTimeout","methodResponseTimeoutMs","imported","verifiedName","apps","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","controller","startApplication","layoutAdded","glueLayoutDecoder","layoutChanged","layoutRemoved","simpleLayoutConfigDecoder","optionalSimpleLayoutResult","getAllLayoutsConfigDecoder","allLayoutsSummariesResultDecoder","allLayoutsFullConfigDecoder","layoutsImportConfigDecoder","LayoutsController","layoutsOperationTypesDecoder","onAdded","onChanged","onRemoved","handleOnAdded","handleOnChanged","handleOnRemoved","layoutTypeDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","raiseNotification","raiseNotificationDecoder","requestPermission","permissionRequestResultDecoder","notificationShow","notificationEventPayloadDecoder","notificationClick","getPermission","permissionQueryResultDecoder","alphabet","previousSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","randomFromSeed","shuffle","size","bytes","mask","counter","previousSeconds","loopCounter","str","format","clusterWorkerId","seconds","module","seedValue","workerId","newCharacters","NotificationsController","notifications","notificationsSettings","buildNotificationFunc","buildNotification","addOperationExecutors","notificationsOperationTypesDecoder","raise","queryResult","permission","permissionResult","permissionGranted","glue42NotificationOptionsDecoder","notification","handleNotificationShow","handleNotificationClick","onshow","defaultClick","actionClicks","actionDef","getIntents","wrappedIntentsDecoder","findIntent","wrappedIntentFilterDecoder","raiseIntent","intentRequestDecoder","intentResultDecoder","IntentsController","myIntents","Set","GlueWebIntentsPrefix","intents","intentsOperationTypesDecoder","addIntentListener","request","requestObj","raiseRequestDecoder","intent","addIntentListenerIntentDecoder","subscribed","intentName","methodName","unsubscribe","unregister","intentFlag","register","flags","intentFilter","intentFilterObj","findFilterDecoder","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","channelNames","getAllChannelNames","channelName","channelContexts","channelNameDecoder","switchToChannel","changed","subscribeFor","publish","leave","contextName","startsWith","channelContextName","unsubscribeFunc","currentChannelName","createContextName","___","extraData","updaterId","setPathSupported","pathValues","setPaths","updateData","channelContext","info","getEnvironment","getBase","SystemController","setEnvironment","environment","base","Notification","badge","renotify","requireInteraction","silent","tag","timestamp","vibrate","clientHello","widget","inject","ExtController","contentCommands","widgetVisualizationPermission","handleWidgetVisualizationPermission","changeChannel","handleChangeChannel","channelsController","eventsDispatcher","onContentMessage","handleContentMessage","channel","sendContentMessage","command","newChannel","foundHandler","allowed","currentChannel","EventsDispatcher","glue42CoreEventName","notifyStarted","handleNotifyStarted","contentInc","handleContentInc","wireCustomEventListener","announceStarted","glue42Event","CustomEvent","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","page","urlMetric","appNameMetric","startUrl","glue42gd","NullProtocol","PerfTracker","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","jsonfiedEntries","toJSON","metrics","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","Utils","getGDMajorVersion","glueDesktop","ver","Number","isNode","_isNode","process","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","alphabet_1","randomByteBrowser","dest","encode_1","decode_1","lib$1","createCommonjsModule","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","entry","getNextRequestId","skipPeerId","successMsg","_tag","errorMsg","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","maxRetries","reconnectAttempts","Buffer","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","PromisePlus","WebPlatformTransport","parentReady","iAmConnected","extContentAvailable","extContentConnecting","extContentConnected","parentInExtMode","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","manualUnload","handleManualUnload","extConnectionResponse","handleExtConnectionResponse","extSetupRequest","handleExtSetupRequest","glue42ext","setUpMessageListener","setUpUnload","glue42ExtOut","waitParent","requestConnectionPermissionFromExt","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","clientId","clientType","parentWindowId","connectionNotPossibleMsg","parentCheck","isIframe","parentPingResolve","checkMessageTypeValid","messageType","ownWindowId","extMode","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","processExtContentConnection","extData","glue42ExtInc","child","grandChildId","rejectConnectionRequest","typeToValidate","rejection","waitForContentScript","extConnectionResolve","extConnectionReject","approved","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","deletePath","setValueToPath","added_1","added","updated_1","updated","mergeObjectsProperties","WeakMap","what","withWhat","deepEqual","pathArr","isSubset","superObj","subObj","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","hasReceivedSnapshot","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","setPath","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","ContextsModule","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","clearTimeoutIfThere","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","getInvokePromise","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterValueEl","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","ServerSubscription","subscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","displayName","returns","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","refresh","user","pid","machine","region","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","entries","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","waitForMethod","MessageBus","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","ext","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","glue42electron","applicationConfig","instanceId","gwConfig","gwURL","uniqueAppName","env","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","coreFactoryFunction","createGlueCore","IoC","controllers","defineConfig","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","positiveNumberDecoder","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","windowDefinitionConfigDecoder","groupDefinitionConfigDecoder","rowDefinitionConfigDecoder","columnDefinitionConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictColumnDefinitionDecoder","strictParentDefinitionDecoder","strictRowDefinitionDecoder","strictGroupDefinitionDecoder","newFrameConfigDecoder","loadingStrategyDecoder","restoreWorkspaceConfigDecoder","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","workspaceSelectorDecoder","restoreWorkspaceDefinitionDecoder","emptyFrameDefinitionDecoder","frameConfig","frameInitConfigDecoder","frameInitProtocolConfigDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameInitializationContextDecoder","frameSummaryDecoder","eventTypeDecoder","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","minHeigth","customWorkspaceSubParentSnapshotDecoder","customWorkspaceChildSnapshotDecoder","customWorkspaceWindowSnapshotDecoder","workspaceSnapshotResultDecoder","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","workspacesImportLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummaryDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","frameBoundsResultDecoder","getWorkspaceIconResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","workspaceLockConfigDecoder","lockWorkspaceDecoder","windowLockConfigDecoder","elementResizeConfigDecoder","lockWindowDecoder","rowLockConfigDecoder","columnLockConfigDecoder","groupLockConfigDecoder","lockRowDecoder","lockColumnDecoder","lockGroupDecoder","lockContainerDecoder","pinWorkspaceDecoder","setWorkspaceIconDecoder","workspacePinOptionsDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","OPERATIONS","argsDecoder","createFrame","initFrame","getAllFramesSummaries","getAllWorkspacesSummaries","getAllLayoutsSummaries","importLayout","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","operationResultRaw","activeSub","getActiveSubscription","getRegistryKey","getBranchKey","gdSub","streamData","requestedArgumentsResult","actionResult","streamType","validatedPayload","keyToExecute","levelId","callbacksCount","verifiedAction","verifiedType","verifiedPayload","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","baseErrorMessage","invocationResult","invocationErrorMessage","privateData","wrapChildren","serializeChildren","getBuilder","validatedDefinition","childBuilder","addParent","predicate","lockConfigResult","verifiedConfig","setHeight","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getAllowDrop","getAllowSplitters","getWidthInPx","getHeightInPx","getIsPinned","getIsMaximized","setWidth","getAllowExtract","getAllowDropLeft","getAllowDropRight","getAllowDropTop","getAllowDropBottom","getAllowDropHeader","getShowMaximizeButton","getShowEjectButton","getShowAddWindowButton","getData","getWorkspaceData","getDataManager","dataManager","refreshReference","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","currentChildrenFlat","flatChildren","newChildren","refreshChildren","existingChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","allWindows","bundleTo","currentLockConfig","processLocalSubscription","windowParent","foundWindow","win","getWindowData","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","validatedConfig","getWorkspacesByFrameId","validatedOptions","transformStreamPayloadToWorkspace","foundParent","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","createConfig","snapshot","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","privateDataManager","remapChild","foundChild","foundChildren","grandChildren","innerFound","createEmptyFrame","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","fetchWorkspace","iterateWorkspaces","foundWorkspace","matchingWorkspaces","getAllWorkspaceSummaries","workspaceSummaries","summariesForFrame","workspacesForFrame","allSummariesResult","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","frameSnapshot","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","getAllFrames","onFrameOpened","processGlobalSubscription","checkIsInSwimlane","getWorkspaces","getWorkspace","waitForFrame","rej","myFrame","exportLayout","onSaved","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","GlueWorkspaces","StrictMode","glueFactory","GlueWeb"],"mappings":"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","file":"static/js/main.0e36e02d.chunk.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string, id: string }> = ({ title, className, children, id, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className} id={id}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        if (glue.workspaces.getWorkspaceById) {\r\n            glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        } else {\r\n            glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n                const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n                const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n    \r\n                if (!shouldUpdate) {\r\n                    return;\r\n                }\r\n                setParent(parent);\r\n            });\r\n        }\r\n\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            workspace = myWorkspace;\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getWorkspaceById(workspaceId).then((myWorkspace: any) => {\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,o){return new(n||(n=Promise))((function(i,s){function r(t){try{c(o.next(t))}catch(t){s(t)}}function a(t){try{c(o.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((o=o.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var o=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,o,i=window.location.search.substr(1).split(\"&\"),s={};for(o=0;o<i.length;o++)s[(e=i[o].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var o=function(){var i=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof o))return t.apply(e,i);t.apply(this,i)};return o.prototype=t.prototype,o},n.utils.removeFromArray=function(t,e){var o=n.utils.indexOf(t,e);if(-1===o)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(o,1)},n.utils.moveInArray=function(t,e,n){var o=t[e];t.splice(e,1),t.splice(n,0,o)},n.utils.getBounds=function(t){if(!t[0])throw new Error(\"Cannot get bounds of invalid element\");return t[0].getBoundingClientRect()},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,o){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:o})},this.emit=function(t){var e,o,i;i=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)o=s[e].ctx||{},s[e].fn.apply(o,i);i.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)o=r[e].ctx||{},r[e].fn.apply(o,i)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var o,i=!1;for(o=0;o<this._mSubscriptions[t].length;o++)e&&this._mSubscriptions[t][o].fn!==e||n&&n!==this._mSubscriptions[t][o].ctx||(this._mSubscriptions[t].splice(o,1),i=!0);if(!1===i)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,o){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=o||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,o,i){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=i,this._ignorePinned=!1,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=o,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,o,i;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(o=function(t,e){var n,i;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],i=0;i<e.contentItems.length;i++)t.content[i]={},o(t.content[i],e.contentItems[i])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],i=0;i<this.openPopouts.length;i++)e.openPopouts.push(this.openPopouts[i].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(this.width),this._maximizedItem.element.height(this.height),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var o;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw o=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(o);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,o,i){var s,r,a,c,l,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(o=o||null,u){for(h=this.toConfig(t).content,o=n.utils.getUniqueId(),c=t.parent,l=t;1===c.contentItems.length&&!c.isRoot;)c=c.parent,l=l.parent;c.addId(o),isNaN(i)&&(i=n.utils.indexOf(l,c.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,o,i,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,o,i){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),o,this,i);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,o,i=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(o=this._itemAreas[n]).x1&&t<o.x2&&e>o.y1&&e<o.y2&&i>o.surface&&(i=o.surface,s=o);return s},_$createRootItemAreas:function(){const{allowDrop:t,allowDropLeft:e,allowDropTop:n,allowDropRight:o,allowDropBottom:i}=this.config.workspacesOptions;if(!1!==t||!0===e||!0===n||!0===o||!0===i){var s={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var r in s){var a=this.root._$getArea();a.side=r,a[r]=s[r]?a[s[r]]-50:\"y2\"===r?50+this.root.element.offset().top:50,a.surface=(a.x2-a.x1)*(a.y2-a.y1),this._itemAreas.push(a)}(!1===e||!1===t&&!0!==e)&&(this._itemAreas[1]=void 0),(!1===n||!1===t&&!0!==n)&&(this._itemAreas[0]=void 0),(!1===o||!1===t&&!0!==o)&&(this._itemAreas[3]=void 0),(!1===i||!1===t&&!0!==i)&&(this._itemAreas[2]=void 0),this._itemAreas=this._itemAreas.filter((t=>void 0!==t))}},_$calculateItemAreas:function(){var t,e,o=this._getAllContentItems();if(this._itemAreas=[],1!==o.length){for(this._$createRootItemAreas(),t=0;t<o.length;t++){if(!o[t].isStack)continue;const s=o[t].config.workspacesConfig&&!0===o[t].config.workspacesConfig.allowDrop;if((!1!==this.config.workspacesOptions.allowDrop||s)&&((!o[t].config.workspacesConfig||!1!==o[t].config.workspacesConfig.allowDrop)&&null!==(e=o[t]._$getArea())))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var i={};n.utils.copy(i,e),e.contentItem._contentAreaDimensions.header&&(n.utils.copy(i,e.contentItem._contentAreaDimensions.header.highlightArea),i.surface=(i.x2-i.x1)*(i.y2-i.y1),this._itemAreas.push(i)),o[t]._dropSegment&&(o[t]._dropSegment=null)}}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,o){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var i=this.createContentItem(t,o);return i.callDownwards(\"_$init\"),i}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var o=0;o<n.contentItems.length;o++)e(n.contentItems[o])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var o=n.utils.getQueryStringParam(\"gl-window\");o&&(this.isSubWindow=!0,t=localStorage.getItem(o),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(o)),t=e.extend(!0,{},n.config.defaultConfig,t);var i=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?i(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return i(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),o=this.root.contentItems[0],i=this._findAllStackContainers()[0],s=0;s<n;s++){var r=o.contentItems[o.contentItems.length-1];this._addChildContentItemsToContainer(i,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))},restoreMaximizedContainers:function(){this.root.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type)).forEach((t=>{this._$minimiseItem(t)}))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,workspaceInnerDrag:!0,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:20,maxItemHeight:32767,minItemWidth:20,maxItemWidth:32767,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,o,i){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=o,this.layoutManager=i,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){var n,o,i,s,r=this.parent,a=this;if(!t&&!e||t&&e)return!1;for(;!r.isColumn&&e||!r.isRow&&t||r.contentItems.length<=1;)if(a=r,(r=r.parent).isRoot)return!1;for(this.layoutManager._ignorePinned=!0,r._calculateRelativeSizes(),n=(\"height\"===(o=r.isColumn?\"height\":\"width\")?e:t)/(this._element[o]()*(1/(a.config[o]/100)))*100,i=(a.config[o]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[o]=n:r.contentItems[s].config[o]+=i;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],o=n.offsetWidth-n.clientWidth,i=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-o).height(this.height-i),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,o,i,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=o,this._indexInParent=i,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,o=this._createUrl(),i=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(o,i,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},o=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(o,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+o:document.location.href+\"&gl-window=\"+o},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,o,i,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=i,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:o}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var c=this._layoutManager.container.offset();this._minX=c.left,this._minY=c.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,o)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var o=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,i=n.pageY;(o>this._minX&&o<this._maxX&&i>this._minY&&i<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(o,i)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area?(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area)):null!==this._lastValidArea&&(this._lastValidArea.contentItem._$highlightDropZone(t,e,this._area),this._lastValidArea=this._area)},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,o){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._dragProxy=null,this._createDragListener(o)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,o){var i=this._itemConfig;n.utils.isFunction(i)&&(i=i());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},i));this._dragProxy=new n.controls.DragProxy(t,o,this._dragListener,this._layoutManager,s,null),this._layoutManager.transitionIndicator.transitionElements(this._element,this._dragProxy.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,o){this.highlightArea({x1:t,y1:e,x2:n,y2:o})},highlightArea:function(t){t?this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show():this.element.hide()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,o){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=o,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var o,i;for(i=0;i<this.tabs.length;i++)if(this.tabs[i].contentItem===t)return;if(o=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(o),void this.tabsContainer.append(o.element);(void 0===e||e>this.tabs.length)&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(o.element):this.tabs[0].element.before(o.element),this.tabs.splice(e,0,o),this._updateTabSizesWithoutDropdown()},moveTab:function(t,e){n.utils.moveInArray(this.tabs,t,e),this._updateTabSizesWithoutDropdown(),this.parent._syncContentItemOrder()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,o,i;for(e=0;e<this.tabs.length;e++)o=this.tabs[e].contentItem===t,this.tabs[e].setActive(o),!0===o&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(i=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=i,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,o,i,s,r,a,c,l;l=n.utils.fnBind(this._showAdditionalTabsDropdown,this),c=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,c,\"lm_tabdropdown\",l),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),o=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,o,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),i=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,i,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",i)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),o=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,o,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,o,i,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,c=0,l=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((c=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<l){for(o=0;o<=n;o++)i=o!==h&&0!==o?\"-\"+c+\"px\":\"\",this.tabs[o].element.css({\"z-index\":n-o,\"margin-left\":i});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,o=0,i=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[i];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),o+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),i<=n?o:o+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_getLastIndexOfPinnedTab(t){const e=this.tabs.reduce(((e,n)=>n.isPinned&&(\"function\"!=typeof t||t(n))?n:e),void 0);return e?this.tabs.indexOf(e):-1}}),n.controls.HeaderButton=function(t,n,o,i){this._header=t,this.element=e('<li class=\"'+o+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=i,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,o){this._isVertical=t,this._size=e,this._grabSize=o<e?e:o,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var o=this._grabSize-this._size,i=o/2;return this._isVertical?(t.css(\"top\",-i),t.css(\"height\",this._size+o),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-i),t.css(\"width\",this._size+o),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,o){this.header=t,this.contentItem=o,this.element=e(n.controls.Tab._template),this._elementOffset=0,this._xOfLastReorder=0,this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[o.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.isPinned=!1,this.setTitle(o.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===o.config.reorderEnabled&&(this._dragListener=new n.utils.TabDragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"reorderStart\",this._onReorderStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&o.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,pin:function(t){if(this.isPinned)return;this.titleElement.hide(),this.closeElement.hide();const e=this.header.tabs.indexOf(this),n=this.header._getLastIndexOfPinnedTab();let o=n+1;\"number\"==typeof t&&(o=Math.min(t,n+1)),this.header.moveTab(e,o),this.element.addClass(\"lm_pinned\"),this.isPinned=!0},unpin:function(){if(!this.isPinned)return;this.titleElement.show(),this.closeElement.show();const t=this.header.tabs.indexOf(this),e=this.header._getLastIndexOfPinnedTab();t!=e&&this.header.moveTab(t,e),this.element.removeClass(\"lm_pinned\"),this.isPinned=!1},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener.off(\"reorderStart\",this._onReorderStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const o=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,i=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId,r=!this.contentItem.layoutManager.config.settings.workspaceInnerDrag&&o;if(o&&i)return;if(!o&&s)return;if(this._layoutManager.config&&!1===this._layoutManager.config.workspacesOptions.allowExtract&&this.contentItem.config.workspacesConfig&&!0!==this.contentItem.config.workspacesConfig.allowExtract)return;if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;if(r)return;this._layoutManager.restoreMaximizedContainers.apply(this._layoutManager);const a=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(a)},_onReorderStart:function(t,e){if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;const n=this.element[0].getBoundingClientRect().x-this.header.element[0].getBoundingClientRect().x,o=this.element[0].getBoundingClientRect().width;this._elementOffset=n-t,this._xOfLastReorder=t,this.element.css(\"position\",\"absolute\"),this.element.css(\"z-index\",\"42\"),this.element.css(\"left\",t+this._elementOffset+\"px\"),this.element.css(\"width\",o+\"px\"),this._dragListener.on(\"reorder\",this._onReorder,this),this._dragListener.on(\"reorderStop\",this._onReorderStop,this)},_onReorder:function(t,e){this.element.css(\"left\",t+this._elementOffset+\"px\");const o=this.header.tabs.indexOf(this);if(this._xOfLastReorder>t&&o>0){const e=n.utils.getBounds(this.header.tabs[o-1].element);t<e.x+e.width/2&&(this.header.moveTab(o,o-1),this._xOfLastReorder=t)}else if(this._xOfLastReorder<t&&o<this.header.tabs.length-1){const e=n.utils.getBounds(this.header.tabs[o+1].element);t>e.x+e.width/2&&(this.header.moveTab(o,o+1),this._xOfLastReorder=t)}this.element.css(\"z-index\",\"42\")},_onReorderStop:function(t,e){const n=this.header.tabs.indexOf(this),o=this.header._getLastIndexOfPinnedTab((t=>t!=this));this.isPinned&&o+1<n&&this.header.moveTab(n,o+1),!this.isPinned&&n<o&&this.header.moveTab(n,o),this.element.css(\"left\",\"\"),this.element.css(\"width\",\"\"),this.element.css(\"position\",\"\"),this.element.css(\"z-index\",\"auto\"),this._dragListener.off(\"reorder\",this._onReorder),this._dragListener.off(\"reorderStop\",this._onReorderStop)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),o=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,i={};if(o>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)i[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*o;this._element.css(i),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,o){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=o,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,o){var i;for(!0!==n&&!0!==o&&this[t].apply(this,e||[]),i=0;i<this.contentItems.length;i++)this.contentItems[i].callDownwards(t,e,n);!0===n&&!0!==o&&this[t].apply(this,e||[])},removeChild:function(t,e){var o=n.utils.indexOf(t,this.contentItems);if(-1===o)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[o]._$destroy(),this.contentItems.splice(o,1),this.config.content.splice(o,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,o){e=this.layoutManager._$normalizeContentItem(e);var i=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===i)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===o&&(t.parent=null,t._$destroy()),this.contentItems[i]=e,e.parent=this,this.isStack&&(this.header.tabs[i].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(o){for(var i=0;i<o.contentItems.length;i++)!0===t(o.contentItems[i])&&e.push(o.contentItems[i]),n(o.contentItems[i])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),o=[];for(e=0;e<n.length;e++)o.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return o},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,o=this.getItemsByType(\"stack\");for(n=0;n<o.length;n++)(e=o[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),o=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+o,surface:n*o,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,o;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(o=0;o<t.content.length;o++)e=this.layoutManager.createContentItem(t.content[o],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,i);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},getMinWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth},getMaxWidth(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth},getMinHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight},getMaxHeight(){return this.config.workspacesConfig&&this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=i,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.contentItems.reduce(((t,e)=>t+=e.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),0);return Math.min(t,e)},_$highlightDropZone:function(t,e,o){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var o;if(t.isComponent&&((o=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),o.addChild(t),t=o),this.contentItems.length){var i=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=i){var c=this.layoutManager.createContentItem({type:i},this);this.replaceChild(a,c),c.addChild(t,r?0:void 0,!0),c.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,c.callDownwards(\"setSize\")}else{var l=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),l.config[s]*=.5,t.config[s]=l.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,o,i,s){n.items.AbstractContentItem.call(this,o,i,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=o.config.dimensions.borderWidth,this._splitterGrabSize=o.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=o},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,o){var i,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),(void 0===e||e>this.contentItems.length)&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),i=1/this.contentItems.length*100,!0!==o){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=i:(s=this.contentItems[r].config[this._dimension]*=(100-i)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var o,i,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),o=0;o<this.contentItems.length;o++)this.contentItems[o]!==t&&(this.contentItems[o].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(i=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,i,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var o=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=o,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t+=e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth:\"column\"===this.config.type&&(t=Math.max(e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth,t)),t)),0);return Math.max(t,e)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,n)=>(\"row\"===this.config.type?e+=n.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth:\"column\"===this.config.type&&(e=Math.min(n.getMaxWidth()||this.layoutManager.config.dimensions.maxItemWidth,e||t)),e)),0);return Math.min(t,e)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.contentItems.reduce(((t,e)=>(\"row\"===this.config.type?t=Math.max(e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight,t):\"column\"===this.config.type&&(t+=e.getMinHeight()||this.layoutManager.config.dimensions.minItemHeight),t)),0);return Math.max(t,e)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight;if(!this.contentItems.length)return t;const e=this.contentItems.reduce(((e,n)=>(\"row\"===this.config.type?e=Math.min(n.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight,e||t):\"column\"===this.config.type&&(e+=n.getMaxHeight()||this.layoutManager.config.dimensions.maxItemHeight),e)),0);return Math.min(t,e)},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();const n=this.contentItems.filter((t=>t.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned));let o=e.additionalPixel;n.filter((t=>{const n=this.isColumn?t.element.height():t.element.width(),o=this.contentItems.indexOf(t);return Math.floor(n)>Math.floor(e.itemSizes[o])})).forEach((t=>{const n=this.isColumn?t.element.height():t.element.width(),i=this.contentItems.indexOf(t),s=Math.floor(n-e.itemSizes[i]),r=Math.min(o,s);e.itemSizes[i]+=r,o-=r}));const i=Math.ceil(o/(this.contentItems.length-n.length));for(t=0;t<this.contentItems.length;t++){if(o>0&&!this.contentItems[t].config.workspacesConfig.isPinned){const n=Math.min(o,i);e.itemSizes[t]+=n,o-=n}this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight)),this._isColumn&&this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned?this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.height():this.contentItems[t].config.workspacesConfig.isPinned&&this._layoutManager._ignorePinned&&(this.contentItems[t].config.workspacesConfig.pinnedSize=this.contentItems[t].element.width())}},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,o=this.element.width(),i=this.element.height(),s=0,r=[];for(this._isColumn?i-=n:o-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(i*(this.contentItems[t].config.height/100)):Math.floor(o*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?i:o)-s),totalWidth:o,totalHeight:i}},_calculateRelativeSizes:function(){var t,e=0,n=[],o=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[o]?e+=this.contentItems[t].config[o]:n.push(this.contentItems[t]);if(100===Math.round(e))return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints();if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[o]=(100-e)/n.length;return this._respectItemWidthConstraints(),void this._respectItemHeightConstraints()}if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[o]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[o]=this.contentItems[t].config[o]/e*100;this._respectItemWidthConstraints(),this._respectItemHeightConstraints()},_respectItemWidthConstraints:function(){var t,e,n,o,i,s,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,a=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemWidth||32767,c=[],l=[],d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isColumn||!r||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),a=Math.min(a,t.totalWidth);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.width(),n=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxWidth(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinWidth(),i=Math.min(void 0===n?a:n,t.totalWidth),m=void 0===o?r:o;g<m?(h+=m-g,s={maxWidth:i,minWidth:m,width:m}):(d+=Math.min(g,i)-m,s={maxWidth:i,minWidth:m,width:g},c.push(s)),g>i?(u+=g-i,s.width=i):(p+=i-Math.max(g,m),l.push(s)),v.push(s)}const _=0===h||h>d,C=0===u||u>p;if(_&&C)return!0;if(!_)for(e=h/d,m=h,y=0;y<c.length;y++)s=c[y],m-=o=Math.round((s.width-s.minWidth)*e),s.width-=o;if(!C)for(n=u/p,f=u,y=0;y<l.length;y++)s=l[y],f-=i=Math.round((s.maxWidth-s.width)*n),s.width+=i;for(_||0!==m&&(v[v.length-1].width-=m),C||0!==f&&(v[v.length-1].width+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.width=v[y].width/t.totalWidth*100;return!1},_respectItemHeightConstraints:function(){var t,e,n,o,i,s=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemHeight||0,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.maxItemHeight||32767,a=[],c=[],l=0,d=0,h=0,u=0,p=0,m=0,f=0,g=0,w=null,v=[];if(this._isRow||!s||this.contentItems.length<=1)return;t=this._calculateAbsoluteSizes(),r=Math.min(t.totalHeight,r);for(var y=0;y<this.contentItems.length;y++){w=this.contentItems[y],g=t.itemSizes[y];const e=w.config.workspacesConfig.pinnedSize||w.element.height(),n=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMaxHeight(),o=w.config.workspacesConfig.isPinned&&!this._layoutManager._ignorePinned?e:w.getMinHeight(),p=Math.min(void 0===n?r:n,t.totalHeight),m=void 0===o?s:o;g<m?(d+=m-g,i={maxHeight:p,minHeight:m,height:m}):(l+=Math.min(g,p)-m,i={maxHeight:p,minHeight:m,height:g},a.push(i)),g>p?(h+=g-p,i.height=p):(u+=p-Math.max(g,m),c.push(i)),v.push(i)}const _=0===d||d>l,C=0===h||h>u;if(_&&C)return!0;if(!_)for(e=d/l,p=d,y=0;y<a.length;y++)i=a[y],p-=m=Math.round((i.height-s)*e),i.height-=m;if(!C)for(n=h/u,f=h,y=0;y<c.length;y++)i=c[y],f-=o=Math.round((i.maxHeight-i.height)*n),i.height+=o;for(_||0!==p&&(v[v.length-1].height-=p),C||0!==f&&(v[v.length-1].height+=f),y=0;y<this.contentItems.length;y++)this.contentItems[y].config.height=v[y].height/t.totalHeight*100;return!1},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,o=0;o<t.length;++o)e=Math.max(t[o].getMinWidth()||0,e),n=Math.max(t[o].getMinHeight()||0,n);return{horizontal:e,vertical:n}},_getMaximumDimensions:function(t){for(var e=32767,n=32767,o=0;o<t.length;++o)e=Math.min(t[o].getMaxWidth()||0,e),n=Math.min(t[o].getMaxHeight()||0,n);return{horizontal:e,vertical:n}},_setMinMaxSplitterPosition(t){const e=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],n=this.layoutManager.config.dimensions[this.isColumn?\"maxItemHeight\":\"maxItemWidth\"];var o=this._getMinimumDimensions([...t.before.contentItems,t.before]),i=this._getMaximumDimensions([...t.before.contentItems,t.before]),s=this._isColumn?o.vertical:o.horizontal,r=this.isColumn?i.vertical:i.horizontal,a=this._getMinimumDimensions([...t.after.contentItems,t.after]),c=this._getMaximumDimensions([...t.after.contentItems,t.after]),l=this._isColumn?a.vertical:a.horizontal,d=this.isColumn?c.vertical:c.horizontal,h=-1*(t.before.element[this._dimension]()-(s||e)),u=-1*((d||n)-t.after.element[this._dimension]()),p=(r||n)-t.before.element[this._dimension](),m=t.after.element[this._dimension]()-(l||e);this._splitterPosition=0,this._splitterMinPosition=Math.max(h,u),this._splitterMaxPosition=Math.min(p,m)},_onSplitterDragStart:function(t){this.layoutManager._ignorePinned=!0;var e=this._getItemsForSplitter(t);this._setMinMaxSplitterPosition(e)},_onSplitterDrag:function(t,e,n){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var o=this._isColumn?n:e;o>this._splitterMinPosition&&o<this._splitterMaxPosition&&(this._splitterPosition=o,t.element.css(this._isColumn?\"top\":\"left\",o)),this._layoutManager.emit(\"splitterDragged\",t)}},_onSplitterDragStop:function(t){if(!this._layoutManager.config||!1!==this.config.workspacesConfig.allowSplitters){var e=this._getItemsForSplitter(t),o=e.before.element[this._dimension](),i=e.after.element[this._dimension](),s=(this._splitterPosition+o)/(o+i),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame((()=>{n.utils.fnBind(this.callDownwards,this,[\"setSize\"])(),this._layoutManager._ignorePinned=!1})),this._layoutManager.emit(\"splitterDragStopped\",t)}}}),n.items.Stack=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,i),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==o.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),o.header&&n.utils.copy(this._header,o.header),o.content&&o.content[0]&&o.content[0].header&&n.utils.copy(this._header,o.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),o=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(o),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(o);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},getMinWidth(){const t=this.config.workspacesConfig.minWidth||this.layoutManager.config.dimensions.minItemWidth;return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinWidth()||this.layoutManager.config.dimensions.minItemWidth)),t)},getMaxWidth(){const t=this.config.workspacesConfig.maxWidth||this.layoutManager.config.dimensions.maxItemWidth;return this.contentItems.reduce(((t,e)=>{const n=e.getMaxWidth();return Math.min(t,n||this.layoutManager.config.dimensions.maxItemWidth)}),t)},getMinHeight(){const t=this.config.workspacesConfig.minHeight||this.layoutManager.config.dimensions.minItemHeight,e=this.header.element;let n=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(n=0);return this.contentItems.reduce(((t,e)=>Math.max(t,e.getMinHeight()+n||this.layoutManager.config.dimensions.minItemHeight)),t)},getMaxHeight(){const t=this.config.workspacesConfig.maxHeight||this.layoutManager.config.dimensions.maxItemHeight,e=this.header.element;let n=e?this.realHeight(e):0;this.config.workspacesConfig.wrapper&&(n=0);return this.contentItems.reduce(((t,e)=>Math.min(t,e.getMaxHeight()+n||this.layoutManager.config.dimensions.maxItemHeight)),t)},realHeight:function(t){if(!t||!t[0])return console.log(\"returning 0\",t),0;const n=t.height();if(n>0)return n;var o=t.clone();o.css(\"visibility\",\"hidden\"),e(\"body\").append(o);var i=o.height();return o.remove(),i},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e);this.contentItems.filter((t=>t.config.workspacesConfig.isPinned)).forEach((t=>{t.tab.pin()}))}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,o,i=!0){t=this.layoutManager._$normalizeContentItem(t,this);const s=this.header._getLastIndexOfPinnedTab(),r=t.config&&t.config.workspacesConfig&&t.config.workspacesConfig.isPinned;o>=0&&o<=s&&!r&&(o=s+1),n.items.AbstractContentItem.prototype.addChild.call(this,t,o),this.childElementContainer.append(t.element),this.header.createTab(t,o),r&&t.tab.pin(o),e(this.layoutManager.container).is(\":visible\")&&i?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var o=n.utils.indexOf(t,this.contentItems);if(n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t)if(this.contentItems.length>0){const t=this._getItemToFocusAfterRemove.call(this,o);this.setActiveContentItem(t)}else this._activeContentItem=null;this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(null!==this._dropSegment){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,o,i,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,c=s&&this.parent.isColumn||r&&this.parent.isRow,l=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((o=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),o.addChild(t),t=o),c?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(l=s?\"column\":\"row\",i=this.layoutManager.createContentItem({type:l},this),this.parent.replaceChild(this,i),i.addChild(t,a?0:void 0,!0),i.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,i.callDownwards(\"setSize\"))}else this.addChild(t)}},_$highlightDropZone:function(t,e){var n,o;for(n in this._contentAreaDimensions)if((o=this._contentAreaDimensions[n].hoverArea).x1<t&&o.x2>t&&o.y1<e&&o.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)));this._dropSegment=null,this._resetHeaderDropZone(),this.layoutManager.dropTargetIndicator.highlightArea(null)},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),o=t.call(this,this.childElementContainer),i=o.x2-o.x1,s=o.y2-o.y1;return!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropHeader||!0===this.config.workspacesConfig.allowDropHeader?this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}}:this._contentAreaDimensions={},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&((!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropLeft||!0===this.config.workspacesConfig.allowDropLeft)&&(this._contentAreaDimensions.left={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x1+.25*i,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x1+.5*i,y2:o.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropTop||!0===this.config.workspacesConfig.allowDropTop)&&(this._contentAreaDimensions.top={hoverArea:{x1:o.x1+.25*i,y1:o.y1,x2:o.x1+.75*i,y2:o.y1+.5*s},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y1+.5*s}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropRight||!0===this.config.workspacesConfig.allowDropRight)&&(this._contentAreaDimensions.right={hoverArea:{x1:o.x1+.75*i,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1+.5*i,y1:o.y1,x2:o.x2,y2:o.y2}}),(!this.config.workspacesConfig||!1!==this.config.workspacesConfig.allowDrop&&!1!==this.config.workspacesConfig.allowDropBottom||!0===this.config.workspacesConfig.allowDropBottom)&&(this._contentAreaDimensions.bottom={hoverArea:{x1:o.x1+.25*i,y1:o.y1+.5*s,x2:o.x1+.75*i,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1+.5*s,x2:o.x2,y2:o.y2}})),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,o,i,s,r,a,c,l=this.header.tabs.length,d=!1;if(0===l)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<l;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(i=s.top,o=s.left,c=n.height()):(i=s.left,o=s.top,c=n.width()),t>i&&t<i+c){d=!0;break}if(!(!1===d&&t<i)){if(t<i+c/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,l),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:o,x2:o+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:o,y2:o+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t},_syncContentItemOrder:function(){const t=[];this.header.tabs.forEach((e=>{const n=Array.isArray(e.contentItem.config.id)?e.contentItem.config.id[0]:e.contentItem.config.id,o=this.contentItems.find((t=>{const e=Array.isArray(t.config.id)?t.config.id[0]:t.config.id;return n===e}));o&&t.push(o)})),this.contentItems.length===t.length&&(this.contentItems=t)},_getItemToFocusAfterRemove:function(t){for(let e=t-1;e>=0;e--){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}for(let e=t+1;e<this.contentItems.length;e++){const t=this.contentItems[e];if(!t.config.noTabHeader)return t}return this.contentItems[Math.max(t-1,0)]}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var o,i;for(o in t)t instanceof Array&&(o=parseInt(o,10)),t.hasOwnProperty(o)&&(i=this[n](o,this._keys),\"object\"==typeof t[o]?(e[i]=t[o]instanceof Array?[]:{},this._nextLevel(t[o],e[i],n)):e[i]=this[n](t[o],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var o=n.utils.indexOf(t,e);return-1===o?t:o.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}}),n.utils.TabDragListener=function(t,o){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=o||0,this._nDelay=400,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.TabDragListener.timeout=null,n.utils.TabDragListener.reorderTimeout=null,n.utils.copy(n.utils.TabDragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this.reorderTimeout=setTimeout(n.utils.fnBind((function(){this._startReorder(t)}),this),this._nDelay)}},onMouseMove:function(t){const e=this._getCoordinates(t);if(null!=this._timeout)t.preventDefault(),this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t);else if(this._inReorder){const o=this._eElement.parent()[0].getBoundingClientRect(),i=15,s=o.left-e.x>i||e.x-o.right>i,r=o.top-e.y>i||e.y-o.bottom>i;s||r?this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay):this._onReorder(t)}},onMouseUp:function(t){this._stopReorder(t),clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX))},_startDrag:function(t){this._stopReorder(t),this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_startReorder:function(t){this._inReorder=!0,this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"reorderStart\",this._nOriginalX,this._nOriginalY,t)},_onReorder:function(t){if(this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorder\",e.x,e.y)}},_stopReorder:function(t){if(clearTimeout(this.reorderTimeout),null!==this._inReorder){const e=this._getCoordinates(t);this.emit(\"reorderStop\",e.x,e.y)}this._inReorder=!1},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}})}(window.$)}));function i(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function o(n,o){var i=n instanceof Error?n:new Error(n);if(e)e(i);else{var s='[ERROR] callback-registry: User callback for key \"'+o+'\" failed: '+i.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,i){var s=n[t];return s||(s=[],n[t]=s),s.push(e),i&&setTimeout((function(){i.forEach((function(i){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(i)?e.apply(void 0,i):e.apply(void 0,[i])}catch(e){o(e,t)}}))}),0),function(){var o=n[t];o&&(0===(o=o.reduce((function(t,n,o){return n===e&&t.length===o||t.push(n),t}),[])).length?delete n[t]:n[t]=o)}},execute:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var i=n.apply(void 0,e);r.push(i)}catch(e){r.push(void 0),o(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}i.default=i;var s=i;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=t=>{if(\"component\"===t.type)return t.id?[t]:[];return[...t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]),t]};return t.reduce(((t,n)=>[...t,...e(n)]),[])},l=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},d=t=>\"___workspace___\"+t,h=t=>{if(!t||!t[0])return 0;const e=t.clone();e.css(\"visibility\",\"hidden\"),$(\"body\").append(e);const n=e.height();return e.remove(),n};var u=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return t=r(t),this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const o=this.getById(t);if(o)return o.layout=n,void(o.windows=this.mergeWindows(o.windows,e));this._idToLayout[t]={id:t,windows:e,layout:n,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}removeWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id))}getByWindowId(t){t=r(t);const e=this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))));return e||this.layouts.find((e=>!!(null==e?void 0:e.layout)&&e.layout.root.getItemsById(t)[0]))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){t=r(t);return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>{const o=n.root.getItemsById(t)[0];return\"component\"===(null==o?void 0:o.type)?e:e||o}),void 0)}getWorkspaceContext(t){var e,n,o;const i=this.getById(t);return null===(o=null===(n=null===(e=null==i?void 0:i.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===o?void 0:o.context}syncWorkspaceOrder(){const t=this.workspaceLayout.root.getItemsByType(\"stack\")[0];if(\"stack\"!==t.type)return;const e=t.contentItems.map((t=>r(t.config.id))),n={};e.forEach((t=>{n[t]=this._idToLayout[t]})),Object.keys(n).length===Object.keys(this._idToLayout).length&&(this._idToLayout=n)}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getWorkspaceTabElement(t){var e;return null===(e=this.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let n=e.windowId;if(!n){const o=t.find((t=>t.id===e.id));n=null==o?void 0:o.windowId}return Object.assign(Object.assign({},e),{windowId:n})}))}};class p{init(t){this.containerElement=$(\"\"+t)[0],this.setupEvents()}refreshTabsMaxWidth(t){const e=t.children(),n=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",n+\"px\"),Array.from(e).forEach((t=>{const e=$(t).children(\".lm_title\"),n=l(t).width;e.css(\"max-width\",.75*n+\"px\"),this.refreshTabClasses(t)}))}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes),Array.from(t.addedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e,n){const o=t.children(),i=this.visibleTabs($(t)).reduce(((t,e)=>t+this.getTabWidth(e)),0);t.css(\"max-width\",i+\"px\"),Array.from(o).forEach((t=>{const n=$(t).children(\".lm_title\"),o=l(t).width;n.css(\"max-width\",.75*o+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e));n.forEach(((t,e)=>{const o=$(t).children(\".lm_title\"),i=l(n[e]).width;o.css(\"max-width\",.75*i+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;this.isTabPinned(t)?(n.remove(\"lm_tab_mini\"),n.remove(\"lm_tab_small\")):e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\"))).map((t=>t))}isTabPinned(t){return t.classList.contains(\"lm_pinned\")}getTabWidth(t){return this.isTabPinned(t)?l(t).width:200}}const m=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");var f=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),o=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(o,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n,o;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),this.subscribeForWorkspaceContentsResize(null===(o=t[0])||void 0===o?void 0:o.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}onWorkspaceContentsResized(t){this.callbackRegistry.add(\"workspace-contents-resized\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}subscribeForWorkspaceContentsResize(t){const e=document.getElementById(\"nestHere\"+t);if(!e)return;new m((()=>{this.callbackRegistry.execute(\"workspace-contents-resized\",t)})).observe(e)}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};class g{constructor(t,e,n){this.stateResolver=t,this.windowContentItem=e,this.frameId=n}get minWidth(){return this.windowContentItem.getMinWidth()}set minWidth(t){this.windowContentItem.config.workspacesConfig.minWidth=t}get maxWidth(){return this.windowContentItem.getMaxWidth()}set maxWidth(t){this.windowContentItem.config.workspacesConfig.maxWidth=t}get minHeight(){return this.windowContentItem.getMinHeight()}set minHeight(t){this.windowContentItem.config.workspacesConfig.minHeight=t}get maxHeight(){return this.windowContentItem.getMaxHeight()}set maxHeight(t){this.windowContentItem.config.workspacesConfig.maxHeight=t}get allowExtract(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.windowContentItem.config.workspacesConfig.allowExtract=t}get showCloseButton(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.showCloseButton)||void 0===t||t}set showCloseButton(t){this.windowContentItem.config.workspacesConfig.showCloseButton=t}get isMaximized(){var t,e,n;return null!==(n=null===(e=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.isMaximized)&&void 0!==n&&n}get isSelected(){var t;return r(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent.getActiveContentItem().config.id)===r(this.windowContentItem.config.id)}get index(){var t,e;return(null===(e=null===(t=this.windowContentItem.parent)||void 0===t?void 0:t.contentItems)||void 0===e?void 0:e.indexOf(this.windowContentItem))||0}get isTabless(){var t,e,n;const o=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent;return!!(null===(n=null===(e=null==o?void 0:o.config)||void 0===e?void 0:e.workspacesConfig)||void 0===n?void 0:n.wrapper)}get summary(){return this.getSummaryCore(this.windowContentItem,r(this.windowContentItem.config.id))}get config(){var t;return null===(t=this.windowContentItem)||void 0===t?void 0:t.config}get bounds(){var t,e,n;if(!this.windowContentItem)return{};this.windowContentItem.config.workspacesConfig||(this.windowContentItem.config.workspacesConfig={});const o=null===(t=u.getByWindowId(r(this.windowContentItem.config.id)))||void 0===t?void 0:t.id;if(o&&this.stateResolver.isWorkspaceSelected(o)){const t=l(this.windowContentItem.element);return this.windowContentItem.config.workspacesConfig.cachedBounds=t,t}const i=l(this.windowContentItem.element);return 0===i.width&&0===i.height&&(null===(e=this.windowContentItem.config.workspacesConfig)||void 0===e?void 0:e.cachedBounds)?null===(n=this.windowContentItem.config.workspacesConfig)||void 0===n?void 0:n.cachedBounds:i}getSummaryCore(t,e){var n,o,i;const s=null==t?void 0:t.parent,a=\"function\"==typeof(null==s?void 0:s.getActiveContentItem)?s.getActiveContentItem():void 0,c=!a||a.config.id===t.config.id,l=void 0!==t.config.componentState.windowId,d=this.index,h=null===(n=u.getByWindowId(e))||void 0===n?void 0:n.id,{appName:p,url:m,windowId:f}=t.config.componentState,g=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:null!==(i=r(null===(o=null==g?void 0:g.config)||void 0===o?void 0:o.id))&&void 0!==i?i:r(t.config.id),config:{frameId:this.frameId,isFocused:c,isLoaded:l,positionIndex:d,workspaceId:h,windowId:f,isMaximized:this.isMaximized,appName:p,url:m,title:t.config.title,allowExtract:this.allowExtract,showCloseButton:this.showCloseButton,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height}}}getUserFriendlyParent(t){var e,n,o;return t.parent?(null===(o=null===(n=null===(e=t.parent)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesConfig)||void 0===o?void 0:o.wrapper)?this.getUserFriendlyParent(t.parent):t.parent:t}}class w{constructor(t,e,n,o){this.stateResolver=t,this.containerContentItem=e,this.frameId=n,this.workspaceId=o}get minWidth(){var t;return null!==(t=this.containerContentItem.getMinWidth())&&void 0!==t?t:20}set minWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set minWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minWidth \"+t);this.containerContentItem.config.workspacesConfig.minWidth=t}get minHeight(){var t;return null!==(t=this.containerContentItem.getMinHeight())&&void 0!==t?t:20}set minHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set minHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for minHeight \"+t);this.containerContentItem.config.workspacesConfig.minHeight=t}get maxWidth(){var t;return null!==(t=this.containerContentItem.getMaxWidth())&&void 0!==t?t:32767}set maxWidth(t){if(\"row\"===this.containerContentItem.type)throw new Error(`Cannot set maxWidth ${t} to a container of type row`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxWidth \"+t);this.containerContentItem.config.workspacesConfig.maxWidth=t}get maxHeight(){var t;return null!==(t=this.containerContentItem.getMaxHeight())&&void 0!==t?t:32767}set maxHeight(t){if(\"column\"===this.containerContentItem.type)throw new Error(`Cannot set maxHeight ${t} to a container of type column`);if(isNaN(t)||t<0)throw new Error(\"Invalued value passed for maxHeight \"+t);this.containerContentItem.config.workspacesConfig.maxHeight=t}get allowDrop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDrop)||void 0===t||t}set allowDrop(t){this.containerContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropHeader(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropHeader)||void 0===t||t}set allowDropHeader(t){this.containerContentItem.config.workspacesConfig.allowDropHeader=t}get allowDropLeft(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropLeft)||void 0===t||t}set allowDropLeft(t){this.containerContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropRight(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropRight)||void 0===t||t}set allowDropRight(t){this.containerContentItem.config.workspacesConfig.allowDropRight=t}get allowDropTop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropTop)||void 0===t||t}set allowDropTop(t){this.containerContentItem.config.workspacesConfig.allowDropTop=t}get allowDropBottom(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDropBottom)||void 0===t||t}set allowDropBottom(t){this.containerContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.containerContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtact(t)}get allowSplitters(){var t;if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Accessing allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);return null===(t=this.containerContentItem.config.workspacesConfig.allowSplitters)||void 0===t||t}set allowSplitters(t){if(\"stack\"===this.containerContentItem.config.type)throw new Error(`Setting allowSplitters of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for rows and columns`);this.containerContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showMaximizeButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showMaximizeButton)||void 0===t||t}set showMaximizeButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showMaximizeButton=t}get showEjectButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showEjectButton)||void 0===t||t}set showEjectButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showEjectButton=t}get showAddWindowButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showAddWindowButton)||void 0===t||t}set showAddWindowButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showAddWindowButton=t}get positionIndex(){var t,e;return(null===(e=null===(t=this.containerContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.contentItems.indexOf(this.containerContentItem))||0}get bounds(){var t,e,n,o;if(!this.containerContentItem)return{};this.containerContentItem.config.workspacesConfig||(this.containerContentItem.config.workspacesConfig={});const i=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=u.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id;if(i&&this.stateResolver.isWorkspaceSelected(i)){const t=l(this.containerContentItem.element);return this.containerContentItem.config.workspacesConfig.cachedBounds=t,t}const s=l(this.containerContentItem.element);return 0===s.width&&0===s.height&&(null===(n=this.containerContentItem.config.workspacesConfig)||void 0===n?void 0:n.cachedBounds)?null===(o=this.containerContentItem.config.workspacesConfig)||void 0===o?void 0:o.cachedBounds:s}get isPinned(){var t;return null!==(t=this.containerContentItem.config.workspacesConfig.isPinned)&&void 0!==t&&t}get summary(){var t,e,n;const o=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=u.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id,i=this.getUserFriendlyType((null===(n=this.containerContentItem)||void 0===n?void 0:n.type)||\"workspace\");let s={workspaceId:o,frameId:this.frameId,positionIndex:this.positionIndex,allowDrop:this.allowDrop,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,isMaximized:this.isMaximized};const a=\"window\"===i?void 0:i;return\"group\"===a&&(s=Object.assign(Object.assign({},s),{allowExtract:this.allowExtract,showMaximizeButton:this.showMaximizeButton,showEjectButton:this.showEjectButton,showAddWindowButton:this.showAddWindowButton,allowDropHeader:this.allowDropHeader,allowDropLeft:this.allowDropLeft,allowDropRight:this.allowDropRight,allowDropTop:this.allowDropTop,allowDropBottom:this.allowDropBottom})),\"group\"!==a&&(s=Object.assign(Object.assign({},s),{allowSplitters:this.allowSplitters})),{itemId:r(this.containerContentItem.config.id),type:\"window\"===i?void 0:i,config:s}}get config(){var t;const e=(u.getByContainerId(this.containerContentItem.config.id)||u.getByWindowId(r(this.containerContentItem.config.id))).layout.toConfig(),n=this.findElementInConfig(r(this.containerContentItem.config.id),e);return n.workspacesConfig.isPinned=null!==(t=n.workspacesConfig.isPinned)&&void 0!==t&&t,n}get isMaximized(){return this.containerContentItem.hasId(\"__glMaximised\")}populateChildrenAllowDrop(t){const e=n=>{n.forEach((n=>{if(\"component\"===n.type)return;new w(this.stateResolver,n,this.frameId).allowDrop=t,e(n.contentItems)}))};e(this.containerContentItem.contentItems)}populateChildrenAllowExtact(t){const e=n=>{n.forEach((n=>{if(\"component\"!==n.type){if(\"stack\"===n.type){new w(this.stateResolver,n,this.frameId).allowExtract=t}e(n.contentItems)}else{new g(this.stateResolver,n,this.frameId).allowExtract=t}}))};e(this.containerContentItem.contentItems)}populateChildrenAllowSplitters(t){const e=n=>{n.forEach((n=>{if(\"component\"===n.type||\"stack\"===n.type)return;new w(this.stateResolver,n,this.frameId).allowSplitters=t,e(n.contentItems)}))};e(this.containerContentItem.contentItems)}getUserFriendlyType(t){return\"stack\"===t?\"group\":\"root\"===t?\"workspace\":\"component\"===t?\"window\":t}findElementInConfig(t,e){const n=e=>{if(r(e.id)===t)return[e];return(e.content||[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}}class v{constructor(t,e,n,o){this.stateResolver=t,this.workspace=e,this.workspaceContentItem=n,this.frameId=o}get id(){return this.workspace.id}get title(){const t=this.workspaceContentItem;return t.config.title||t.config.componentName}get lastFocusedWindowId(){var t,e,n,o,i,s;if(!(null===(t=this.workspace)||void 0===t?void 0:t.layout))return;const a=null===(n=null===(e=this.workspace.layout.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.focusedWindowId;if(a)return a;{const t=null===(i=null===(o=this.workspace.layout.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.focusedGroupId,e=this.workspace.layout.root.getItemsById(t)[0];if(e&&\"component\"!==e.type&&e.contentItems.length){const t=e.contentItems[e.contentItems.length-1].config.id;return r(t)}}return null===(s=this.workspace.windows.filter((t=>this.stateResolver.isWindowSelected(r(t.id))))[0])||void 0===s?void 0:s.id}get isSelected(){const t=u.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.getActiveContentItem();return r(t.config.id)===this.workspace.id}get isHibernated(){return void 0!==this.workspace.hibernateConfig&&null!==typeof this.workspace.hibernateConfig}get tabIndex(){return u.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.header.tabs.findIndex((t=>r(t.contentItem.config.id)===this.workspace.id))}get isPinned(){return!!this.workspaceContentItem.tab.isPinned}get config(){const t=this.workspace;if(this.isHibernated)return t.hibernateConfig.workspacesOptions.isPinned=this.isPinned,t.hibernateConfig;const e=t.layout?t.layout.toConfig():{workspacesOptions:{},content:[],id:t.id};return e.workspacesOptions.frameId=this.frameId,e.workspacesOptions.positionIndex=this.tabIndex,e.workspacesOptions.isHibernated=this.isHibernated,e.workspacesOptions.isSelected=this.isSelected,e.workspacesOptions.allowDrop=this.allowDrop,e.workspacesOptions.allowDropLeft=this.allowDropLeft,e.workspacesOptions.allowDropTop=this.allowDropTop,e.workspacesOptions.allowDropRight=this.allowDropRight,e.workspacesOptions.allowDropBottom=this.allowDropBottom,e.workspacesOptions.allowExtract=this.allowExtract,e.workspacesOptions.showCloseButton=this.showCloseButton,e.workspacesOptions.showSaveButton=this.showSaveButton,e.workspacesOptions.allowSplitters=this.allowSplitters,e.workspacesOptions.showAddWindowButtons=this.showAddWindowButtons,e.workspacesOptions.showEjectButtons=this.showEjectButtons,e.workspacesOptions.showWindowCloseButtons=this.showWindowCloseButtons,e.workspacesOptions.minWidth=Math.max(this.minWidth,20),e.workspacesOptions.maxWidth=Math.min(this.maxWidth,32767),e.workspacesOptions.minHeight=Math.max(this.minHeight,20),e.workspacesOptions.maxHeight=Math.min(this.maxHeight,32767),e.workspacesOptions.widthInPx=this.bounds.width,e.workspacesOptions.heightInPx=this.bounds.height,e.workspacesOptions.isPinned=this.isPinned,e.workspacesOptions.icon=this.icon,e.workspacesOptions.lastActive=t.lastActive,e.workspacesOptions.title||(e.workspacesOptions.title=u.getWorkspaceTitle(t.id)),e.workspacesOptions.name=e.workspacesOptions.name||e.workspacesOptions.title,this.transformComponentsToWindowSummary(e),this.transformParentsToContainerSummary(e),e}get summary(){const t=this.config,e=this.tabIndex,n={frameId:this.frameId,positionIndex:e,title:t.workspacesOptions.title||t.title,name:t.workspacesOptions.name||u.getWorkspaceTitle(this.workspace.id),layoutName:t.workspacesOptions.layoutName,isHibernated:this.isHibernated,isSelected:this.isSelected,lastActive:this.workspace.lastActive,allowDrop:this.allowDrop,allowDropLeft:this.allowDropLeft,allowDropTop:this.allowDropTop,allowDropRight:this.allowDropRight,allowDropBottom:this.allowDropBottom,allowExtract:this.allowExtract,allowSplitters:this.allowSplitters,showCloseButton:this.showCloseButton,showSaveButton:this.showSaveButton,showAddWindowButtons:this.showAddWindowButtons,showEjectButtons:this.showEjectButtons,showWindowCloseButtons:this.showWindowCloseButtons,minWidth:this.minWidth,maxWidth:this.maxWidth,minHeight:this.minHeight,maxHeight:this.maxHeight,widthInPx:this.bounds.width,heightInPx:this.bounds.height,isPinned:this.isPinned,icon:this.icon};return t.workspacesOptions.layoutName&&(n.layoutName=t.workspacesOptions.layoutName),{config:n,id:this.workspace.id}}get allowDrop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDrop\"))||void 0===t||t}set allowDrop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDrop=t),this.workspaceContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropLeft(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropLeft\"))||void 0===t||t}set allowDropLeft(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropLeft=t),this.workspaceContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropTop(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropTop\"))||void 0===t||t}set allowDropTop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropTop=t),this.workspaceContentItem.config.workspacesConfig.allowDropTop=t}get allowDropRight(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropRight\"))||void 0===t||t}set allowDropRight(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropRight=t),this.workspaceContentItem.config.workspacesConfig.allowDropRight=t}get allowDropBottom(){var t;return null===(t=this.getPropertyFromConfig(\"allowDropBottom\"))||void 0===t||t}set allowDropBottom(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropBottom=t),this.workspaceContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;return null===(t=this.getPropertyFromConfig(\"allowExtract\"))||void 0===t||t}set allowExtract(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowExtract=t),this.workspaceContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowSplitters(){var t;return null===(t=this.getPropertyFromConfig(\"allowSplitters\"))||void 0===t||t}set allowSplitters(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowSplitters=t),this.workspaceContentItem.config.workspacesConfig.allowSplitters=t,this.populateChildrenAllowSplitters(t)}get showSaveButton(){var t;return null===(t=this.getPropertyFromConfig(\"showSaveButton\"))||void 0===t||t}set showSaveButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showSaveButton=t),this.workspaceContentItem.config.workspacesConfig.showSaveButton=t}get showCloseButton(){var t;return null===(t=this.getPropertyFromConfig(\"showCloseButton\"))||void 0===t||t}set showCloseButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showCloseButton=t),this.workspaceContentItem.config.workspacesConfig.showCloseButton=t}get showAddWindowButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showAddWindowButtons\"))||void 0===t||t}set showAddWindowButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showAddWindowButtons=t),this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons=t,this.populateChildrenShowAddWindowButtons(t)}get showEjectButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showEjectButtons\"))||void 0===t||t}set showEjectButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showEjectButtons=t),this.workspaceContentItem.config.workspacesConfig.showEjectButtons=t,this.populateChildrenShowEjectButtons(t)}get showWindowCloseButtons(){var t;return null===(t=this.getPropertyFromConfig(\"showWindowCloseButtons\"))||void 0===t||t}set showWindowCloseButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showWindowCloseButtons=t),this.workspaceContentItem.config.workspacesConfig.showWindowCloseButtons=t,this.populateChildrenShowWindowCloseButtons(t)}get minWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinWidth())&&void 0!==e?e:20}get maxWidth(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxWidth())&&void 0!==e?e:32767}get minHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMinHeight())&&void 0!==e?e:20}get maxHeight(){var t,e;return(null===(t=this.workspace)||void 0===t?void 0:t.layout)&&null!==(e=this.workspace.layout.root.getMaxHeight())&&void 0!==e?e:32767}get bounds(){return this.isSelected?l(this.workspaceContentItem.element):l(this.workspaceContentItem.element[0].parentElement)}get hasMaximizedItems(){const t=this.workspace.layout;if(!t)return!1;return t.root.getItemsById(\"__glMaximised\").length>0}get icon(){return this.getPropertyFromConfig(\"icon\")}set icon(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.icon=t),this.workspaceContentItem.config.workspacesConfig.icon=t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.stateResolver.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.stateResolver.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}populateChildrenAllowDrop(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"===e.type)return;new w(this.stateResolver,e,this.frameId,this.workspace.id).allowDrop=t,e.contentItems.forEach((t=>{n(t)}))};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenAllowSplitters(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"===e.type||\"stack\"===e.type)return;new w(this.stateResolver,e,this.frameId,this.workspace.id).allowSplitters=t,e.contentItems.forEach((t=>{n(t)}))};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenAllowExtract(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).allowExtract=t}e.contentItems.forEach((t=>{n(t)}))}else{new g(this.stateResolver,e,this.frameId).allowExtract=t}};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenShowAddWindowButtons(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).showAddWindowButton=t}e.contentItems.forEach((t=>{n(t)}))}};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenShowEjectButtons(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new w(this.stateResolver,e,this.frameId,this.workspace.id).showEjectButton=t}e.contentItems.forEach((t=>{n(t)}))}};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenShowWindowCloseButtons(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type)e.contentItems.forEach((t=>{n(t)}));else{new g(this.stateResolver,e,this.frameId).showCloseButton=t}};e.root.contentItems.forEach((t=>{n(t)}))}getPropertyFromConfig(t){var e;let n;return n=(null===(e=this.workspace)||void 0===e?void 0:e.layout)?this.workspace.layout.config.workspacesOptions[t]:this.workspaceContentItem.config.workspacesConfig[t],n}}class y{constructor(){this.hibernatedWorkspaceIconLabel=\"hibernated\"}showWorkspaceSaveButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").show()}hideWorkspaceSaveButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").hide()}showWorkspaceIconButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e||e.element.hasClass(y.HibernationIconClass))return;const n=e.element.children(\".lm_iconButton\");n.css(\"display\",\"flex\"),n.show();e.element.find(\".lm_iconButtonContent\").css(\"-webkit-mask-image\",`url(\"${t.icon}\")`)}hideWorkspaceIconButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);e&&!e.element.hasClass(y.HibernationIconClass)&&e.element.children(\".lm_iconButton\").hide()}replaceWorkspaceSaveButtonWithIcon(t){this.hideWorkspaceSaveButton(t),this.showWorkspaceIconButton(t)}replaceWorkspaceIconButtonWithSave(t){this.hideWorkspaceIconButton(t),this.showWorkspaceSaveButton(t)}hideHibernatedIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_saveButton\").removeClass(y.HibernationIconClass)}showHibernationIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;const n=e.element.children(\".lm_saveButton\");n.is(\":visible\")||n.show(),n.addClass(y.HibernationIconClass),n.attr(\"title\",this.hibernatedWorkspaceIconLabel)}showSaveIcon(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId),n=u.getById(t.workspaceId);if(!e)return;const o=e.element.children(\".lm_saveButton\");o.removeClass(y.HibernationIconClass),o.attr(\"title\",y.SaveWorkspaceButtonLabel),n.layout&&!1===n.layout.config.workspacesOptions.showSaveButton&&o.hide()}showWorkspaceCloseButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").show()}hideWorkspaceCloseButton(t){const e=t.workspaceTab||u.getWorkspaceTabElement(t.workspaceId);if(!e)return;e.element.children(\".lm_close_tab\").hide()}addInvisibleStyle(t){const e=document.createElement(\"style\");e.type=\"text/css\",e.innerHTML=`.lm_content.transparent-color { background-color: ${t}; }`,document.getElementsByTagName(\"head\")[0].appendChild(e)}makeContentInvisible(){$(\".lm_item_container .lm_content .lm_item_container .lm_content\").addClass(\"transparent-color\")}showWindowCloseButton(t){let e;e=\"string\"==typeof t?u.getWindowContentItem(t):t,e.tab.closeElement.show()}hideWindowCloseButton(t){let e;e=\"string\"==typeof t?u.getWindowContentItem(t):t,e.tab.closeElement.hide()}showMaximizeButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show maximize button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");n&&n.show()}hideMaximizeButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide maximize button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");n&&n.hide()}showEjectButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show eject button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_popout\");n&&n.show()}hideEjectButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide eject button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_popout\");n&&n.hide()}showAddWindowButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show add window button of ${e.type} ${e.config.id}`);if(!1===e.config.workspacesConfig.showAddWindowButton)return;const n=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");n&&n.show()}hideAddWindowButton(t){let e;if(e=\"string\"==typeof t?u.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide add window button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");n&&n.hide()}showWindowCloseButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.showWindowCloseButton(r(t.config.id))}))}hideWindowCloseButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"component\").forEach((t=>{this.hideWindowCloseButton(r(t.config.id))}))}showEjectButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showEjectButton(r(t.config.id))}))}hideEjectButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideEjectButton(r(t.config.id))}))}showAddWindowButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.showAddWindowButton(r(t.config.id))}))}hideAddWindowButtons(t){const e=u.getById(t);if(!(null==e?void 0:e.layout))return;e.layout.root.getItemsByType(\"stack\").forEach((t=>{this.hideAddWindowButton(r(t.config.id))}))}waitForTransition(t){return this.hasTransition(t)?new Promise((e=>{let n=()=>{};const o=o=>{o.pseudoElement||o.path[0]!==t||(e(),n())},i=o=>{o.pseudoElement||o.path[0]!==t||(e(),n())};n=()=>{t.removeEventListener(\"transitionend\",o),t.removeEventListener(\"transitioncancel\",i)},t.addEventListener(\"transitionend\",o),t.addEventListener(\"transitioncancel\",i)})):Promise.resolve()}hasTransition(t){return\"all 0s ease 0s\"!==window.getComputedStyle(t,null).getPropertyValue(\"transition\")}}y.HibernationIconClass=\"lm_hibernationIcon\",y.SaveWorkspaceButtonLabel=\"save\";var _=new y;const C=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class I{constructor(t,e,n,o){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this.getImmediateChildEmptyWindow=t=>\"component\"===t.type?\"emptyVisibleWindow\"===t.config.componentName?t:void 0:\"stack\"===t.type?t.getComponentsByName(\"emptyVisibleWindow\")[0]:t.contentItems.reduce(((t,e)=>t||(\"component\"===e.type?\"emptyVisibleWindow\"===e.config.componentName?e:void 0:e.contentItems.find((t=>\"component\"===t.type&&\"emptyVisibleWindow\"===t.config.componentName)))),void 0),this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=o}get emitter(){return this._emitter}get bounds(){return l(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId,this._showLoadingIndicator=e.showLoadingIndicator,this._tabObserver=new p,this._tabObserver.init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config,!1),this.emitter.raiseEvent(\"workspace-added\",{workspace:u.getById(e.id)})}))))),this.setupOuterLayout(),u.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(u.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=u.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e,!0));const o=t.layout._maximizedItem;o&&o.toggleMaximise();let i=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(i=t.layout.root.getItemsById(n)[0]),i||(i=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:l,url:d,appName:h}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const p=this.getImmediateChildEmptyWindow(i),m=u.getWorkspaceContentItem(t.id),f=new v(this._stateResolver,t,m,this._frameId);if(\"component\"===e.type)this.applyLockConfig(e,i,f,n===t.id);else{[...c(e.content),e].forEach((e=>{this.applyLockConfig(e,i,f,n===t.id)}))}return new Promise((n=>{var o,c;const l=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(l(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),p&&p.parent&&!(null===(o=p.parent.config.workspacesConfig)||void 0===o?void 0:o.wrapper)){const n=this._configFactory.wrapInGroup([e]);n.workspacesConfig.wrapper=!1;const o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]])}return n}((null===(c=p.parent.config)||void 0===c?void 0:c.workspacesConfig)||{},[\"wrapper\"]);return n.workspacesConfig=Object.assign(Object.assign({},n.workspacesConfig),o),p.parent.parent.replaceChild(p.parent,n),void(t.windows=t.windows.filter((t=>t.id!==r(p.config.id))))}if(p)return p.parent.replaceChild(p,e),void(t.windows=t.windows.filter((t=>t.id!==r(p.config.id))));i.addChild(e)}))}))}addContainer(e,n){var o;return t(this,void 0,void 0,(function*(){const t=u.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e,!0),r(n)}const i=t.layout._maximizedItem;i&&i.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),e.content){const o=[...c(e.content),e],i=u.getWorkspaceContentItem(t.id),r=new v(this._stateResolver,t,i,this._frameId);o.forEach((e=>{this.applyLockConfig(e,s,r,n===t.id)}))}if(\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const l=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),d=(null===(o=null==l?void 0:l.contentItems[0])||void 0===o?void 0:o.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,o)=>{let i=()=>{};const a=setTimeout((()=>{i(),o(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(i=this.emitter.onContentItemCreated(((o,s)=>{o===t.id&&s.type===e.type&&(n(r(s.config.id)),i(),clearTimeout(a))})),1===(null==l?void 0:l.contentItems.length)&&d){const n=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.windows=t.windows.filter((t=>t.id!==n.config.id)),n.parent.replaceChild(n,e)}else s.addChild(e)}))}))}closeContainer(t){const e=u.getByContainerId(t)||u.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);const n=e.layout.root.getItemsById(t)[0];n.parent.isRoot?this.resetWorkspace(e.id):n.remove()}bundleWorkspace(t,e){const n=u.getById(t),o=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),i=n.layout.root.contentItems[0],s={type:e,content:o,workspacesConfig:{}};n.layout.root.replaceChild(i,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var o,i,s,r;return t(this,void 0,void 0,(function*(){const t=u.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],a={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:Object.assign({},n.workspacesOptions),id:e,noTabHeader:null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.noTabHeader,title:(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.title)||this._configFactory.getWorkspaceTitle(u.workspaceTitles)};let c=!0;!0===a.noTabHeader?c=!1:\"boolean\"==typeof n.workspacesOptions.selected&&(c=n.workspacesOptions.selected),this.registerWorkspaceComponent(e);const l=null===(s=n.workspacesOptions)||void 0===s?void 0:s.positionIndex;if(null===(r=n.workspacesOptions)||void 0===r||delete r.positionIndex,l<0)throw new Error(`Cannot place the workspace on index ${l} because its negative`);const d=t.header._getLastIndexOfPinnedTab();if(l<=d&&!n.workspacesOptions.isPinned)throw new Error(\"Cannot place and unpinned workspace before the last pinned workspace at position \"+d);t.addChild(a,l,c),yield this.initWorkspaceContents(e,n,!1);const h=u.getWorkspaceContentItem(e),p=new v(this._stateResolver,u.getById(e),h,this._frameId);!1===p.showCloseButton&&_.hideWorkspaceCloseButton({workspaceTab:h.tab}),!1===p.showSaveButton&&_.hideWorkspaceSaveButton({workspaceTab:h.tab}),p.isPinned&&(_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:h.tab,icon:p.icon}),_.waitForTransition(h.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(h.parent.header.tabsContainer)}))),this.setupContentLayouts(e)}))}reinitializeWorkspace(t,e){var n;return u.removeLayout(t),(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,this.initWorkspaceContents(t,e,!1)}removeWorkspace(t){const e=u.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could not find workspace to remove with id \"+t);u.removeById(t),e.remove()}resetWorkspace(e){return t(this,void 0,void 0,(function*(){const n=u.getById(e);n.hibernatedWindows=[],n.windows.filter((t=>t.appName||t.windowId)).map((e=>t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(e.id);t&&this.emitter.raiseEvent(\"tab-close-requested\",{item:t})}))));n.layout.root.getItemsByType(\"component\").forEach((t=>{t.remove()})),u.removeLayout(n.id),this.showAddButton(n.id)}))}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const o=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];o.setAttribute(\"width\",t+\"px\"),o.setAttribute(\"height\",e+\"px\"),o.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((o=>{let i;Array.from(o).forEach((t=>{const e=$(t.addedNodes);i||(i=e.find(\".lm_dragProxy\"))})),i&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return u.layouts.filter((t=>t.layout)).forEach((n=>{const o=n.layout.root.getItemsById(t)[0];o&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),o.remove(),e=n)})),e}setWindowTitle(t,e){const n=u.getWindowContentItem(t);if(!n)throw new Error(`Could not find window ${t} to change its title to ${e}`);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){u.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.setActiveContentItem(n)}focusWorkspace(t){const e=u.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0],o=u.getById(n.layoutManager.root.config.id);if(new v(this._stateResolver,o,void 0,this._frameId).hasMaximizedItems&&!n.parent.hasId(this._maximizedId))throw new Error(`Could not maximize window ${t}, because workspace ${o.id} contains another maximized item`);n.parent.hasId(this._maximizedId)||n.parent.toggleMaximise()}restoreWindow(t){const e=u.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)&&n.parent.toggleMaximise()}maximizeContainer(t){const e=u.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);const n=u.getById(e.layoutManager.root.config.id);if(new v(this._stateResolver,n,void 0,this._frameId).hasMaximizedItems&&!e.hasId(\"__glMaximised\"))throw new Error(`Could not maximize container ${t}, because workspace ${n.id} contains another maximized item`);e.hasId(\"__glMaximised\")||e.layoutManager._$maximiseItem(e)}restoreContainer(t){const e=u.getContainer(t);if(!e)throw new Error(`Could not find item ${t} in frame ${this._frameId}`);e.hasId(\"__glMaximised\")&&e.layoutManager._$minimiseItem(e)}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=u.getWindowContentItem(e),o=u.getByWindowId(e),i=t.config;i.componentState.windowId=n,o.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,i)}))}isWindowVisible(t){t=r(t);const e=u.getWindowContentItem(t).parent;return 1===e.contentItems.length||e.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const n=null===(e=u.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return;const o=n.element.children(\".lm_saveButton\");o.addClass(\"lm_hibernationIcon\"),o.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const n=null===(e=u.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return void console.error(\"Could not find the tab for\",t);const o=n.element.children(\".lm_saveButton\");o.removeClass(\"lm_hibernationIcon\"),o.attr(\"title\",\"save\")}hideLoadingIndicator(t){const e=u.getWindowContentItem(t);if(null==e?void 0:e.tab){const t=e.tab.element[0].getElementsByClassName(\"lm_hibernationIcon\")[0];null==t||t.remove()}}refreshWorkspaceSize(t){const e=document.getElementById(\"nestHere\"+t),n=u.getById(t);if(e&&n.layout){const t=l(e);n.layout.updateSize(t.width,t.height)}}enableWorkspaceDrop(t,e){const n=u.getWorkspaceContentItem(t),o=u.getById(t),i=new v(this._stateResolver,o,n,this._frameId);i.allowDrop=e.allowDrop,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}disableWorkspaceDrop(t,e){const n=u.getWorkspaceContentItem(t),o=u.getById(t),i=new v(this._stateResolver,o,n,this._frameId);i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}enableWorkspaceSaveButton(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t),o=new v(this._stateResolver,e,n,this._frameId);o.showSaveButton=!0,o.isPinned||_.showWorkspaceSaveButton({workspaceTab:n.tab})}disableWorkspaceSaveButton(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showSaveButton=!1,_.hideWorkspaceSaveButton({workspaceTab:n.tab})}enableWorkspaceCloseButton(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t),o=new v(this._stateResolver,e,n,this._frameId);o.showCloseButton=!0,o.isPinned||_.showWorkspaceCloseButton({workspaceTab:n.tab})}disableWorkspaceCloseButton(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showCloseButton=!1,_.hideWorkspaceCloseButton({workspaceTab:n.tab})}enableSplitters(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).allowSplitters=!0}disableSplitters(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).allowSplitters=!1}enableWorkspaceExtract(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).allowExtract=!0}disableWorkspaceExtract(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).allowExtract=!1}enableWorkspaceWindowCloseButtons(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showWindowCloseButtons=!0,_.showWindowCloseButtons(t)}disableWorkspaceWindowCloseButtons(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showWindowCloseButtons=!1,_.hideWindowCloseButtons(t)}enableWorkspaceEjectButtons(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showEjectButtons=!0,_.showEjectButtons(t)}disableWorkspaceEjectButtons(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showEjectButtons=!1,_.hideEjectButtons(t)}enableWorkspaceAddWindowButtons(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showAddWindowButtons=!0,_.showAddWindowButtons(t)}disableWorkspaceAddWindowButtons(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).showAddWindowButtons=!1,_.hideAddWindowButtons(t)}enableWindowExtract(t,e){const n=u.getWindowContentItem(t);new g(this._stateResolver,n,this._frameId).allowExtract=e}disableWindowExtract(t){const e=u.getWindowContentItem(t);new g(this._stateResolver,e,this._frameId).allowExtract=!1}enableWindowCloseButton(t,e){const n=u.getWindowContentItem(t);new g(this._stateResolver,n,this._frameId).showCloseButton=e;const o=u.getByWindowId(t),i=u.getWorkspaceContentItem(o.id);new v(this._stateResolver,o,i,this._frameId).showCloseButton&&_.showWindowCloseButton(t)}disableWindowCloseButton(t){const e=u.getWindowContentItem(t);new g(this._stateResolver,e,this._frameId).showCloseButton=!1,_.hideWindowCloseButton(t)}enableColumnDrop(t,e){const n=u.getContainer(t);if(\"column\"!==n.type)throw new Error(`Expected item with type column but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).allowDrop=e}disableColumnDrop(t){const e=u.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowDrop=!1}enableRowDrop(t,e){const n=u.getContainer(t);if(\"row\"!==n.type)throw new Error(`Expected item with type row but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).allowDrop=e}disableRowDrop(t){const e=u.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowDrop=!1}enableColumnSplitters(t,e){const n=u.getContainer(t);if(\"column\"!==n.type)throw new Error(`Expected item with type column but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).allowSplitters=e}disableColumnSplitters(t){const e=u.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowSplitters=!1}enableRowSplitters(t,e){const n=u.getContainer(t);if(\"row\"!==n.type)throw new Error(`Expected item with type row but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).allowSplitters=e}disableRowSplitters(t){const e=u.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowSplitters=!1}enableGroupDrop(t,e){const n=u.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);const o=new w(this._stateResolver,n,this._frameId);o.allowDrop=e.allowDrop,o.allowDropHeader=e.allowDropHeader,o.allowDropLeft=e.allowDropLeft,o.allowDropTop=e.allowDropTop,o.allowDropRight=e.allowDropRight,o.allowDropBottom=e.allowDropBottom}disableGroupDrop(t,e){const n=u.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);const o=new w(this._stateResolver,n,this._frameId);o.allowDrop=!1,o.allowDropHeader=e.allowDropHeader,o.allowDropLeft=e.allowDropLeft,o.allowDropTop=e.allowDropTop,o.allowDropRight=e.allowDropRight,o.allowDropBottom=e.allowDropBottom}enableGroupMaximizeButton(t,e){const n=u.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).showMaximizeButton=e,_.showMaximizeButton(t)}disableGroupMaximizeButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showMaximizeButton=!1,_.hideMaximizeButton(t)}enableGroupEjectButton(t,e){const n=u.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).showEjectButton=e,_.showEjectButton(t)}disableGroupEjectButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showEjectButton=!1,_.hideEjectButton(t)}enableGroupAddWindowButton(t,e){const n=u.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).showAddWindowButton=e,_.showAddWindowButton(t)}disableGroupAddWindowButton(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).showAddWindowButton=!1,_.hideAddWindowButton(t)}enableGroupExtract(t,e){const n=u.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new w(this._stateResolver,n,this._frameId).allowExtract=e}disableGroupExtract(t){const e=u.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new w(this._stateResolver,e,this._frameId).allowExtract=!1}resizeRow(t,e){const n=t.getItemsByType(\"component\")[0];let o=this.validateRowHeight(t,e);if(o){if(\"number\"==typeof e){o-=h(n.parent.header.element)}this.resizeComponentCore(n,void 0,o)}}resizeColumn(t,e){const n=t.getItemsByType(\"component\")[0],o=this.validateColumnWidth(t,e);o&&this.resizeComponentCore(n,o)}resizeStack(t,e,n){const o=this.validateStackWidth(t,e);let i=this.validateStackHeight(t,n);const s=t.getItemsByType(\"component\")[0];if(\"number\"==typeof i){i-=h(s.parent.header.element)}this.resizeComponentCore(s,o,i)}resizeComponent(t,e,n){this.resizeComponentCore(t,e,n)}togglePinWorkspace(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);new v(this._stateResolver,e,n,this._frameId).isPinned?this.unpinWorkspace(t):this.pinWorkspace(t,void 0)}pinWorkspace(t,e){const n=u.getWorkspaceContentItem(t),o=new v(this._stateResolver,u.getById(t),n,this._frameId),i=e||o.icon;if(!i)throw new Error(`Workspace ${t} cannot be pinned because ${i} is an invalid icon`);n.tab.pin(),e&&(o.icon=e),_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:n.tab,icon:i}),_.waitForTransition(n.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(n.parent.header.tabsContainer)}))}unpinWorkspace(t){const e=u.getWorkspaceContentItem(t),n=new v(this._stateResolver,u.getById(t),e,this._frameId);e.tab.unpin(),n.showSaveButton&&_.showWorkspaceSaveButton({workspaceTab:e.tab}),n.showCloseButton||_.hideWorkspaceCloseButton({workspaceTab:e.tab}),_.hideWorkspaceIconButton({workspaceTab:e.tab}),_.waitForTransition(e.tab.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(e.parent.header.tabsContainer)}))}resizeComponentCore(t,e,n){const o=this.validateComponentWidth(t,e),i=this.validateComponentHeight(t,n);if(\"number\"==typeof o){const e=t.container.setSize(o,void 0);if(t.container.setSize(o,void 0),!e)throw new Error(`Failed to resize window ${t.config.id} to ${o} width.\\n                 This is most likely caused by a missing row parent element - to change the width please make sure that there is a row element`)}if(\"number\"==typeof i){const e=t.container.setSize(void 0,i);if(t.container.setSize(void 0,i),!e)throw new Error(`Failed to resize component ${t.config.id} to ${i} height.\\n                     This is most likely caused by a missing column parent element - to change the height please make sure that there is a column element`)}}validateRowHeight(t,e){if(!e)return;const n=t.parent,o=n.getMaxHeight(),i=t.getMaxHeight(),s=t.getMinHeight(),r=l(n.element).height,a=r-n.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinHeight()),0);if(a<=0)return;const c=n.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxHeight()),0),d=Math.max(r-c,0),h=Math.min(o,i,a),u=Math.max(d,s);return h<u?void 0:Math.min(Math.max(u,e),h)}validateColumnWidth(t,e){if(!e)return;const n=t.parent,o=n.getMaxWidth(),i=t.getMaxWidth(),s=t.getMinWidth(),r=l(n.element).width,a=r-n.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMinWidth()),0);if(a<=0)return;const c=n.contentItems.filter((e=>e!==t)).reduce(((t,e)=>t+=e.getMaxWidth()),0),d=Math.max(r-c,0),h=Math.min(o,i,a),u=Math.max(d,s);return h<u?void 0:Math.min(Math.max(u,e),h)}validateStackHeight(t,e){if(!e)return;const n=t.getMaxHeight(),o=t.getMinHeight();return n<o?void 0:Math.min(Math.max(o,e),n)}validateStackWidth(t,e){if(!e)return;const n=t.getMaxWidth(),o=t.getMinWidth();return n<o?void 0:Math.min(Math.max(o,e),n)}validateComponentHeight(t,e){if(!e)return;const n=t.getMaxHeight(),o=t.getMinHeight();return n<o?void 0:Math.min(Math.max(o,e),n)}validateComponentWidth(t,e){if(!e)return;const n=t.getMaxWidth(),o=t.getMinWidth();return n<o?void 0:Math.min(Math.max(o,e),n)}initWorkspaceContents(t,e,n){if(!e||\"component\"!==e.type&&!e.content.length)return u.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const i=((t,e)=>{let n,o,i=0;const s=setTimeout((()=>{o()}),e||1e4);return{reject:t=>{clearTimeout(s),o(t)},signal:()=>{i++,i>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,o=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[e]});const s=u.getWorkspaceContentItem(t),c=s.config.workspacesConfig,d=e.workspacesOptions,h=n?Object.assign({},c,d):d;\"boolean\"==typeof h.selected&&delete h.selected,s.config.workspacesConfig=h,e.workspacesOptions=h;const p=new o(e,$(\"#nestHere\"+t));u.addOrUpdate(t,[]),this.registerEmptyWindowComponent(p,t),a(e.content).forEach((t=>{this.registerWindowComponent(p,r(t.id))}));const m=$(\"#nestHere\"+t);return new C((()=>{this.emitter.raiseEvent(\"workspace-container-resized\",{workspaceId:t})})).observe(m[0]),p.on(\"initialised\",(()=>{const e=a(p.toConfig().content);u.addOrUpdate(t,e.map((t=>{const e=p.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:l(e),windowId:t.componentState.windowId}})),p),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:p});const n=m.width(),o=m.height();p.updateSize(n,o),i.signal()})),p.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),p.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=u.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=l(e.element));const o=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(o)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId()),\"row\"!==e.type&&\"column\"!==e.type&&\"stack\"!==e.type||(e.on(\"maximized\",(()=>{this.emitter.raiseEvent(\"container-maximized\",{container:e})})),e.on(\"minimized\",(()=>{this.emitter.raiseEvent(\"container-restored\",{container:e})})))}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),p.on(\"stackCreated\",(e=>{const n=new w(this._stateResolver,e,this._frameId),o=document.createElement(\"li\");o.classList.add(\"lm_add_button\"),o.onclick=n=>{n.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:l(o)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),!1===n.showMaximizeButton&&_.hideMaximizeButton(e),!1===p.config.workspacesOptions.showEjectButtons&&!0!==n.showEjectButton&&_.hideAddWindowButton(e),!1===n.showEjectButton&&_.hideEjectButton(e),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel)})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel)})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(o)),!1===p.config.workspacesOptions.showAddWindowButtons&&!0!==n.showAddWindowButton&&_.hideAddWindowButton(e),!1===n.showAddWindowButton&&_.hideAddWindowButton(e),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,o=[{id:r(t.config.id),bounds:l(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],i=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const o={id:r(n.id),bounds:l(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(o)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:i,toFront:o})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),p.on(\"tabCreated\",(t=>{if(t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragStop\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.on(\"mousedown\",(()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t),this._showLoadingIndicator&&\"component\"===(null==t?void 0:t.contentItem.type)&&!this._stateResolver.isWindowLoaded(t.contentItem.config.id)){const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\",\"lm_hibernationIcon\"),t.element[0].prepend(e)}if(!t.contentItem.isComponent)return;const e=new g(this._stateResolver,t.contentItem,this._frameId);!1===p.config.workspacesOptions.showWindowCloseButtons&&!0!==e.showCloseButton&&_.hideWindowCloseButton(t.contentItem),!1===e.showCloseButton&&_.hideWindowCloseButton(t.contentItem)})),p.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),p.on(\"componentCreated\",(e=>{const n=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(n)?Promise.all(n).then((()=>{i.signal()})).catch((t=>i.reject(t))):n.then((()=>{i.signal()})).catch((t=>i.reject(t)))})),p.on(\"activeContentItemChanged\",(e=>{this.emitter.raiseEvent(\"workspace-global-selection-changed\",{component:e,workspaceId:t})})),p.on(\"itemDropped\",(t=>{this.emitter.raiseEvent(\"item-dropped\",{item:t})})),p._ignorePinned=!0,p.init(),i.promise.then((()=>{p._ignorePinned=!1}))}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,u.workspaceLayout=new o(e,$(this._workspaceLayoutElementId),f.decoratedFactory);new C((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),u.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{});u.workspaceLayout.root.getItemsByType(\"stack\")[0].header.tabs.forEach((t=>{var e,n,o;const i=new v(this._stateResolver,void 0,t.contentItem,this._frameId);i.isPinned&&(_.replaceWorkspaceSaveButtonWithIcon({workspaceTab:t,icon:i.icon}),_.waitForTransition(t.element[0]).then((()=>{this._tabObserver.refreshTabsMaxWidth(t.contentItem.parent.header.tabsContainer)}))),(null===(o=null===(n=null===(e=t.contentItem)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesConfig)||void 0===o?void 0:o.selected)&&delete t.contentItem.config.workspacesConfig.selected})),n()})),u.workspaceLayout.on(\"stackCreated\",(e=>{var n;const o=e.header.controlsContainer.children(\".lm_close\")[0];o&&(o.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const i=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(i,\"lm_add_button\");t&&f.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:l(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=f.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!f.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===u.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=u.workspaceIds.reduce(((t,e)=>[...t,...u.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:u.getById(t),toBack:n})}))))})),u.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),u.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\"),n=document.createElement(\"div\"),o=document.createElement(\"span\");n.classList.add(\"lm_iconButton\"),o.classList.add(\"lm_iconButtonContent\"),n.appendChild(o),e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(t.element[0].prepend(n),t.element[0].prepend(e),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t);const i=u.getById(t.contentItem.config.id),s=new v(this._stateResolver,i,t.contentItem,this._frameId);!1===s.showSaveButton&&_.hideWorkspaceSaveButton({workspaceTab:t}),!1===s.showCloseButton&&_.hideWorkspaceCloseButton({workspaceTab:t}),t._dragListener.on(\"reorderStop\",(()=>{u.syncWorkspaceOrder()}))})),u.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:u.getById(t.contentItem.config.id)})})),u.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{u.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=u.getById(t).layout;if(n){const e=$(\"#nestHere\"+t),o=l(e[0]);n.updateSize(o.width,o.height)}}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const o=document.createElement(\"button\");o.classList.add(\"add-button\"),o.onclick=n=>{n.stopPropagation();const i=t.tab.contentItem,s=\"stack\"===i.parent.type?\"group\":i.parent.type;i.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.parent.config.id),workspaceId:e,parentType:i.parent.parent.type,bounds:l(o)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.config.id),workspaceId:e,parentType:s,bounds:l(o)}})},n.append(o),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(u.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,o;const i=document.createElement(\"div\");i.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),i.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const o=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.id),workspaceId:t,bounds:l(s)}})},i.appendChild(s),(null===(n=f.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(i),i.style.display=\"none\",null===(o=f.decoratedFactory)||void 0===o||o.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(i),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));u.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((o=>{o.config.id===t&&(e(),n())}));u.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=l($(this._workspaceLayoutElementId));u.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),o=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),o&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}applyLockConfig(t,e,n,o){var i,s,r,a;const c=o?n.allowDrop:e.config.workspacesConfig.allowDrop,l=o?n.allowSplitters:e.config.workspacesConfig.allowSplitters;if(\"stack\"===t.type){if(void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(i=t.workspacesConfig.allowDrop)&&void 0!==i?i:c),void 0===t.workspacesConfig.allowExtract){const e=n.allowExtract;t.workspacesConfig.allowExtract=null!==(s=t.workspacesConfig.allowExtract)&&void 0!==s?s:e}void 0===t.workspacesConfig.showAddWindowButton&&(t.workspacesConfig.showAddWindowButton=n.showAddWindowButtons),void 0===t.workspacesConfig.showEjectButton&&(t.workspacesConfig.showEjectButton=n.showEjectButtons)}else if(\"row\"===t.type||\"column\"===t.type)void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(r=t.workspacesConfig.allowDrop)&&void 0!==r?r:c),void 0===t.workspacesConfig.allowSplitters&&(t.workspacesConfig.allowSplitters=null!==(a=t.workspacesConfig.allowSplitters)&&void 0!==a?a:l);else if(\"component\"===t.type){if(void 0===t.workspacesConfig.allowExtract){const i=o?n.allowExtract:e.config.workspacesConfig.allowExtract;t.workspacesConfig.allowExtract=i}void 0===t.workspacesConfig.showCloseButton&&(t.workspacesConfig.allowExtract=n.showWindowCloseButtons)}}}class k{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onWorkspaceContainerResized(t){return this._registry.add(\"workspace-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onContainerMaximized(t){return this._registry.add(\"container-maximized\",t)}onContainerRestored(t){return this._registry.add(\"container-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}onComponentSelectedInWorkspace(t){return this._registry.add(\"workspace-global-selection-changed\",t)}onItemDropped(t){return this._registry.add(\"item-dropped\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var b=1;var x,W,E,S={nextValue:function(){return(b=(9301*b+49297)%233280)/233280},seed:function(t){b=t}},T=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function B(){E=!1}function D(t){if(t){if(t!==x){if(t.length!==T.length)throw new Error(\"Custom alphabet for shortid must be \"+T.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+T.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));x=t,B()}}else x!==T&&(x=T,B())}function M(){return E||(E=function(){x||D(T);for(var t,e=x.split(\"\"),n=[],o=S.nextValue();e.length>0;)o=S.nextValue(),t=Math.floor(o*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var A={get:function(){return x||T},characters:function(t){return D(t),x},seed:function(t){S.seed(t),W!==t&&(B(),W=t)},lookup:function(t){return M()[t]},shuffled:M},P=\"object\"==typeof window&&(window.crypto||window.msCrypto),L=P&&P.getRandomValues?function(t){return P.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},O=function(t,e,n){for(var o=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*o*n/e.length),s=\"\";;)for(var r=t(i),a=i;a--;)if((s+=e[r[a]&o]||\"\").length===+n)return s};var R,H,z=function(t){for(var e,n=0,o=\"\";!e;)o+=O(L,A.get(),1),e=t<Math.pow(16,n+1),n++;return o};var F=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===H?R++:(R=0,H=n),e+=z(7),e+=z(t),R>0&&(e+=z(R)),e+=z(n)};var N=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+A.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},j=n((function(t){var e=0;function n(){return F(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return A.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&A.characters(t),A.shuffled()},t.exports.isValid=N}));class q{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,o,i){return t(this,void 0,void 0,(function*(){return this.startCore(e,n,o,i)}))}moveFrame(t,e){const n=this._idToFrame[t],o=$(n);0!==e.width&&0!==e.height&&(o.css(\"top\",e.top+\"px\"),o.css(\"left\",e.left+\"px\")),o.css(\"width\",e.width+\"px\"),o.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];e&&(delete this._idToFrame[t],e.contentWindow.postMessage({glue42core:{type:\"manualUnload\"}},\"*\"),setImmediate((()=>{e.remove(),this._registry.execute(\"frame-removed\",t)})))}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameRemoved(t){return this._registry.add(\"frame-removed\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}hasFrame(t){return!!this._idToFrame[t]}startCore(e,n,o,i){return t(this,void 0,void 0,(function*(){if(i=i||j.generate(),this._idToFrame[e])return this._idToFrame[e];if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");t.name=i+\"#wsp\",t.loading=\"lazy\",t.style.top=\"30000px\",t.style.width=\"30000px\",t.style.width=\"0px\",t.style.height=\"0px\",t.src=n;return new URL(location.href).protocol.includes(\"extension\")&&t.setAttribute(\"sandbox\",\"allow-forms allow-scripts allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin\"),document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(i),t}))}waitForWindow(t){return new Promise(((e,n)=>{let o=()=>{};const i=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((n=>{n.id===t&&(o(),e(),clearTimeout(i))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),o(),clearTimeout(i))}))}}var U=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(sessionStorage.getItem(t))}set(t,e){sessionStorage.setItem(t,JSON.stringify(e))}};var V=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),o=t.get(\"workspaceName\"),i=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,c=[];try{c=JSON.parse(i)||c}catch(t){}try{a=JSON.parse(s)}catch(t){}o&&c.push(o);const l={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:c,context:a,build:null!=r};return this._config=l,this.cleanUpUrl(),l}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),o=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${o}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class G{constructor(t,e,n,o,i){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=o,this._constraintsValidator=i,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig(this._initialWorkspaceConfig);const n=V.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=V.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){var t,e;if(!(null===(e=null===(t=window.glue42core)||void 0===t?void 0:t.workspacesFrameCache)||void 0===e||e))return;return(U.get(U.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){var n,o,i;return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),s=t.components[0].state;this._constraintsValidator.fixWorkspace(s);const r=this._configConverter.convertToRendererConfig(s);return null===(o=null===(n=r)||void 0===n?void 0:n.workspacesOptions)||void 0===o||delete o.positionIndex,this.addWorkspaceIds(r),{config:r,layoutData:{metadata:t.metadata,name:e,context:null!==(i=s.context)&&void 0!==i?i:{}}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var n;return t(this,void 0,void 0,(function*(){const{workspace:t,name:o,saveContext:i}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(n=t.layout)||void 0===n?void 0:n.config)||t.hibernateConfig).workspacesOptions.name=o;const s=yield this.saveWorkspaceCore(t);s.config.title&&delete s.config.title;let r=void 0;if(i)try{r=yield this.getWorkspaceContext(t.id)}catch(t){}const a={name:o,type:this._layoutsType,metadata:e.metadata,components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:null!=r?r:{}}}]};try{yield this._glue.layouts.import([a],\"merge\")}catch(t){throw console.error(t),t}return a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return t.config.title&&delete t.config.title,{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){var n,o;return t(this,void 0,void 0,(function*(){if(!(null===(o=null===(n=window.glue42core)||void 0===n?void 0:n.workspacesFrameCache)||void 0===o||o))return;const t=e.map((t=>this.saveWorkspaceCoreSync(t))),i=yield Promise.all(t);U.set(U.LAST_SESSION_KEY,i)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions.layoutName,yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id),n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,o;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(o=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===o?void 0:o.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(d(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class X{constructor(t,e,n,o){this._frameId=t,this._layoutEventEmitter=e,this.frameController=n,this.converter=o}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=u.getWindowContentItem(e);t||(yield this.waitForWindowContentItem(e),t=u.getWindowContentItem(e));return new g(this,t,this._frameId).summary}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||u.getWindowContentItem(t);return new g(this,n,this._frameId).summary}getWorkspaceConfig(t){const e=u.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);return new v(this,e,u.getWorkspaceContentItem(e.id),this._frameId).config}getWorkspaceSnapshot(t,e){const n=this.getWorkspaceConfig(t),o=this.converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:e.getFrameSummary(this._frameId)}}getWorkspaceSummary(t){return new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).summary}isWindowMaximized(t){const e=r(t),n=u.getWindowContentItem(e);return new g(this,n,this._frameId).isMaximized}isWindowInMaximizedContainer(t){const e=Array.isArray(t)?t[0]:t,n=u.getWindowContentItem(e),o=t=>{if(t&&!t.isRoot)return t.hasId(\"__glMaximised\")?t:o(t.parent)};return!!o(n)}isWindowSelected(t){const e=r(t),n=u.getWindowContentItem(e);return new g(this,n,this._frameId).isSelected}isWorkspaceSelected(t){const e=u.getById(t),n=u.getWorkspaceContentItem(t);return new v(this,e,n,this._frameId).isSelected}isWorkspaceHibernated(t){const e=u.getById(t);if(!e)throw new Error(`Could not find workspace ${t} in ${this._frameId} to check if hibernated`);const n=u.getWorkspaceContentItem(e.id);return new v(this,e,n,this._frameId).isHibernated}getContainerSummary(t){t=r(t);const e=u.getContainer(t);return new w(this,e,this._frameId).summary}getContainerSummaryByReference(t,e){if(\"component\"===t.type)throw new Error(`Tried to get container summary from item ${t.type} ${t.config.id}`);return new w(this,t,this._frameId,e).summary}getContainerConfig(t){const e=u.getContainer(t);return new w(this,e,this._frameId).config}isWindowInWorkspace(t){return!!u.getWindowContentItem(t)}getFrameSnapshot(t){const e=u.workspaceIds.map((e=>this.getWorkspaceSnapshot(e,t))),n=this.getFrameConstraints();return{id:this._frameId,config:Object.assign({},n),workspaces:e}}getSnapshot(t,e){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot(e)}}extractWindowSummariesFromSnapshot(t){const e=[],n=(t,o)=>{\"component\"!==t.type?t.content.forEach((e=>n(e,r(t.id)))):e.push({itemId:r(t.id),parentId:o,config:t.workspacesConfig})};return n(t,void 0),e}isWindowLoaded(t){return this.frameController.hasFrame(r(t))}getRendererWindowBounds(){return{left:window.visualViewport.offsetLeft,top:window.visualViewport.offsetTop,width:window.visualViewport.width,height:window.visualViewport.height}}getFrameConstraints(){return u.workspaceIds.map((t=>new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId))).reduce(((t,e)=>{const n=this.getRendererWindowBounds(),o=n.width-e.bounds.width,i=n.height-e.bounds.height,s=Math.ceil(Math.max(e.minWidth+o,t.minWidth)),r=Math.ceil(Math.max(e.minHeight+i,t.minHeight)),a=Math.ceil(Math.min(e.maxWidth+o,t.maxWidth)),c=Math.ceil(Math.min(e.maxHeight+i,t.maxHeight));return r<=c&&s<=a&&(t.minWidth=s,t.minHeight=r,t.maxWidth=a,t.maxHeight=c),t}),{minWidth:20,maxWidth:32767,minHeight:20,maxHeight:32767})}getWorkspaceIcon(t){return new v(this,u.getById(t),u.getWorkspaceContentItem(t),this._frameId).icon}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((o=>{o.config.id===t&&(n(),e())}));u.getWindowContentItem(t)&&(n(),e())}))}}class Y{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class J{constructor(t){this._titleGenerator=new Y,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id),n={allowExtract:t.allowExtract,showCloseButton:t.showCloseButton,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,positionIndex:t.positionIndex};return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context},workspacesConfig:n})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex,allowExtract:t.allowExtract,showCloseButton:t.showCloseButton,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,widthInPx:t.widthInPx,heightInPx:t.heightInPx}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return j.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=j.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(u.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e=t.find((t=>{var e;return null===(e=t.workspacesOptions)||void 0===e?void 0:e.selected})),n={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",activeItemIndex:e?t.indexOf(e):t.length-1,content:t.map((t=>{var e,n,o;const i=j.generate();return{workspacesConfig:Object.assign({},t.workspacesOptions),type:\"component\",id:(null==t?void 0:t.id)||i,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||i),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(o=null==t?void 0:t.workspacesOptions)||void 0===o?void 0:o.name)||this.getWorkspaceTitle(u.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,e)=>{let o=null==t?void 0:t.id;return o||\"component\"===n.content[0].type||(o=n.content[0].content[e].id),{id:o,config:t}})),workspaceLayout:n}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}convertLayoutOptionsToWorkspaceItem(e,n,o){var i;return t(this,void 0,void 0,(function*(){const t=yield o.getWorkspaceByName(e),s=t.config;return s.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&s.workspacesOptions.context?s.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(s.workspacesOptions.context=null==n?void 0:n.context),s.workspacesOptions.title=(null==n?void 0:n.title)||e,s.workspacesOptions.icon=null!==(i=null==n?void 0:n.icon)&&void 0!==i?i:s.workspacesOptions.icon,s&&s.workspacesOptions&&!s.workspacesOptions.name&&(s.workspacesOptions.name=e),s&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.layoutName=t.layoutData.name),s&&n&&(s.workspacesOptions.loadingStrategy=n.loadingStrategy),s&&void 0!==(null==n?void 0:n.noTabHeader)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),s&&void 0!==(null==n?void 0:n.isPinned)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.isPinned=null==n?void 0:n.isPinned),s&&void 0!==(null==n?void 0:n.isSelected)&&(s.workspacesOptions=s.workspacesOptions||{},s.workspacesOptions.selected=null==n?void 0:n.isSelected),s}))}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class Z{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class Q{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,o,i,s,r,a,c,l,d,h,u,p,m,f,g,w,v,y,_,C,I,k,b,x,W,E,S,T,B,D,M,A,P,L,O,R,H,z,F,$,N,j,q,U,V,G,X;let Y={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(Y=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?Y.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?Y.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):Y.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),Y}if(\"column\"===t.type||\"row\"===t.type)return Y.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===Y.content.length&&Y.content.push(this.getGroupWithEmptyVisibleWindow()),Y.workspacesConfig||(Y.workspacesConfig={}),Y.workspacesConfig.allowDrop=null===(n=t.config)||void 0===n?void 0:n.allowDrop,Y.workspacesConfig.allowSplitters=null===(o=t.config)||void 0===o?void 0:o.allowSplitters,Y.workspacesConfig.isPinned=null===(i=t.config)||void 0===i?void 0:i.isPinned,Y.workspacesConfig.maxWidth=null===(s=t.config)||void 0===s?void 0:s.maxWidth,Y.workspacesConfig.minWidth=null===(r=t.config)||void 0===r?void 0:r.minWidth,Y.workspacesConfig.maxHeight=null===(a=t.config)||void 0===a?void 0:a.maxHeight,Y.workspacesConfig.minHeight=null===(c=t.config)||void 0===c?void 0:c.minHeight,Y.workspacesConfig.positionIndex=null===(l=t.config)||void 0===l?void 0:l.positionIndex,Y.width=this.convertSizeToRendererConfigSafely(null===(d=t.config)||void 0===d?void 0:d.width),Y.height=this.convertSizeToRendererConfigSafely(null===(h=t.config)||void 0===h?void 0:h.height),Y;if(\"group\"===t.type)return Y.type=\"stack\",Y.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===Y.content.length&&Y.content.push(this._configFactory.createEmptyVisibleWindowConfig()),Y.workspacesConfig||(Y.workspacesConfig={}),Y.workspacesConfig.allowDrop=null===(u=t.config)||void 0===u?void 0:u.allowDrop,Y.workspacesConfig.allowDropHeader=null===(p=t.config)||void 0===p?void 0:p.allowDropHeader,Y.workspacesConfig.allowDropLeft=null===(m=t.config)||void 0===m?void 0:m.allowDropLeft,Y.workspacesConfig.allowDropRight=null===(f=t.config)||void 0===f?void 0:f.allowDropRight,Y.workspacesConfig.allowDropTop=null===(g=t.config)||void 0===g?void 0:g.allowDropTop,Y.workspacesConfig.allowDropBottom=null===(w=t.config)||void 0===w?void 0:w.allowDropBottom,Y.workspacesConfig.allowExtract=null===(v=t.config)||void 0===v?void 0:v.allowExtract,Y.workspacesConfig.showMaximizeButton=null===(y=t.config)||void 0===y?void 0:y.showMaximizeButton,Y.workspacesConfig.showEjectButton=null===(_=t.config)||void 0===_?void 0:_.showEjectButton,Y.workspacesConfig.showAddWindowButton=null===(C=t.config)||void 0===C?void 0:C.showAddWindowButton,Y.workspacesConfig.maxWidth=null===(I=t.config)||void 0===I?void 0:I.maxWidth,Y.workspacesConfig.minWidth=null===(k=t.config)||void 0===k?void 0:k.minWidth,Y.workspacesConfig.maxHeight=null===(b=t.config)||void 0===b?void 0:b.maxHeight,Y.workspacesConfig.minHeight=null===(x=t.config)||void 0===x?void 0:x.minHeight,Y.activeItemIndex=null===(W=t.config)||void 0===W?void 0:W.activeTabIndex,Y.workspacesConfig.positionIndex=null===(E=t.config)||void 0===E?void 0:E.positionIndex,Y.width=this.convertSizeToRendererConfigSafely(null===(S=t.config)||void 0===S?void 0:S.width),Y.height=this.convertSizeToRendererConfigSafely(null===(T=t.config)||void 0===T?void 0:T.height),Y;if(\"window\"===t.type){let n=(null===(B=t.config)||void 0===B?void 0:B.appName)||t.appName;const o=null===(D=t.config)||void 0===D?void 0:D.windowId;!n&&o&&(n=this._configFactory.getAppNameFromWindowId(o));const i=this._configFactory.createGDWindowConfig({windowId:o,id:t.id,appName:n,url:(null===(M=t.config)||void 0===M?void 0:M.url)||t.url,title:(null===(A=t.config)||void 0===A?void 0:A.title)||t.title,context:(null===(P=t.config)||void 0===P?void 0:P.context)||t.context,allowExtract:null!==(O=null===(L=null==t?void 0:t.config)||void 0===L?void 0:L.allowExtract)&&void 0!==O?O:t.allowExtract,showCloseButton:null!==(H=null===(R=null==t?void 0:t.config)||void 0===R?void 0:R.showCloseButton)&&void 0!==H?H:t.showCloseButton,minWidth:null!==(F=null===(z=null==t?void 0:t.config)||void 0===z?void 0:z.minWidth)&&void 0!==F?F:t.minWidth,maxWidth:null!==(N=null===($=null==t?void 0:t.config)||void 0===$?void 0:$.maxWidth)&&void 0!==N?N:t.maxWidth,minHeight:null!==(q=null===(j=null==t?void 0:t.config)||void 0===j?void 0:j.minHeight)&&void 0!==q?q:t.minHeight,maxHeight:null!==(V=null===(U=null==t?void 0:t.config)||void 0===U?void 0:U.maxHeight)&&void 0!==V?V:t.maxHeight,positionIndex:null!==(X=null===(G=null==t?void 0:t.config)||void 0===G?void 0:G.positionIndex)&&void 0!==X?X:t.positionIndex});return\"group\"!==e.type?(i.componentState.header=!1,this.wrap([i],\"stack\")):i}}convertToApiConfigCore(t){var e,n,o,i,s,a,c,l,d,h,u,p,m,f,g,w,v,y,_,C,I,k;if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex,allowExtract:e.allowExtract,showCloseButton:e.showCloseButton,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minHeight:e.minHeight,minWidth:e.minWidth,widthInPx:e.widthInPx,heightInPx:e.heightInPx})}const b=t,x={id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{positionIndex:null===(e=b.workspacesConfig)||void 0===e?void 0:e.positionIndex,frameId:null===(n=b.workspacesConfig)||void 0===n?void 0:n.frameId,workspaceId:null===(o=b.workspacesConfig)||void 0===o?void 0:o.workspaceId,activeTabIndex:b.activeItemIndex,width:b.width,height:b.height,allowDrop:null===(i=b.workspacesConfig)||void 0===i?void 0:i.allowDrop,allowDropHeader:null===(s=b.workspacesConfig)||void 0===s?void 0:s.allowDropHeader,allowDropLeft:null===(a=b.workspacesConfig)||void 0===a?void 0:a.allowDropLeft,allowDropRight:null===(c=b.workspacesConfig)||void 0===c?void 0:c.allowDropRight,allowDropTop:null===(l=b.workspacesConfig)||void 0===l?void 0:l.allowDropTop,allowDropBottom:null===(d=b.workspacesConfig)||void 0===d?void 0:d.allowDropBottom,isPinned:null===(h=b.workspacesConfig)||void 0===h?void 0:h.isPinned,allowExtract:null===(u=b.workspacesConfig)||void 0===u?void 0:u.allowExtract,showMaximizeButton:null===(p=b.workspacesConfig)||void 0===p?void 0:p.showMaximizeButton,showEjectButton:null===(m=b.workspacesConfig)||void 0===m?void 0:m.showEjectButton,showAddWindowButton:null===(f=b.workspacesConfig)||void 0===f?void 0:f.showAddWindowButton,allowSplitters:null===(g=b.workspacesConfig)||void 0===g?void 0:g.allowSplitters,minWidth:null===(w=b.workspacesConfig)||void 0===w?void 0:w.minWidth,maxWidth:null===(v=b.workspacesConfig)||void 0===v?void 0:v.maxWidth,minHeight:null===(y=b.workspacesConfig)||void 0===y?void 0:y.minHeight,maxHeight:null===(_=b.workspacesConfig)||void 0===_?void 0:_.maxHeight,widthInPx:null===(C=b.workspacesConfig)||void 0===C?void 0:C.widthInPx,heightInPx:null===(I=b.workspacesConfig)||void 0===I?void 0:I.heightInPx,isMaximized:null===(k=b.workspacesConfig)||void 0===k?void 0:k.isMaximized}};return\"group\"!==x.type?(delete x.config.allowExtract,delete x.config.allowDropHeader,delete x.config.allowDropLeft,delete x.config.allowDropTop,delete x.config.allowDropRight,delete x.config.allowDropBottom,delete x.config.showMaximizeButton,delete x.config.showEjectButton,delete x.config.showAddWindowButton):delete x.config.allowSplitters,x}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}convertSizeToRendererConfigSafely(t){return t>0?t:void 0}}class K{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class tt{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const o=t.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),o=document.body.getBoundingClientRect(),i=o.width-n.right-10,s=o.height-n.bottom-10;if(i<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+i)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),o=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},o)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class et{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:o,boxId:i}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,i,n,o)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,o,i){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:o,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const o=t.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const o=n[0].getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var nt=new class{getSettings(e){return t(this,void 0,void 0,(function*(){return this.settings||(this.settings=yield this.askForSettings(e)),this.settings}))}askForSettings(e){return t(this,void 0,void 0,(function*(){return(yield e.interop.invoke(\"T42.Web.Platform.Control\",{domain:\"workspaces\",operation:\"getWorkspacesConfig\",data:{}})).returned}))}};class ot{constructor(t,e,n,o,i){this._glue=t,this._stateResolver=e,this._frameController=n,this._manager=o,this._delayedExecutor=i,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4,this.idToWindowPromise={}}start(e,n){return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;if(this.idToWindowPromise[r(e.config.id)])return this.idToWindowPromise[r(e.config.id)];const t=u.getById(n);if(!t)return;const o=this.startCore(e,t);this.idToWindowPromise[r(e.config.id)]=o;const i=this._frameController.onFrameRemoved((t=>{t===r(e.config.id)&&(i(),delete this.idToWindowPromise[t])}));return o}))}getLoadingStrategy(t,e,n){var o,i;return(null==n?void 0:n.loadingStrategy)?n.loadingStrategy:(null===(o=null==e?void 0:e.workspacesOptions)||void 0===o?void 0:o.loadingStrategy)?e.workspacesOptions.loadingStrategy:(null==t?void 0:t.loadingStrategy)?null===(i=null==t?void 0:t.loadingStrategy)||void 0===i?void 0:i.defaultStrategy:void 0}startLazy(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\"),o=this.getComponentsByVisibility(n.map((t=>t)));return Promise.all(o.visibleComponents.map((t=>this.start(t,e))))}))}startDelayed(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\"),o=this.getComponentsByVisibility(n.map((t=>t))),i=o.visibleComponents.map((t=>this.start(t,e))),s=(yield nt.getSettings(this._glue)).loadingStrategy;return Promise.all(i).then((()=>{var t,n,i;return this._delayedExecutor.startExecution(o.notImmediatelyVisibleComponents.map((t=>({id:r(t.config.id),action:()=>this.start(t,e)}))),{batchSize:(null===(t=null==s?void 0:s.delayed)||void 0===t?void 0:t.batch)||1,executionInterval:(null===(n=null==s?void 0:s.delayed)||void 0===n?void 0:n.interval)||5e3,initialDelay:(null===(i=null==s?void 0:s.delayed)||void 0===i?void 0:i.initialOffsetInterval)||1e3})}))}))}startDirect(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\");yield Promise.all(n.map((t=>this.start(t,e))))}))}notifyFrameWillClose(t,e){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((n,o)=>{let i,s=()=>{},a=()=>{};const[c,l]=this.waitFor(e.length,(()=>{n(),s(),a(),clearTimeout(i)}));i=setTimeout((()=>{o(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(l())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:n})=>{n.config.workspaceId===t&&e.includes(n.itemId)&&c(n.itemId)})),a=this.onFailed((n=>{n.workspaceId===t&&e.includes(r(n.component.config.id))&&c(n.component.config.id)}))}))}getUrlByAppName(t){var e,n,o,i;if(t)return null===(i=null===(o=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===o?void 0:o.details)||void 0===i?void 0:i.url}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,n;if(t)return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}getAppNameByWindowId(t){var e,n,o,i;return null===(i=null===(o=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===n?void 0:n.find((e=>e.id===t)))||void 0===o?void 0:o.application)||void 0===i?void 0:i.name}notifyFrameWillStart(t,e,n,o){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._manager.frameId,appName:e,context:n,title:o}})}waitFor(t,e){const n=[];return[o=>{n.push(o),n.length===t&&e()},()=>n]}vaidateTitle(t){if(null==t?void 0:t.length)return t}getComponentsByVisibility(t){const e=t.filter((t=>this._stateResolver.isWindowSelected(t.config.id))),n=t.filter((t=>!e.includes(t)));return{visibleComponents:e,notImmediatelyVisibleComponents:n}}startCore(e,n){var o,i;return t(this,void 0,void 0,(function*(){const t=l(e.element),{componentState:s}=e.config,{title:a,appName:c}=s;let{windowId:d}=s;const h=r(e.config.id),p=this.getTitleByAppName(c),m=this.vaidateTitle(a)||this.vaidateTitle(p)||this.vaidateTitle(c)||\"Glue\",f=null===(o=null==e?void 0:e.config.componentState)||void 0===o?void 0:o.context;let g=this.getUrlByAppName(s.appName)||s.url;const w=!u.getWindow(h)||!u.getWindow(h).windowId,v=n.hibernatedWindows.some((t=>t.id===r(e.config.id)));if(u.addWindow({id:h,bounds:t,windowId:d,url:g,appName:c},n.id),!g&&d){const t=this._glue.windows.list().find((t=>t.id===d));g=yield t.getURL();u.getWindow(h).url=g}if(d=d||j.generate(),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,e.config.componentState.url=g,m&&e.setTitle(m),w&&!v){const t=this._stateResolver.getWindowSummarySync(e.config.id,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const n=this._glue.windows.findById(d);if(n)try{yield n.close()}catch(t){}}try{yield this.notifyFrameWillStart(d,c,f,m),yield this._frameController.startFrame(h,g,void 0,d);const t=u.getWindow(h);e.config.componentState.windowId=d,t.windowId=d;if(this._glue.windows.findById(d).getTitle().then((t=>{this.vaidateTitle(m)&&e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(h,l(e.element)),w&&!v&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(h)}}),!c){const n=this.getAppNameByWindowId(d);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${h} with windowId ${d} is missing its state object`);e.config.componentState.appName=n,t.appName=n}}catch(t){this.raiseFailed(e,n.id),e.config.componentState.windowId=void 0,g?this._frameController.moveFrame(h,l(e.element)):this._manager.closeTab(e,!1);if(!u.getById(n.id))throw new Error(`Workspace ${n.id} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{n.hibernatedWindows=n.hibernatedWindows.filter((t=>t.id!==r(e.config.id)))}}))}}class it{constructor(){this.actionsInProgress=[]}startExecution(e,n){return t(this,void 0,void 0,(function*(){const o=this.splitInBatches(e,n.batchSize);yield this.waitFor(n.initialDelay);return o.reduce(((e,o)=>t(this,void 0,void 0,(function*(){const t=yield e;return t.push(...yield this.executeBatch(o)),yield this.waitFor(n.executionInterval),Promise.resolve(t)}))),Promise.resolve([])).then((()=>{this.actionsInProgress=[]}))}))}isActionInProgress(t){return this.actionsInProgress.some((e=>e.id===t))}executeBatch(t){return this.actionsInProgress=t,Promise.all(t.map((t=>t.action())))}splitInBatches(t,e){return t.reduce(((t,n,o)=>{if(o%e==0)t.push([n]);else{const e=t.pop();e.push(n),t.push(e)}return t}),[])}waitFor(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}}class st{validateWorkspace(t){return!this.getAllItemsFromWorkspace(t).filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length}fixWorkspace(t){const e=this.getAllItemsFromWorkspace(t);return!e.filter((t=>!this.areConstraintsValid(this.getConstraintsFromItem(t)))).length||(e.forEach((t=>{t.config&&(t.config.minWidth=20,t.config.minHeight=20,t.config.maxWidth=32767,t.config.maxHeight=32767)})),!1)}fixNewWindow(t,e,n){var o,i,s,r;let a;if(void 0===(null===(o=t.config)||void 0===o?void 0:o.minWidth)&&void 0===(null===(i=t.config)||void 0===i?void 0:i.maxWidth)&&void 0===(null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0===(null===(r=t.config)||void 0===r?void 0:r.maxHeight))return;const c=(t,e)=>{a||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{c(t,n)})):a=t)};c(e,n),a.children.push(t),this.validateWorkspace(e)||(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767)}fixNewContainer(t,e,n){let o;const i=(t,e)=>{o||\"window\"!==t.type&&(t.id!==e?t.children.forEach((t=>{i(t,n)})):o=t)};if(i(e,n),o.children.push(t),!this.validateWorkspace(e)){const e=t=>{t.config&&(t.config.minWidth=20,t.config.maxWidth=32767,t.config.minHeight=20,t.config.maxHeight=32767),\"window\"!==t.type&&t.children.forEach((t=>e(t)))};e(t)}}getAllItemsFromWorkspace(t){const e=[],n=t=>{e.push(t),\"window\"!==t.type&&t.children.forEach((t=>n(t)))};return n(t),e}areConstraintsValid(t){return t.minWidth<=t.maxWidth&&t.minHeight<=t.maxHeight}getConstraintsFromItem(t){var e,n,o,i,s,r,a,c;const l=null!==(n=null===(e=t.config)||void 0===e?void 0:e.minWidth)&&void 0!==n?n:20,d=null!==(i=null===(o=t.config)||void 0===o?void 0:o.maxWidth)&&void 0!==i?i:32767,h=null!==(r=null===(s=t.config)||void 0===s?void 0:s.minHeight)&&void 0!==r?r:20,u=null!==(c=null===(a=t.config)||void 0===a?void 0:a.maxHeight)&&void 0!==c?c:32767;let p=0,m=0,f=0,g=0;return\"window\"===t.type?{minWidth:l,maxWidth:d,minHeight:h,maxHeight:u}:(\"row\"===t.type?t.children.forEach((t=>{var e,n,o,i;const s=this.getConstraintsFromItem(t);p+=null!==(e=s.minWidth)&&void 0!==e?e:20,m+=null!==(n=s.maxWidth)&&void 0!==n?n:32767,f=Math.max(null!==(o=s.minHeight)&&void 0!==o?o:20,f),g=Math.min(null!==(i=s.maxHeight)&&void 0!==i?i:32767,g||u)})):\"column\"===t.type?t.children.forEach((t=>{var e,n,o,i;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(n=s.maxWidth)&&void 0!==n?n:32767,m||d),f+=null!==(o=s.minHeight)&&void 0!==o?o:20,g+=null!==(i=s.maxHeight)&&void 0!==i?i:32767})):t.children.forEach((t=>{var e,n,o,i;const s=this.getConstraintsFromItem(t);p=Math.max(null!==(e=s.minWidth)&&void 0!==e?e:20,p),m=Math.min(null!==(n=s.maxWidth)&&void 0!==n?n:32767,m||d),f=Math.max(null!==(o=s.minHeight)&&void 0!==o?o:20,f),g=Math.min(null!==(i=s.maxHeight)&&void 0!==i?i:32767,g||u)})),m=m||d,g=g||u,{minWidth:Math.max(l,p),maxWidth:Math.min(d,m),minHeight:Math.max(h,f),maxHeight:Math.min(u,g)})}}var rt=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new Z,this._titleGenerator=new Y,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController?this._frameController.onFrameContentClicked(t):(console.warn(\"Your subscription to window clicked wasn't successful, because the Workspaces library isn't initialized yet\"),()=>{}),this.cleanUp=()=>{var t;if(this._isDisposing=!0,null===(t=V.config)||void 0===t?void 0:t.build)return;const e=[],n=u.workspaceIds.map((t=>{const n=u.getById(t);e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const o=this.stateResolver.getWorkspaceConfig(t),i=this.stateResolver.extractWindowSummariesFromSnapshot(o);return e.push(...i),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const o=u.layouts.filter((t=>{var e,n,o;return!(null===(o=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===o?void 0:o.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(o),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}get layoutsManager(){return this._layoutsManager}init(t,e,n,o){this._glue=t,this._facade=n;const i=V.loadConfig();if(this._initialized)return void f.reInitialize(o);this._initialized=!0,this._frameId=e,this._configFactory=new J(t);const r=new Q(this._configFactory);f.init(this._frameId,o),this._frameController=new q(t);const a=new k(s());return this._stateResolver=new X(this._frameId,a,this._frameController,r),this._controller=new I(a,this._stateResolver,i,this._configFactory),this._applicationFactory=new ot(t,this.stateResolver,this._frameController,this,new it),this._layoutsManager=new G(this.stateResolver,t,this._configFactory,r,new st),this._popupManager=new K(new tt(t),new et(o,e),o),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}initFrameLayout(e){return t(this,void 0,void 0,(function*(){return e.forEach((t=>{t.id=this._configFactory.getId()})),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,e.map((t=>r(t.id)))}))}saveWorkspace(e,n,o,i){var s;return t(this,void 0,void 0,(function*(){const t=u.getById(n)||u.getActiveWorkspace(),r=yield this._layoutsManager.save({name:e,workspace:t,title:u.getWorkspaceTitle(t.id),saveContext:o,metadata:i}),a=(null===(s=t.layout)||void 0===s?void 0:s.config)||t.hibernateConfig;return a.workspacesOptions.layoutName=e,a.workspacesOptions.noTabHeader&&delete a.workspacesOptions.noTabHeader,r}))}openWorkspace(e,n){var o,i,s;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),a=t.config;if(a.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&a.workspacesOptions.context?a.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(a.workspacesOptions.context=null==n?void 0:n.context),a.workspacesOptions.title=(null==n?void 0:n.title)||e,a.workspacesOptions.icon=null!==(o=null==n?void 0:n.icon)&&void 0!==o?o:a.workspacesOptions.icon,a.workspacesOptions.positionIndex=null!==(i=null==n?void 0:n.positionIndex)&&void 0!==i?i:a.workspacesOptions.positionIndex,a&&a.workspacesOptions&&!a.workspacesOptions.name&&(a.workspacesOptions.name=e),a&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.layoutName=t.layoutData.name),a&&n&&(a.workspacesOptions.loadingStrategy=n.loadingStrategy),a&&void 0!==(null==n?void 0:n.noTabHeader)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),a&&void 0!==(null==n?void 0:n.isPinned)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.isPinned=null==n?void 0:n.isPinned),a&&void 0!==(null==n?void 0:n.isSelected)&&(a.workspacesOptions=a.workspacesOptions||{},a.workspacesOptions.selected=null==n?void 0:n.isSelected),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig([a]),this._initPromise=this.initLayout(),yield this._initPromise,r(a.id);if(e){if(a.id=(null==n?void 0:n.reuseWorkspaceId)||this._configFactory.getId(),null==n?void 0:n.reuseWorkspaceId){u.getById(a.id).windows.map((t=>u.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(r(a.id),a),(null===(s=a.workspacesOptions)||void 0===s?void 0:s.context)&&(yield this._glue.contexts.set(d(r(a.id)),a.workspacesOptions.context))}else yield this.addWorkspace(r(a.id),a);return r(a.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){if(u.getContainer(t))return void this._controller.maximizeContainer(t);if(!u.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to maximize`);this._controller.maximizeWindow(t)}restoreItem(t){if(u.getContainer(t))return void this._controller.restoreContainer(t);if(!u.getByWindowId(t))throw new Error(`Could not find a window or a container with id ${t} in frame ${this.frameId} to restore`);this._controller.restoreWindow(t)}closeItem(t){const e=u.getWindow(t),n=u.getContainer(t);if(this._frameId===t)u.workspaceIds.forEach((t=>this.closeWorkspace(u.getById(t))));else if(e){const e=u.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=u.getById(t);this.closeWorkspace(e)}}addContainer(e,n){return t(this,void 0,void 0,(function*(){const o=this.cleanIsPinned(e),i=u.getByContainerId(n)||u.getById(n),s=u.getWorkspaceContentItem(i.id),c=new v(this.stateResolver,i,s,this.frameId);if(c.hasMaximizedItems)throw new Error(`Cannot add a new container to workspace ${c.id}, because it contains maximized items`);const l=yield this._controller.addContainer(o,n),d=u.getContainer(l);d&&this.applyIsPinned(e,d);const h=a(e.content);return Promise.all(h.map((e=>t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(r(e.id));yield this._applicationFactory.start(t,i.id)}))))),l}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){const t=u.getContainer(n);t&&\"stack\"===t.type||\"component\"!==e.type||(e=this._configFactory.wrapInGroup([e]));const o=u.getById(n)||u.getByContainerId(n),i=u.getWorkspaceContentItem(o.id),s=new v(this.stateResolver,o,i,this.frameId);if(s.hasMaximizedItems)throw new Error(`Cannot add a new window to workspace ${s.id}, because it contains maximized items`);yield this._controller.addWindow(e,n);const c=a([e]),l=u.getWindowContentItem(r(c[0].id));this._applicationFactory.start(l,o.id)}))}setItemTitle(t,e){u.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:o}=e.config.componentState,i=u.getWorkspaceContext(u.getByWindowId(e.config.id).id),s=this._glue.windows.findById(o),a=s?yield s.getContext():i;if(this.closeItem(r(e.config.id)),t){const e=o?{reuseId:o}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(a,e)).id}}const c=this._applicationFactory.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(`${t}_${o}`,c,{context:a,windowId:o})).id}}))}createWorkspace(e){var n,o,i,s;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig([e]),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)||this._configFactory.getId();if(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId){const n=u.getById(t);if(!n)throw new Error(`Could not find workspace ${null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId} to reuse`);n.windows.map((t=>u.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(t,e),yield this._glue.contexts.set(d(t),null!==(s=e.workspacesOptions.context)&&void 0!==s?s:{})}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=u.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:n}=t.config.componentState;const o=u.getByWindowId(e);return this.stateResolver.isWindowLoaded(e)||\"component\"!==t.type||(this._applicationFactory.start(t,o.id),yield this.waitForFrameLoaded(e),t=u.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,o)=>{n||o(`The window id of ${e} is missing`);let i=()=>{};const s=setTimeout((()=>{o(`Could not load window ${n} for 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),i(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),i(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=u.getByContainerId(t)||u.getByWindowId(t)||u.getById(t),n=this._frameId===t;return this._context?{id:e||n?this._frameId:\"none\",isInitialized:this._isLayoutInitialized,initializationContext:{context:this._context}}:{id:e||n?this._frameId:\"none\",isInitialized:this._isLayoutInitialized}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){const t=u.getByWindowId(e),o=u.getByContainerId(n)||u.getById(n);if(!o)throw new Error(`Could not find container ${n} in frame ${this._frameId}`);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(o.id))throw new Error(`Could not move window ${e} to workspace ${o.id} because its hibernated`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} from workspace ${t.id} because its hibernated`);const i=u.getWindowContentItem(e);if(!i)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);const s=t.windows.find((t=>t.id===e||t.windowId===e)),r=this.stateResolver.getWindowSummarySync(s.id);this._controller.removeLayoutElement(e),u.removeWindow(s,t.id),u.addWindow(s,o.id),yield this._controller.addWindow(i.config,n);const a=this.stateResolver.getWindowSummarySync(s.id);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:r}}),this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:a}})}))}generateWorkspaceLayout(t,e){const n=u.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const n=t.hibernateConfig;n.workspacesOptions||(n.workspacesOptions={}),n.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(n),t.hibernateConfig=void 0;const o=u.getWorkspaceContentItem(t.id),i=new v(this.stateResolver,t,o,this.frameId);i.isPinned?(_.hideHibernatedIcon({workspaceTab:o.tab}),_.hideWorkspaceSaveButton({workspaceTab:o.tab}),_.showWorkspaceIconButton({workspaceTab:o.tab,icon:i.icon})):_.showSaveIcon({workspaceTab:o.tab,workspaceId:t.id})}))}lockWorkspace(t){var e,n,o,i;t.config||(t.config={allowDrop:!1,allowDropLeft:!1,allowDropTop:!1,allowDropRight:!1,allowDropBottom:!1,allowExtract:!1,allowSplitters:!1,showCloseButton:!1,showSaveButton:!1,showWindowCloseButtons:!1,showEjectButtons:!1,showAddWindowButtons:!1}),Object.keys(t.config).forEach((e=>{const n=t.config;void 0===n[e]&&(n[e]=!0)})),\"boolean\"==typeof t.config.allowDrop&&(t.config.allowDropLeft=null!==(e=t.config.allowDropLeft)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropTop=null!==(n=t.config.allowDropTop)&&void 0!==n?n:t.config.allowDrop,t.config.allowDropRight=null!==(o=t.config.allowDropRight)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropBottom=null!==(i=t.config.allowDropBottom)&&void 0!==i?i:t.config.allowDrop);const{allowDrop:s,allowExtract:r,allowSplitters:a,showCloseButton:c,showSaveButton:l,showAddWindowButtons:d,showWindowCloseButtons:h,showEjectButtons:u}=t.config,{workspaceId:p}=t;!1===s?this._controller.disableWorkspaceDrop(p,t.config):this._controller.enableWorkspaceDrop(p,t.config),!1===r?this._controller.disableWorkspaceExtract(p):this._controller.enableWorkspaceExtract(p),!1===a?this._controller.disableSplitters(p):this._controller.enableSplitters(p),!1===c?this._controller.disableWorkspaceCloseButton(p):this._controller.enableWorkspaceCloseButton(p),!1===l?this._controller.disableWorkspaceSaveButton(p):this._controller.enableWorkspaceSaveButton(p),!1===d?this._controller.disableWorkspaceAddWindowButtons(p):this._controller.enableWorkspaceAddWindowButtons(p),!1===u?this._controller.disableWorkspaceEjectButtons(p):this._controller.enableWorkspaceEjectButtons(p),!1===h?this._controller.disableWorkspaceWindowCloseButtons(p):this._controller.enableWorkspaceWindowCloseButtons(p)}lockContainer(t){var e,n,o,i,s;switch((t.config||\"column\"!==t.type)&&(t.config||\"row\"!==t.type)?t.config||\"group\"!==t.type||(t.config={allowDrop:!1,allowDropHeader:!1,allowDropLeft:!1,allowDropRight:!1,allowDropTop:!1,allowDropBottom:!1,allowExtract:!1,showAddWindowButton:!1,showEjectButton:!1,showMaximizeButton:!1}):t.config={allowDrop:!1,allowSplitters:!1},void 0!==t.config.allowDrop&&\"group\"===t.type&&(t.config.allowDropHeader=null!==(e=t.config.allowDropHeader)&&void 0!==e?e:t.config.allowDrop,t.config.allowDropLeft=null!==(n=t.config.allowDropLeft)&&void 0!==n?n:t.config.allowDrop,t.config.allowDropTop=null!==(o=t.config.allowDropTop)&&void 0!==o?o:t.config.allowDrop,t.config.allowDropRight=null!==(i=t.config.allowDropRight)&&void 0!==i?i:t.config.allowDrop,t.config.allowDropBottom=null!==(s=t.config.allowDropBottom)&&void 0!==s?s:t.config.allowDrop),Object.keys(t.config).forEach((e=>{const n=t.config;void 0===n[e]&&(n[e]=!0)})),t.type){case\"column\":this.handleColumnLockRequested(t);break;case\"row\":this.handleRowLockRequested(t);break;case\"group\":this.handleGroupLockRequested(t)}}lockWindow(t){t.config||(t.config={allowExtract:!1,showCloseButton:!1}),Object.keys(t.config).forEach((e=>{const n=t.config;void 0===n[e]&&(n[e]=!0)}));const{allowExtract:e,showCloseButton:n}=t.config,{windowPlacementId:o}=t;!1===e?this._controller.disableWindowExtract(o):this._controller.enableWindowExtract(o,e),!1===n?this._controller.disableWindowCloseButton(o):this._controller.enableWindowCloseButton(o,n);const i=u.getByWindowId(o);(null==i?void 0:i.layout)&&i.layout.updateSize()}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=u.getById(e);if(u.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const n=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,n.workspacesOptions.isHibernated=!0,t.hibernateConfig=n,t.windows.map((t=>u.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),u.removeLayout(t.id),this._controller.showHibernationIcon(e),n}))}closeTab(t,e=!0){const n=r(t.config.id),o=u.getByWindowId(n),i=this.stateResolver.getWindowSummarySync(n);this._controller.removeLayoutElement(n),this._frameController.remove(n),this._applicationFactory.notifyFrameWillClose(i.config.windowId,i.config.appName).catch((t=>{})),o.hibernatedWindows.some((t=>i.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),!o.windows.length&&e&&this._controller.resetWorkspace(o.id)}resizeItem(t){if(t.itemId===this.frameId)throw new Error(\"Cannot resize frame \"+t.itemId);return this.resizeWorkspaceItem(t)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}pinWorkspace(t,e){this._controller.pinWorkspace(t,e)}unpinWorkspace(t){this._controller.unpinWorkspace(t)}setWorkspaceIcon(t,e){const n=u.getWorkspaceContentItem(t),o=new v(this.stateResolver,u.getById(t),n,this.frameId);o.icon=e,o.isPinned&&_.showWorkspaceIconButton({workspaceTab:n.tab,icon:e})}setFrameContext(t){this._context=t}resizeWorkspaceItem(t){var e,n;const o=u.getContainer(t.itemId)||u.getWindowContentItem(t.itemId);if(!o)throw new Error(`Could not find container ${t.itemId} in frame ${this.frameId}`);if(\"column\"===o.type&&t.height)throw new Error(`Requested resize for ${o.type} ${t.itemId}, however an unsupported argument (height) was passed`);if(\"row\"===o.type&&t.width)throw new Error(`Requested resize for ${o.type} ${t.itemId}, however an unsupported argument (width) was passed`);const i=u.getByContainerId(o.config.id)||u.getByWindowId(r(o.config.id));let s,a;if(this.stateResolver.isWorkspaceHibernated(i.id))throw new Error(`Requested resize for ${o.type} ${t.itemId}, however the workspace ${i.id} is hibernated`);i&&(s=i.windows.find((t=>this.stateResolver.isWindowMaximized(t.id))),a=null===(n=null===(e=i.layout)||void 0===e?void 0:e.root)||void 0===n?void 0:n.getItemsByFilter((t=>t.hasId(\"__glMaximised\")&&\"component\"!==t.type))[0]),s&&this._controller.restoreWindow(s.id),a&&this._controller.restoreContainer(r(a.config.id)),\"row\"===o.type?this._controller.resizeRow(o,t.height):\"column\"===o.type?this._controller.resizeColumn(o,t.width):\"stack\"===o.type?this._controller.resizeStack(o,t.width,t.height):this._controller.resizeComponent(o,t.width,t.height),s&&this._controller.maximizeWindow(s.id),a&&this._controller.maximizeContainer(r(a.config.id))}initLayout(){var e;return t(this,void 0,void 0,(function*(){const t=yield nt.getSettings(this._glue),n=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(n.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(d(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:n.workspaceLayout,workspaceConfigs:n.workspaceConfigs,showLoadingIndicator:(null===(e=null==t?void 0:t.loadingStrategy)||void 0===e?void 0:e.showDelayedIndicator)||!1}),Promise.all(u.workspaceIds.map((e=>{const o=this._applicationFactory.getLoadingStrategy(t,n.workspaceConfigs[0].config);return this.handleWindows(e,o)}))),u.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),V.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}reinitializeWorkspace(e,n){return t(this,void 0,void 0,(function*(){yield this._controller.reinitializeWorkspace(e,n);const t=yield nt.getSettings(this._glue),o=this._applicationFactory.getLoadingStrategy(t,n);this.handleWindows(e,o)}))}subscribeForLayout(){this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,l(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){u.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id))})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=l(t.contentItem.element),n=Math.min(e.width,800),o=Math.min(e.height,600);this._controller.setDragElementSize(n,o)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement(),n=new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=l(e[0]),o=r(t.contentItem.config.id);this._frameController.moveFrame(o,n),this._frameController.bringToFront(o)}}))}));if(!e)return;n.observe(e,{attributes:!0});const o=this.stateResolver.getWindowSummarySync(t.contentItem.config.id,t.contentItem);this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:o}})})),this._controller.emitter.onItemDropped((t=>{const e=this.stateResolver.getWindowSummarySync(t.config.id,t);this.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:e}})})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{this.handleOnWorkspaceAdded(t)})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:o,parentType:i})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:i,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(o,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=u.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=l(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:V.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=u.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),o=l(n);yield this._popupManager.showSaveWorkspacePopup(o,t)})))),this._controller.emitter.onContainerMaximized((t=>{if(\"component\"===t.config.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.maximizeTab(r(t.config.id))}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[n,o]=e.reduce(((t,e)=>{const n=e.getActiveContentItem(),o=e.contentItems.map((t=>r(t.config.id)));return t[0].push(r(n.config.id)),t[1]=[...t[1],...o],t}),[[],[]]);this._frameController.selectionChanged(n,o)})),this._controller.emitter.onContainerRestored((t=>{if(\"component\"===t.config.type)return;t.getItemsByFilter((t=>\"component\"===t.type)).forEach((t=>{this._frameController.restoreTab(r(t.config.id))}));const e=t.getItemsByFilter((t=>\"stack\"===t.type));\"stack\"===t.type&&e.push(t);const[n,o]=e.reduce(((t,e)=>{const n=e.getActiveContentItem(),o=e.contentItems.map((t=>r(t.config.id)));return t[0].push(r(n.config.id)),t[1]=[...t[1],...o],t}),[[],[]]);this._frameController.selectionChanged(n,o)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),this._controller.emitter.onComponentSelectedInWorkspace(((t,e)=>{this._applicationFactory.start(t,e)}));const e={};this._controller.emitter.onWorkspaceContainerResized((t=>{const n=r(t);e[n]&&clearTimeout(e[n]),e[n]=setTimeout((()=>{this._controller.refreshWorkspaceSize(n)}),16)}));let n=void 0;f.onWorkspaceContentsShown((t=>{const e=u.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;n&&clearTimeout(n),n=setTimeout((()=>{const t=$(\"#nestHere\"+e.id),n=l(t[0]);e.layout.updateSize(n.width,n.height)}),50);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),f.onWorkspaceContentsHidden((t=>{const e=u.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const n=u.getById(e.workspaceSummary.id);n&&(n.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)})),this._frameController.onFrameLoaded((t=>{this._controller.hideLoadingIndicator(t)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),l(n.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(u.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const o=this.checkForEmptyWorkspace(t);n.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}closeHibernatedWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),n=this.stateResolver.getSnapshot(t.id,this),o=this.stateResolver.extractWindowSummariesFromSnapshot(n);t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);o.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var o;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(d(e),(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.context)||{}),yield this._controller.addWorkspace(e,n),this._controller.emitter.raiseEvent(\"workspace-added\",{workspace:u.getById(e)});const t=yield nt.getSettings(this._glue),i=this._applicationFactory.getLoadingStrategy(t,n);this.handleWindows(e,i).catch((t=>{console.log(t)}))}))}handleWindows(e,n){return t(this,void 0,void 0,(function*(){switch(n){case\"delayed\":yield this._applicationFactory.startDelayed(e);break;case\"direct\":yield this._applicationFactory.startDirect(e);break;case\"lazy\":yield this._applicationFactory.startLazy(e)}}))}checkForEmptyWorkspace(t){if(1===u.layouts.length){if(this._isLayoutInitialized&&window.glue42core.isPlatformFrame){const e=this._configFactory.getId();return this._controller.addWorkspace(e,void 0).then((()=>{this.handleOnWorkspaceAddedWithSnapshot(u.getById(e)),this.checkForEmptyWorkspace(t)})).catch((()=>{})),!1}if(this._isLayoutInitialized){try{this._facade.executeAfterControlIsDone((()=>{window.close()}))}catch(t){}return!0}}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,n)=>{let o=()=>{};const i=setTimeout((()=>{o(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);o=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(i),o())})),this.stateResolver.isWindowLoaded(t)&&(e(),clearTimeout(i),o())}))}handleGroupLockRequested(t){const{allowExtract:e,showAddWindowButton:n,showEjectButton:o,showMaximizeButton:i,allowDrop:s}=t.config;!1===e?this._controller.disableGroupExtract(t.itemId):this._controller.enableGroupExtract(t.itemId,e),!1===n?this._controller.disableGroupAddWindowButton(t.itemId):this._controller.enableGroupAddWindowButton(t.itemId,n),!1===o?this._controller.disableGroupEjectButton(t.itemId):this._controller.enableGroupEjectButton(t.itemId,o),!1===i?this._controller.disableGroupMaximizeButton(t.itemId):this._controller.enableGroupMaximizeButton(t.itemId,i),!1===s?this._controller.disableGroupDrop(t.itemId,t.config):this._controller.enableGroupDrop(t.itemId,t.config);const r=u.getByContainerId(t.itemId);(null==r?void 0:r.layout)&&r.layout.updateSize()}handleRowLockRequested(t){const{allowDrop:e,allowSplitters:n}=t.config;!1===e?this._controller.disableRowDrop(t.itemId):this._controller.enableRowDrop(t.itemId,e),!1===n?this._controller.disableRowSplitters(t.itemId):this._controller.enableRowSplitters(t.itemId,n)}handleColumnLockRequested(t){const{allowDrop:e,allowSplitters:n}=t.config;!1===e?this._controller.disableColumnDrop(t.itemId):this._controller.enableColumnDrop(t.itemId,e),!1===n?this._controller.disableColumnSplitters(t.itemId):this._controller.enableColumnSplitters(t.itemId,n)}cleanIsPinned(t){if(\"row\"!==t.type&&\"column\"!==t.type)return t;let e=!1;const n=JSON.parse(JSON.stringify(t)),o=t=>{t.workspacesConfig.isPinned&&(e=!0,t.workspacesConfig.isPinned=!1),\"component\"!==t.type&&t.content.forEach((t=>o(t)))};return o(n),e?n:t}applyIsPinned(t,e){if(\"row\"!==t.type&&\"column\"!==t.type)return;if(\"row\"!==e.config.type&&\"column\"!==e.config.type)return;const n=(t,e)=>{t.workspacesConfig.isPinned&&(e.config.workspacesConfig.isPinned=!0),\"component\"!==t.type&&\"component\"!==e.type&&t.content.forEach(((t,o)=>n(t,e.contentItems[o])))};n(t,e)}handleOnWorkspaceAdded(t){var e;const n=u.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...u.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),u.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const o=t.layout.config.workspacesOptions,i=o.title||o.name;i&&(null===(e=u.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(i))}handleOnWorkspaceAddedWithSnapshot(t){var e;const n=u.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...u.getById(e).windows]),[]),o=this._stateResolver.getWorkspaceSnapshot(t.id,this);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSnapshot:o,workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),u.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const i=t.layout.config.workspacesOptions,s=i.title||i.name;s&&(null===(e=u.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(s))}};class at{constructor(t){this.manager=t}applyLockConfiguration(e,n){const o=(e,i)=>t(this,void 0,void 0,(function*(){\"window\"!==e.type?(\"group\"===e.type||\"row\"===e.type||\"column\"===e.type?this.doesContainerContainLockingProperties(e)&&this.manager.lockContainer({itemId:i.id,type:e.type,config:e.config}):this.doesWorkspaceContainLockingProperties(e)&&this.manager.lockWorkspace({workspaceId:n.id,config:e.config}),yield Promise.all(e.children.map(((t,e)=>o(t,i.children[e]))))):this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:i.id,config:e.config})}));return o(e,n)}applyWindowLockConfiguration(t){const e={config:t.config,id:t.itemId,type:\"window\"};this.doesWindowContainLockingProperties(e)&&this.manager.lockWindow({windowPlacementId:t.itemId,config:t.config})}applyContainerLockConfiguration(t,e,n){const o=this.getItemFromWorkspace(e,n),i=(t,e)=>{\"window\"!==t.type?(\"group\"===t.type||\"row\"===t.type||\"column\"===t.type?this.doesContainerContainLockingProperties(t)&&this.manager.lockContainer({itemId:e.id,type:t.type,config:t.config}):this.doesWorkspaceContainLockingProperties(t)&&this.manager.lockWorkspace({workspaceId:t.id,config:t.config}),t.children.map(((t,n)=>i(t,e.children[n])))):this.doesWindowContainLockingProperties(t)&&this.manager.lockWindow({windowPlacementId:e.id,config:t.config})};return i(t,o)}doesWindowContainLockingProperties(t){var e,n;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.showCloseButton)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowExtract)}doesContainerContainLockingProperties(t){var e,n,o,i,s,r,a,c,l,d,h;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropHeader)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropLeft)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropTop)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowDropBottom)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.allowExtract)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showExtractButton)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showMaximizeButton)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showAddWindowButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.allowSplitters)}doesWorkspaceContainLockingProperties(t){var e,n,o,i,s,r,a,c,l,d,h,u;return this.isLockingPropertySet(null===(e=t.config)||void 0===e?void 0:e.allowDrop)||this.isLockingPropertySet(null===(n=t.config)||void 0===n?void 0:n.allowDropLeft)||this.isLockingPropertySet(null===(o=t.config)||void 0===o?void 0:o.allowDropTop)||this.isLockingPropertySet(null===(i=t.config)||void 0===i?void 0:i.allowDropRight)||this.isLockingPropertySet(null===(s=t.config)||void 0===s?void 0:s.allowDropBottom)||this.isLockingPropertySet(null===(r=t.config)||void 0===r?void 0:r.allowExtract)||this.isLockingPropertySet(null===(a=t.config)||void 0===a?void 0:a.showExtractButtons)||this.isLockingPropertySet(null===(c=t.config)||void 0===c?void 0:c.showWindowCloseButtons)||this.isLockingPropertySet(null===(l=t.config)||void 0===l?void 0:l.showAddWindowButtons)||this.isLockingPropertySet(null===(d=t.config)||void 0===d?void 0:d.showSaveButton)||this.isLockingPropertySet(null===(h=t.config)||void 0===h?void 0:h.showCloseButton)||this.isLockingPropertySet(null===(u=t.config)||void 0===u?void 0:u.allowSplitters)}isLockingPropertySet(t){return\"boolean\"==typeof t}getItemFromWorkspace(t,e){const n=t=>t.id===e?t:\"window\"!==t.type?t.children.map((t=>n(t))).find((t=>t)):void 0;return n(t)}}var ct=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,n,o,i)=>t(this,void 0,void 0,(function*(){try{switch(yield rt.initPromise,e.operation){case\"isWindowInWorkspace\":o(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":o(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":o(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":o(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":o(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":o(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":o(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),o(void 0);break;case\"getAllWorkspacesSummaries\":o(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),o(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),o(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),o(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),o(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),o(void 0);break;case\"ejectWindow\":o(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":o(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":o(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),o(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),o(void 0);break;case\"getFrameSummary\":o(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),o(void 0);break;case\"getFrameSnapshot\":o(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":o(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),o(void 0);break;case\"generateLayout\":o(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":o(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),o(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),o(void 0);break;case\"lockWorkspace\":this.handleLockWorkspace(e.operationArguments),o(void 0);break;case\"lockContainer\":this.handleLockContainer(e.operationArguments),o(void 0);break;case\"lockWindow\":this.handleLockWindow(e.operationArguments),o(void 0);break;case\"resizeItem\":this.handleResizeItem(e.operationArguments),o(void 0);break;case\"pinWorkspace\":this.handlePinWorkspace(e.operationArguments),o(void 0);break;case\"unpinWorkspace\":this.handleUnpinWorkspace(e.operationArguments),o(void 0);break;case\"getWorkspaceIcon\":o(this.handleGetWorkspaceIcon(e.operationArguments));break;case\"setWorkspaceIcon\":this.handleSetWorkspaceIcon(e.operationArguments),o(void 0);break;case\"initFrame\":yield this.handleInitFrame(e.operationArguments),o(void 0);break;case\"createFrame\":o(this.handleCreateFrame(e.operationArguments));break;default:i(\"Invalid operation - \"+e.operation)}}catch(t){i(t.message),console.warn(t)}})),this.handleControl=(e,n,o,i)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,n,o,i);this._controlPromise=t,yield t}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new J(e),this._converter=new Q(this._configFactory),this._locker=new at(rt),this._constraintValidator=new st,this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){rt.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),rt.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),rt.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),rt.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield rt.openWorkspace(e.name,e.restoreOptions),n=rt.stateResolver.getWorkspaceConfig(t),o=this._converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:rt.getFrameSummary(this._frameId)}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield rt.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield rt.saveWorkspace(e.name,e.workspaceId,e.saveContext,e.metadata)}))}handleDeleteLayout(t){rt.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=u.getById(t.itemId),n=rt.stateResolver.getWorkspaceConfig(e.id),o=this._converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:rt.getFrameSummary(this._frameId)}}handleGetAllWorkspaceSummaries(){return{summaries:u.layouts.map((t=>rt.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){rt.closeItem(t.itemId)}handleRestoreItem(t){rt.restoreItem(t.itemId)}handleMaximizeItem(t){rt.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){if(\"workspace\"===e.definition.type)throw new Error(\"Unsuported add container type \"+e.definition.type);const t=u.getByContainerId(e.parentId)||u.getById(e.parentId),n=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t.id));this._constraintValidator.fixNewContainer(e.definition,n,e.parentId);const o=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===o.type)throw new Error(\"Unsuccessful conversion\");const i={id:r(o.id),content:o.content,type:o.type,workspacesConfig:o.workspacesConfig},s=yield rt.addContainer(i,e.parentId),a=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t.id));return this._locker.applyContainerLockConfiguration(e.definition,a,s),{itemId:s}}))}handleAddWindow(e){var n,o,i,s,a,c;return t(this,void 0,void 0,(function*(){const t=new st,l=u.getByContainerId(e.parentId)||u.getById(e.parentId),d=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(l.id));t.fixNewWindow(e.definition,d,e.parentId);const h=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context,allowExtract:null===(n=e.definition.config)||void 0===n?void 0:n.allowExtract,showCloseButton:null===(o=e.definition.config)||void 0===o?void 0:o.showCloseButton,minWidth:null===(i=e.definition.config)||void 0===i?void 0:i.minWidth,maxWidth:null===(s=e.definition.config)||void 0===s?void 0:s.maxWidth,minHeight:null===(a=e.definition.config)||void 0===a?void 0:a.minHeight,maxHeight:null===(c=e.definition.config)||void 0===c?void 0:c.maxHeight});if(e.definition.windowId){const t=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),n=yield t.getURL();h.componentState.url=n,h.componentState.appName=this._configFactory.getAppNameFromWindowId(t.id)}yield rt.addWindow(h,e.parentId);const p=rt.stateResolver.getWindowSummarySync(h.id);return this._locker.applyWindowLockConfiguration(p),{itemId:r(h.id)}}))}handleSetItemTitle(t){rt.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let o={type:\"column\",children:e.children};n&&(o={type:\"row\",children:e.children});const i=this._converter.convertToRendererConfig(o);yield rt.addContainer(i,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=u.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield rt.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={});const t=this.convertCreateWorkspaceArgumentsToWorkspaceItem(e);this._constraintValidator.fixWorkspace(t);const n=this._converter.convertToRendererConfig(t),o=yield rt.createWorkspace(n),i=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(o));return this._locker.applyLockConfiguration(t,i),{id:i.id,children:i.children,config:i.config,frameSummary:rt.getFrameSummary(this._frameId)}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield rt.loadWindow(e.itemId)}))}handleFocusItem(t){return rt.focusItem(t.itemId)}handleBundleWorkspace(t){return rt.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:rt.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(t){return rt.getFrameSummary(t.itemId)}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield rt.move(e.location)}))}handleGetFrameSnapshot(){return rt.stateResolver.getFrameSnapshot(rt)}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return rt.stateResolver.getSnapshot(e.itemId,rt)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return rt.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return rt.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return rt.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return rt.resumeWorkspace(e.workspaceId)}))}handleLockWorkspace(t){return rt.lockWorkspace(t)}handleLockWindow(t){return rt.lockWindow(t)}handleLockContainer(t){return rt.lockContainer(t)}handleResizeItem(t){return rt.resizeItem(t)}handlePinWorkspace(t){return rt.pinWorkspace(t.workspaceId,t.icon)}handleUnpinWorkspace(t){return rt.unpinWorkspace(t.workspaceId)}handleGetWorkspaceIcon(t){const e=rt.stateResolver.getWorkspaceIcon(t.workspaceId);return e?{icon:e}:{}}handleSetWorkspaceIcon(t){rt.setWorkspaceIcon(t.workspaceId,t.icon)}handleInitFrame(e){return t(this,void 0,void 0,(function*(){const n=yield Promise.all(e.workspaces.map((e=>t(this,void 0,void 0,(function*(){const t=e,n=e;return t.name?this._configFactory.convertLayoutOptionsToWorkspaceItem(t.name,t.restoreOptions,rt.layoutsManager):this._converter.convertToRendererConfig(this.convertCreateWorkspaceArgumentsToWorkspaceItem(n))})))));(yield rt.initFrameLayout(n)).forEach(((t,n)=>{const o=e.workspaces[n];if(!o.children)return;const i=this._converter.convertToAPIConfig(rt.stateResolver.getWorkspaceConfig(t));this._locker.applyLockConfiguration(o,i)}))}))}handleCreateFrame(t){return rt.setFrameContext(null==t?void 0:t.context),rt.getFrameSummary(this._frameId)}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const o={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,o).catch((()=>{}))}}convertCreateWorkspaceArgumentsToWorkspaceItem(t){var e,n;const o=Object.assign({},t);return o.config||(o.config={}),\"boolean\"==typeof(null===(e=t.config)||void 0===e?void 0:e.isSelected)&&(o.config.selected=t.config.isSelected),o.config.context=(null===(n=t.config)||void 0===n?void 0:n.context)||t.context,o.config.allowDrop=void 0,o}},lt=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],o=Object.getPrototypeOf,i=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,u=h.call(Object),p={},m=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},g=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var o,i,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(o in w)(i=e[o]||e.getAttribute&&e.getAttribute(o))&&s.setAttribute(o,i);n.head.appendChild(s).parentNode.removeChild(s)}function y(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?c[l.call(t)]||\"object\":typeof t}var _=\"3.5.1\",C=function(t,e){return new C.fn.init(t,e)};function I(t){var e=!!t&&\"length\"in t&&t.length,n=y(t);return!m(t)&&!f(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return i.call(this)},get:function(t){return null==t?i.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},C.extend=C.fn.extend=function(){var t,e,n,o,i,s,r=arguments[0]||{},a=1,c=arguments.length,l=!1;for(\"boolean\"==typeof r&&(l=r,r=arguments[a]||{},a++),\"object\"==typeof r||m(r)||(r={}),a===c&&(r=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)o=t[e],\"__proto__\"!==e&&r!==o&&(l&&o&&(C.isPlainObject(o)||(i=Array.isArray(o)))?(n=r[e],s=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,r[e]=C.extend(l,s,o)):void 0!==o&&(r[e]=o));return r},C.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==l.call(t))&&(!(e=o(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,o=0;if(I(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(I(Object(t))?C.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,o=0,i=t.length;o<n;o++)t[i++]=e[o];return t.length=i,t},grep:function(t,e,n){for(var o=[],i=0,s=t.length,r=!n;i<s;i++)!e(t[i],i)!==r&&o.push(t[i]);return o},map:function(t,e,n){var o,i,r=0,a=[];if(I(t))for(o=t.length;r<o;r++)null!=(i=e(t[r],r,n))&&a.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&a.push(i);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(C.fn[Symbol.iterator]=n[Symbol.iterator]),C.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){c[\"[object \"+e+\"]\"]=e.toLowerCase()}));var k=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,o,i,s,r,a,c,l,d,h,u,p,m,f,g,w,v,y,_=\"sizzle\"+1*new Date,C=t.document,I=0,k=0,b=ct(),x=ct(),W=ct(),E=ct(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,B=[],D=B.pop,M=B.push,A=B.push,P=B.slice,L=function(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},O=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",R=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",H=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",z=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+H+\")(?:\"+R+\"*([*^$|!~]?=)\"+R+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+H+\"))|)\"+R+\"*\\\\]\",F=\":(\"+H+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+z+\")*)|.*)\\\\)|)\",$=new RegExp(R+\"+\",\"g\"),N=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(R+\"|>\"),V=new RegExp(F),G=new RegExp(\"^\"+H+\"$\"),X={ID:new RegExp(\"^#(\"+H+\")\"),CLASS:new RegExp(\"^\\\\.(\"+H+\")\"),TAG:new RegExp(\"^(\"+H+\"|[*])\"),ATTR:new RegExp(\"^\"+z),PSEUDO:new RegExp(\"^\"+F),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+O+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ot=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,it=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{A.apply(B=P.call(C.childNodes),C.childNodes),B[C.childNodes.length].nodeType}catch(t){A={apply:B.length?function(t,e){M.apply(t,P.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}function at(t,e,o,i){var s,a,l,d,h,m,w,v=e&&e.ownerDocument,C=e?e.nodeType:9;if(o=o||[],\"string\"!=typeof t||!t||1!==C&&9!==C&&11!==C)return o;if(!i&&(u(e),e=e||p,f)){if(11!==C&&(h=K.exec(t)))if(s=h[1]){if(9===C){if(!(l=e.getElementById(s)))return o;if(l.id===s)return o.push(l),o}else if(v&&(l=v.getElementById(s))&&y(e,l)&&l.id===s)return o.push(l),o}else{if(h[2])return A.apply(o,e.getElementsByTagName(t)),o;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(o,e.getElementsByClassName(s)),o}if(n.qsa&&!E[t+\" \"]&&(!g||!g.test(t))&&(1!==C||\"object\"!==e.nodeName.toLowerCase())){if(w=t,v=e,1===C&&(U.test(t)||q.test(t))){for((v=tt.test(t)&&wt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(ot,it):e.setAttribute(\"id\",d=_)),a=(m=r(t)).length;a--;)m[a]=(d?\"#\"+d:\":scope\")+\" \"+yt(m[a]);w=m.join(\",\")}try{return A.apply(o,v.querySelectorAll(w)),o}catch(e){E(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return c(t.replace(N,\"$1\"),e,o,i)}function ct(){var t=[];return function e(n,i){return t.push(n+\" \")>o.cacheLength&&delete e[t.shift()],e[n+\" \"]=i}}function lt(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),i=n.length;i--;)o.attrHandle[n[i]]=e}function ut(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function mt(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function ft(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,o){for(var i,s=t([],n.length,e),r=s.length;r--;)n[i=s[r]]&&(n[i]=!(o[i]=n[i]))}))}))}function wt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,i,r=t?t.ownerDocument||t:C;return r!=p&&9===r.nodeType&&r.documentElement?(m=(p=r).documentElement,f=!s(p),C!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener(\"unload\",st,!1):i.attachEvent&&i.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return m.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return m.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(o.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n=e.getElementById(t);return n?[n]:[]}}):(o.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var n,o,i,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(i=e.getElementsByName(t),o=0;s=i[o++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),o.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,o=[],i=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[i++];)1===n.nodeType&&o.push(n);return o}return s},o.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},w=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;m.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+O+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),m.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(v=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=v.call(t,\"*\"),v.call(t,\"[s!='']:x\"),w.push(\"!=\",F)})),g=g.length&&new RegExp(g.join(\"|\")),w=w.length&&new RegExp(w.join(\"|\")),e=Q.test(m.compareDocumentPosition),y=e||Q.test(m.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===o?t==p||t.ownerDocument==C&&y(C,t)?-1:e==p||e.ownerDocument==C&&y(C,e)?1:d?L(d,t)-L(d,e):0:4&o?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,o=0,i=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!i||!s)return t==p?-1:e==p?1:i?-1:s?1:d?L(d,t)-L(d,e):0;if(i===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[o]===a[o];)o++;return o?ut(r[o],a[o]):r[o]==C?-1:a[o]==C?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&f&&!E[e+\" \"]&&(!w||!w.test(e))&&(!g||!g.test(e)))try{var o=v.call(t,e);if(o||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){E(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var i=o.attrHandle[e.toLowerCase()],s=i&&T.call(o.attrHandle,e.toLowerCase())?i(t,e,!f):void 0;return void 0!==s?s:n.attributes||!f?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(ot,it)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,o=[],i=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(i=o.push(s));for(;i--;)t.splice(o[i],1)}return d=null,t},i=at.getText=function(t){var e,n=\"\",o=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[o++];)n+=i(e);return n},(o=at.selectors={cacheLength:50,createPseudo:lt,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&V.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=b[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+R+\"|$)\"))&&b(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(o){var i=at.attr(o,t);return null==i?\"!=\"===e:!e||(i+=\"\",\"=\"===e?i===n:\"!=\"===e?i!==n:\"^=\"===e?n&&0===i.indexOf(n):\"*=\"===e?n&&i.indexOf(n)>-1:\"$=\"===e?n&&i.slice(-n.length)===n:\"~=\"===e?(\" \"+i.replace($,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(i===n||i.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,o,i){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===o&&0===i?function(t){return!!t.parentNode}:function(e,n,c){var l,d,h,u,p,m,f=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,w=a&&e.nodeName.toLowerCase(),v=!c&&!a,y=!1;if(g){if(s){for(;f;){for(u=e;u=u[f];)if(a?u.nodeName.toLowerCase()===w:1===u.nodeType)return!1;m=f=\"only\"===t&&!m&&\"nextSibling\"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&v){for(y=(p=(l=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1])&&l[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(y=p=0)||m.pop();)if(1===u.nodeType&&++y&&u===e){d[t]=[I,p,y];break}}else if(v&&(y=p=(l=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&l[1]),!1===y)for(;(u=++p&&u&&u[f]||(y=p=0)||m.pop())&&((a?u.nodeName.toLowerCase()!==w:1!==u.nodeType)||!++y||(v&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[I,y]),u!==e)););return(y-=i)===o||y%o==0&&y/o>=0}}},PSEUDO:function(t,e){var n,i=o.pseudos[t]||o.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return i[_]?i(e):i.length>1?(n=[t,t,\"\",e],o.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var o,s=i(t,e),r=s.length;r--;)t[o=L(t,s[r])]=!(n[o]=s[r])})):function(t){return i(t,0,n)}):i}},pseudos:{not:lt((function(t){var e=[],n=[],o=a(t.replace(N,\"$1\"));return o[_]?lt((function(t,e,n,i){for(var s,r=o(t,null,i,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,i,s){return e[0]=t,o(e,null,s,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=f?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===m},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var o=n<0?n+e:n>e?e:n;--o>=0;)t.push(o);return t})),gt:gt((function(t,e,n){for(var o=n<0?n+e:n;++o<e;)t.push(o);return t}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})o.pseudos[e]=mt(e);function vt(){}function yt(t){for(var e=0,n=t.length,o=\"\";e<n;e++)o+=t[e].value;return o}function _t(t,e,n){var o=e.dir,i=e.next,s=i||o,r=n&&\"parentNode\"===s,a=k++;return e.first?function(e,n,i){for(;e=e[o];)if(1===e.nodeType||r)return t(e,n,i);return!1}:function(e,n,c){var l,d,h,u=[I,a];if(c){for(;e=e[o];)if((1===e.nodeType||r)&&t(e,n,c))return!0}else for(;e=e[o];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[o]||e;else{if((l=d[s])&&l[0]===I&&l[1]===a)return u[2]=l[2];if(d[s]=u,u[2]=t(e,n,c))return!0}return!1}}function Ct(t){return t.length>1?function(e,n,o){for(var i=t.length;i--;)if(!t[i](e,n,o))return!1;return!0}:t[0]}function It(t,e,n,o,i){for(var s,r=[],a=0,c=t.length,l=null!=e;a<c;a++)(s=t[a])&&(n&&!n(s,o,i)||(r.push(s),l&&e.push(a)));return r}function kt(t,e,n,o,i,s){return o&&!o[_]&&(o=kt(o)),i&&!i[_]&&(i=kt(i,s)),lt((function(s,r,a,c){var l,d,h,u=[],p=[],m=r.length,f=s||function(t,e,n){for(var o=0,i=e.length;o<i;o++)at(t,e[o],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?f:It(f,u,t,a,c),w=n?i||(s?t:m||o)?[]:r:g;if(n&&n(g,w,a,c),o)for(l=It(w,p),o(l,[],a,c),d=l.length;d--;)(h=l[d])&&(w[p[d]]=!(g[p[d]]=h));if(s){if(i||t){if(i){for(l=[],d=w.length;d--;)(h=w[d])&&l.push(g[d]=h);i(null,w=[],l,c)}for(d=w.length;d--;)(h=w[d])&&(l=i?L(s,h):u[d])>-1&&(s[l]=!(r[l]=h))}}else w=It(w===r?w.splice(m,w.length):w),i?i(null,r,w,c):A.apply(r,w)}))}function bt(t){for(var e,n,i,s=t.length,r=o.relative[t[0].type],a=r||o.relative[\" \"],c=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return L(e,t)>-1}),a,!0),u=[function(t,n,o){var i=!r&&(o||n!==l)||((e=n).nodeType?d(t,n,o):h(t,n,o));return e=null,i}];c<s;c++)if(n=o.relative[t[c].type])u=[_t(Ct(u),n)];else{if((n=o.filter[t[c].type].apply(null,t[c].matches))[_]){for(i=++c;i<s&&!o.relative[t[i].type];i++);return kt(c>1&&Ct(u),c>1&&yt(t.slice(0,c-1).concat({value:\" \"===t[c-2].type?\"*\":\"\"})).replace(N,\"$1\"),n,c<i&&bt(t.slice(c,i)),i<s&&bt(t=t.slice(i)),i<s&&yt(t))}u.push(n)}return Ct(u)}return vt.prototype=o.filters=o.pseudos,o.setFilters=new vt,r=at.tokenize=function(t,e){var n,i,s,r,a,c,l,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,c=[],l=o.preFilter;a;){for(r in n&&!(i=j.exec(a))||(i&&(a=a.slice(i[0].length)||a),c.push(s=[])),n=!1,(i=q.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(N,\" \")}),a=a.slice(n.length)),o.filter)!(i=X[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),s.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):x(t,c).slice(0)},a=at.compile=function(t,e){var n,i=[],s=[],a=W[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=bt(e[n]))[_]?i.push(a):s.push(a);(a=W(t,function(t,e){var n=e.length>0,i=t.length>0,s=function(s,r,a,c,d){var h,m,g,w=0,v=\"0\",y=s&&[],_=[],C=l,k=s||i&&o.find.TAG(\"*\",d),b=I+=null==C?1:Math.random()||.1,x=k.length;for(d&&(l=r==p||r||d);v!==x&&null!=(h=k[v]);v++){if(i&&h){for(m=0,r||h.ownerDocument==p||(u(h),a=!f);g=t[m++];)if(g(h,r||p,a)){c.push(h);break}d&&(I=b)}n&&((h=!g&&h)&&w--,s&&y.push(h))}if(w+=v,n&&v!==w){for(m=0;g=e[m++];)g(y,_,r,a);if(s){if(w>0)for(;v--;)y[v]||_[v]||(_[v]=D.call(c));_=It(_)}A.apply(c,_),d&&!s&&_.length>0&&w+e.length>1&&at.uniqueSort(c)}return d&&(I=b,l=C),y};return n?lt(s):s}(s,i))).selector=t}return a},c=at.select=function(t,e,n,i){var s,c,l,d,h,u=\"function\"==typeof t&&t,p=!i&&r(t=u.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===e.nodeType&&f&&o.relative[c[1].type]){if(!(e=(o.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=X.needsContext.test(t)?0:c.length;s--&&(l=c[s],!o.relative[d=l.type]);)if((h=o.find[d])&&(i=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&wt(e.parentNode)||e))){if(c.splice(s,1),!(t=i.length&&yt(c)))return A.apply(n,i),n;break}}return(u||a(t,p))(i,e,!f,n,!e||tt.test(t)&&wt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(S).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(O,(function(t,e,n){var o;if(!n)return!0===t[e]?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null})),at}(t);C.find=k,C.expr=k.selectors,C.expr[\":\"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var b=function(t,e,n){for(var o=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&C(t).is(n))break;o.push(t)}return o},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},W=C.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,n){return m(e)?C.grep(t,(function(t,o){return!!e.call(t,o,t)!==n})):e.nodeType?C.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?C.grep(t,(function(t){return a.call(e,t)>-1!==n})):C.filter(e,t,n)}C.filter=function(t,e,n){var o=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===o.nodeType?C.find.matchesSelector(o,t)?[o]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,n,o=this.length,i=this;if(\"string\"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<o;e++)if(C.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<o;e++)C.find(t,i[e],n);return o>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&W.test(t)?C(t):t||[],!1).length}});var B,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(C.fn.init=function(t,e,n){var o,i;if(!t)return this;if(n=n||B,\"string\"==typeof t){if(!(o=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(o[1])&&C.isPlainObject(e))for(o in e)m(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(i=g.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,B=C(g);var M=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var n,o=0,i=this.length,s=[],r=\"string\"!=typeof t&&C(t);if(!W.test(t))for(;o<i;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(C(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,\"parentNode\")},parentsUntil:function(t,e,n){return b(t,\"parentNode\",n)},next:function(t){return P(t,\"nextSibling\")},prev:function(t){return P(t,\"previousSibling\")},nextAll:function(t){return b(t,\"nextSibling\")},prevAll:function(t){return b(t,\"previousSibling\")},nextUntil:function(t,e,n){return b(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return b(t,\"previousSibling\",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(E(t,\"template\")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(n,o){var i=C.map(this,e,n);return\"Until\"!==t.slice(-5)&&(o=n),o&&\"string\"==typeof o&&(i=C.filter(o,i)),this.length>1&&(A[t]||C.uniqueSort(i),M.test(t)&&i.reverse()),this.pushStack(i)}}));var L=/[^\\x20\\t\\r\\n\\f]+/g;function O(t){return t}function R(t){throw t}function H(t,e,n,o){var i;try{t&&m(i=t.promise)?i.call(t).done(e).fail(n):t&&m(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(o))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return C.each(t.match(L)||[],(function(t,n){e[n]=!0})),e}(t):C.extend({},t);var e,n,o,i,s=[],r=[],a=-1,c=function(){for(i=i||t.once,o=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,i&&(s=n?[]:\"\")},l={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){C.each(n,(function(n,o){m(o)?t.unique&&l.has(o)||s.push(o):o&&o.length&&\"string\"!==y(o)&&e(o)}))}(arguments),n&&!e&&c()),this},remove:function(){return C.each(arguments,(function(t,e){for(var n;(n=C.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return i=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},C.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",C.Callbacks(\"memory\"),C.Callbacks(\"memory\"),2],[\"resolve\",\"done\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),1,\"rejected\"]],o=\"pending\",i={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(e){C.each(n,(function(n,o){var i=m(t[o[4]])&&t[o[4]];s[o[1]]((function(){var t=i&&i.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[o[0]+\"With\"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(e,o,i){var s=0;function r(e,n,o,i){return function(){var a=this,c=arguments,l=function(){var t,l;if(!(e<s)){if((t=o.apply(a,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");l=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,m(l)?i?l.call(t,r(s,n,O,i),r(s,n,R,i)):(s++,l.call(t,r(s,n,O,i),r(s,n,R,i),r(s,n,O,n.notifyWith))):(o!==O&&(a=void 0,c=[t]),(i||n.resolveWith)(a,c))}},d=i?l:function(){try{l()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(o!==R&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),t.setTimeout(d))}}return C.Deferred((function(t){n[0][3].add(r(0,t,m(i)?i:O,t.notifyWith)),n[1][3].add(r(0,t,m(e)?e:O)),n[2][3].add(r(0,t,m(o)?o:R))})).promise()},promise:function(t){return null!=t?C.extend(t,i):i}},s={};return C.each(n,(function(t,e){var r=e[2],a=e[5];i[e[1]]=r.add,a&&r.add((function(){o=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),i.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,o=Array(n),s=i.call(arguments),r=C.Deferred(),a=function(t){return function(n){o[t]=this,s[t]=arguments.length>1?i.call(arguments):n,--e||r.resolveWith(o,s)}};if(e<=1&&(H(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||m(s[n]&&s[n].then)))return r.then();for(;n--;)H(s[n],a(n),r.reject);return r.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&z.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},C.readyException=function(e){t.setTimeout((function(){throw e}))};var F=C.Deferred();function $(){g.removeEventListener(\"DOMContentLoaded\",$),t.removeEventListener(\"load\",$),C.ready()}C.fn.ready=function(t){return F.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||F.resolveWith(g,[C]))}}),C.ready.then=F.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(C.ready):(g.addEventListener(\"DOMContentLoaded\",$),t.addEventListener(\"load\",$));var N=function(t,e,n,o,i,s,r){var a=0,c=t.length,l=null==n;if(\"object\"===y(n))for(a in i=!0,n)N(t,e,a,n[a],!0,s,r);else if(void 0!==o&&(i=!0,m(o)||(r=!0),l&&(r?(e.call(t,o),e=null):(l=e,e=function(t,e,n){return l.call(C(t),n)})),e))for(;a<c;a++)e(t[a],n,r?o:o.call(t[a],a,e(t[a],n)));return i?t:l?e.call(t):c?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(j,\"ms-\").replace(q,U)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var o,i=this.cache(t);if(\"string\"==typeof e)i[V(e)]=n;else for(o in e)i[V(o)]=e[o];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,o=t[this.expando];if(void 0!==o){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in o?[e]:e.match(L)||[]).length;for(;n--;)delete o[e[n]]}(void 0===e||C.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var o;if(void 0===n&&1===t.nodeType)if(o=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(o))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,o,i,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(i=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(o=r[n].name).indexOf(\"data-\")&&(o=V(o.slice(5)),K(s,o,i[o]));Y.set(s,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):N(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),C.extend({queue:function(t,e,n){var o;if(t)return e=(e||\"fx\")+\"queue\",o=Y.get(t,e),n&&(!o||Array.isArray(n)?o=Y.access(t,e,C.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,e){e=e||\"fx\";var n=C.queue(t,e),o=n.length,i=n.shift(),s=C._queueHooks(t,e);\"inprogress\"===i&&(i=n.shift(),o--),i&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,i.call(t,(function(){C.dequeue(t,e)}),s)),!o&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:C.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),C.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each((function(){var n=C.queue(this,t,e);C._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,o=1,i=C.Deferred(),s=this,r=this.length,a=function(){--o||i.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ot=g.documentElement,it=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(it=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&it(t)&&\"none\"===C.css(t,\"display\")};function at(t,e,n,o){var i,s,r=20,a=o?function(){return o.cur()}:function(){return C.css(t,e,\"\")},c=a(),l=n&&n[3]||(C.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(C.cssNumber[e]||\"px\"!==l&&+c)&&et.exec(C.css(t,e));if(d&&d[3]!==l){for(c/=2,l=l||d[3],d=+c||1;r--;)C.style(t,e,d+l),(1-s)*(1-(s=a()/c||.5))<=0&&(r=0),d/=s;d*=2,C.style(t,e,d+l),n=n||[]}return n&&(d=+d||+c||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],o&&(o.unit=l,o.start=d,o.end=i)),i}var ct={};function lt(t){var e,n=t.ownerDocument,o=t.nodeName,i=ct[o];return i||(e=n.body.appendChild(n.createElement(o)),i=C.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===i&&(i=\"block\"),ct[o]=i,i)}function dt(t,e){for(var n,o,i=[],s=0,r=t.length;s<r;s++)(o=t[s]).style&&(n=o.style.display,e?(\"none\"===n&&(i[s]=Y.get(o,\"display\")||null,i[s]||(o.style.display=\"\")),\"\"===o.style.display&&rt(o)&&(i[s]=lt(o))):\"none\"!==n&&(i[s]=\"none\",Y.set(o,\"display\",n)));for(s=0;s<r;s++)null!=i[s]&&(t[s].style.display=i[s]);return t}C.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?C(this).show():C(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,ft=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function wt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&E(t,e)?C.merge([t],n):n}function vt(t,e){for(var n=0,o=t.length;n<o;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var yt=/<|&#?\\w+;/;function _t(t,e,n,o,i){for(var s,r,a,c,l,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if(\"object\"===y(s))C.merge(u,s.nodeType?[s]:s);else if(yt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(mt.exec(s)||[\"\",\"\"])[1].toLowerCase(),c=gt[a]||gt._default,r.innerHTML=c[1]+C.htmlPrefilter(s)+c[2],d=c[0];d--;)r=r.lastChild;C.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(o&&C.inArray(s,o)>-1)i&&i.push(s);else if(l=it(s),r=wt(h.appendChild(s),\"script\"),l&&vt(r),n)for(d=0;s=r[d++];)ft.test(s.type||\"\")&&n.push(s);return h}var Ct=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\\.(.+)|)/;function bt(){return!0}function xt(){return!1}function Wt(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Et(t,e,n,o,i,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(o=o||n,n=void 0),e)Et(t,a,n,o,e[a],s);return t}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&(\"string\"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=xt;else if(!i)return t;return 1===s&&(r=i,(i=function(t){return C().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),t.each((function(){C.event.add(this,e,i,o,n)}))}function St(t,e,n){n?(Y.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var o,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=i.call(arguments),Y.set(this,e,r),o=n(this,e),this[e](),r!==(s=Y.get(this,e))||o?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&C.event.add(t,e,bt)}C.event={global:{},add:function(t,e,n,o,i){var s,r,a,c,l,d,h,u,p,m,f,g=Y.get(t);if(G(t))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&C.find.matchesSelector(ot,i),n.guid||(n.guid=C.guid++),(c=g.events)||(c=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\"\").match(L)||[\"\"]).length;l--;)p=f=(a=kt.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p&&(h=C.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},d=C.extend({type:p,origType:f,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:m.join(\".\")},s),(u=c[p])||((u=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,o,m,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),C.event.global[p]=!0)},remove:function(t,e,n,o,i){var s,r,a,c,l,d,h,u,p,m,f,g=Y.hasData(t)&&Y.get(t);if(g&&(c=g.events)){for(l=(e=(e||\"\").match(L)||[\"\"]).length;l--;)if(p=f=(a=kt.exec(e[l])||[])[1],m=(a[2]||\"\").split(\".\").sort(),p){for(h=C.event.special[p]||{},u=c[p=(o?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!i&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||o&&o!==d.selector&&(\"**\"!==o||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,g.handle)||C.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)C.event.remove(t,p+e[l],n,o,!0);C.isEmptyObject(c)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,o,i,s,r,a=new Array(arguments.length),c=C.event.fix(t),l=(Y.get(this,\"events\")||Object.create(null))[c.type]||[],d=C.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(r=C.event.handlers.call(this,c,l),e=0;(i=r[e++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test(s.namespace)||(c.handleObj=s,c.data=s.data,void 0!==(o=((C.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(c.result=o)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,o,i,s,r,a=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==t.type||!0!==l.disabled)){for(s=[],r={},n=0;n<c;n++)void 0===r[i=(o=e[n]).selector+\" \"]&&(r[i]=o.needsContext?C(i,this).index(l)>-1:C.find(i,this,null,[l]).length),r[i]&&s.push(o);s.length&&a.push({elem:l,handlers:s})}return l=this,c<e.length&&a.push({elem:l,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\",bt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&E(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&E(e,\"input\")&&Y.get(e,\"click\")||E(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&It.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){C.event.special[t]={setup:function(){return St(this,t,Wt),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),C.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,i=t.relatedTarget,s=t.handleObj;return i&&(i===o||C.contains(o,i))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),C.fn.extend({on:function(t,e,n,o){return Et(this,t,e,n,o)},one:function(t,e,n,o){return Et(this,t,e,n,o,1)},off:function(t,e,n){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,C(t.delegateTarget).off(o.namespace?o.origType+\".\"+o.namespace:o.origType,o.selector,o.handler),this;if(\"object\"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=xt),this.each((function(){C.event.remove(this,t,n,e)}))}});var Tt=/<script|<style|<link/i,Bt=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Mt(t,e){return E(t,\"table\")&&E(11!==e.nodeType?e:e.firstChild,\"tr\")&&C(t).children(\"tbody\")[0]||t}function At(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Pt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Lt(t,e){var n,o,i,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(i in Y.remove(e,\"handle events\"),a)for(n=0,o=a[i].length;n<o;n++)C.event.add(e,i,a[i][n]);J.hasData(t)&&(s=J.access(t),r=C.extend({},s),J.set(e,r))}}function Ot(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function Rt(t,e,n,o){e=s(e);var i,r,a,c,l,d,h=0,u=t.length,f=u-1,g=e[0],w=m(g);if(w||u>1&&\"string\"==typeof g&&!p.checkClone&&Bt.test(g))return t.each((function(i){var s=t.eq(i);w&&(e[0]=g.call(this,i,s.html())),Rt(s,e,n,o)}));if(u&&(r=(i=_t(e,t[0].ownerDocument,!1,t,o)).firstChild,1===i.childNodes.length&&(i=r),r||o)){for(c=(a=C.map(wt(i,\"script\"),At)).length;h<u;h++)l=i,h!==f&&(l=C.clone(l,!0,!0),c&&C.merge(a,wt(l,\"script\"))),n.call(t[h],l,h);if(c)for(d=a[a.length-1].ownerDocument,C.map(a,Pt),h=0;h<c;h++)l=a[h],ft.test(l.type||\"\")&&!Y.access(l,\"globalEval\")&&C.contains(d,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},d):v(l.textContent.replace(Dt,\"\"),l,d))}return t}function Ht(t,e,n){for(var o,i=e?C.filter(e,t):t,s=0;null!=(o=i[s]);s++)n||1!==o.nodeType||C.cleanData(wt(o)),o.parentNode&&(n&&it(o)&&vt(wt(o,\"script\")),o.parentNode.removeChild(o));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var o,i,s,r,a=t.cloneNode(!0),c=it(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=wt(a),o=0,i=(s=wt(t)).length;o<i;o++)Ot(s[o],r[o]);if(e)if(n)for(s=s||wt(t),r=r||wt(a),o=0,i=s.length;o<i;o++)Lt(s[o],r[o]);else Lt(t,a);return(r=wt(a,\"script\")).length>0&&vt(r,!c&&wt(t,\"script\")),a},cleanData:function(t){for(var e,n,o,i=C.event.special,s=0;void 0!==(n=t[s]);s++)if(G(n)){if(e=n[Y.expando]){if(e.events)for(o in e.events)i[o]?C.event.remove(n,o):C.removeEvent(n,o,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return N(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Rt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)}))},prepend:function(){return Rt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(wt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return N(this,(function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(mt.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<o;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,(function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(wt(this)),n&&n.replaceChild(e,this))}),t)}}),C.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){C.fn[t]=function(t){for(var n,o=[],i=C(t),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),C(i[a])[e](n),r.apply(o,n.get());return this.pushStack(o)}}));var zt=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),Ft=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},$t=function(t,e,n){var o,i,s={};for(i in e)s[i]=t.style[i],t.style[i]=e[i];for(i in o=n.call(t),e)t.style[i]=s[i];return o},Nt=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var o,i,s,r,a=t.style;return(n=n||Ft(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||it(t)||(r=C.style(t,e)),!p.pixelBoxStyles()&&zt.test(r)&&Nt.test(e)&&(o=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=o,a.minWidth=i,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",ot.appendChild(l).appendChild(d);var e=t.getComputedStyle(d);o=\"1%\"!==e.top,c=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),i=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),ot.removeChild(l),d=null}}function n(t){return Math.round(parseFloat(t))}var o,i,s,r,a,c,l=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,o,i;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),o=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",o.style.height=\"9px\",ot.appendChild(e).appendChild(n).appendChild(o),i=t.getComputedStyle(n),a=parseInt(i.height)>3,ot.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Vt=g.createElement(\"div\").style,Gt={};function Xt(t){var e=C.cssProps[t]||Gt[t];return e||(t in Vt?t:Gt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Vt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var o=et.exec(e);return o?Math.max(0,o[2]-(n||0))+(o[3]||\"px\"):e}function te(t,e,n,o,i,s){var r=\"width\"===e?1:0,a=0,c=0;if(n===(o?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(c+=C.css(t,n+nt[r],!0,i)),o?(\"content\"===n&&(c-=C.css(t,\"padding\"+nt[r],!0,i)),\"margin\"!==n&&(c-=C.css(t,\"border\"+nt[r]+\"Width\",!0,i))):(c+=C.css(t,\"padding\"+nt[r],!0,i),\"padding\"!==n?c+=C.css(t,\"border\"+nt[r]+\"Width\",!0,i):a+=C.css(t,\"border\"+nt[r]+\"Width\",!0,i));return!o&&s>=0&&(c+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-c-a-.5))||0),c}function ee(t,e,n){var o=Ft(t),i=(!p.boxSizingReliable()||n)&&\"border-box\"===C.css(t,\"boxSizing\",!1,o),s=i,r=jt(t,e,o),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if(zt.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&E(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===C.css(t,\"display\",!1,o))&&t.getClientRects().length&&(i=\"border-box\"===C.css(t,\"boxSizing\",!1,o),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(i?\"border\":\"content\"),s,o,r)+\"px\"}function ne(t,e,n,o,i){return new ne.prototype.init(t,e,n,o,i)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,s,r,a=V(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(i=r.get(t,!1,o))?i:l[e];\"string\"===(s=typeof n)&&(i=et.exec(n))&&i[1]&&(n=at(t,e,i),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||c||(n+=i&&i[3]||(C.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(l[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,o))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,o){var i,s,r,a=V(e);return Jt.test(e)||(e=Xt(a)),(r=C.cssHooks[e]||C.cssHooks[a])&&\"get\"in r&&(i=r.get(t,!0,n)),void 0===i&&(i=jt(t,e,o)),\"normal\"===i&&e in Qt&&(i=Qt[e]),\"\"===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),C.each([\"height\",\"width\"],(function(t,e){C.cssHooks[e]={get:function(t,n,o){if(n)return!Yt.test(C.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,o):$t(t,Zt,(function(){return ee(t,e,o)}))},set:function(t,n,o){var i,s=Ft(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||o)&&\"border-box\"===C.css(t,\"boxSizing\",!1,s),c=o?te(t,e,o,a,s):0;return a&&r&&(c-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),c&&(i=et.exec(n))&&\"px\"!==(i[3]||\"px\")&&(t.style[e]=n,n=C.css(t,e)),Kt(0,n,c)}}})),C.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-$t(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),C.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){C.cssHooks[t+e]={expand:function(n){for(var o=0,i={},s=\"string\"==typeof n?n.split(\" \"):[n];o<4;o++)i[t+nt[o]+e]=s[o]||s[o-2]||s[0];return i}},\"margin\"!==t&&(C.cssHooks[t+e].set=Kt)})),C.fn.extend({css:function(t,e){return N(this,(function(t,e,n){var o,i,s={},r=0;if(Array.isArray(e)){for(o=Ft(t),i=e.length;r<i;r++)s[e[r]]=C.css(t,e[r],!1,o);return s}return void 0!==n?C.style(t,e,n):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,o,i,s){this.elem=t,this.prop=n,this.easing=i||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=s||(C.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},C.fx=ne.prototype.init,C.fx.step={};var oe,ie,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ie&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,C.fx.interval),C.fx.tick())}function ce(){return t.setTimeout((function(){oe=void 0})),oe=Date.now()}function le(t,e){var n,o=0,i={height:t};for(e=e?1:0;o<4;o+=2-e)i[\"margin\"+(n=nt[o])]=i[\"padding\"+n]=t;return e&&(i.opacity=i.width=t),i}function de(t,e,n){for(var o,i=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=i.length;s<r;s++)if(o=i[s].call(n,e,t))return o}function he(t,e,n){var o,i,s=0,r=he.prefilters.length,a=C.Deferred().always((function(){delete c.elem})),c=function(){if(i)return!1;for(var e=oe||ce(),n=Math.max(0,l.startTime+l.duration-e),o=1-(n/l.duration||0),s=0,r=l.tweens.length;s<r;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),o<1&&r?n:(r||a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var o=C.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(o),o},stop:function(e){var n=0,o=e?l.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),d=l.props;for(!function(t,e){var n,o,i,s,r;for(n in t)if(i=e[o=V(n)],s=t[n],Array.isArray(s)&&(i=s[1],s=t[n]=s[0]),n!==o&&(t[o]=s,delete t[n]),(r=C.cssHooks[o])&&\"expand\"in r)for(n in s=r.expand(s),delete t[o],s)n in t||(t[n]=s[n],e[n]=i);else e[o]=i}(d,l.opts.specialEasing);s<r;s++)if(o=he.prefilters[s].call(l,t,d,l.opts))return m(o.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=o.stop.bind(o)),o;return C.map(d,de,l),m(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=[\"*\"]):t=t.match(L);for(var n,o=0,i=t.length;o<i;o++)n=t[o],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var o,i,s,r,a,c,l,d,h=\"width\"in e||\"height\"in e,u=this,p={},m=t.style,f=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(o in n.queue||(null==(r=C._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(i=e[o],se.test(i)){if(delete e[o],s=s||\"toggle\"===i,i===(f?\"hide\":\"show\")){if(\"show\"!==i||!g||void 0===g[o])continue;f=!0}p[o]=g&&g[o]||C.style(t,o)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(o in h&&1===t.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(l=g&&g.display)&&(l=Y.get(t,\"display\")),\"none\"===(d=C.css(t,\"display\"))&&(l?d=l:(dt([t],!0),l=t.style.display||l,d=C.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=l)&&\"none\"===C.css(t,\"float\")&&(c||(u.done((function(){m.display=l})),null==l&&(d=m.display,l=\"none\"===d?\"\":d)),m.display=\"inline-block\")),n.overflow&&(m.overflow=\"hidden\",u.always((function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}))),c=!1,p)c||(g?\"hidden\"in g&&(f=g.hidden):g=Y.access(t,\"fxshow\",{display:l}),s&&(g.hidden=!f),f&&dt([t],!0),u.done((function(){for(o in f||dt([t]),Y.remove(t,\"fxshow\"),p)C.style(t,o,p[o])}))),c=de(f?g[o]:0,o,u),o in g||(g[o]=c.start,f&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,n){var o=t&&\"object\"==typeof t?C.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return C.fx.off?o.duration=0:\"number\"!=typeof o.duration&&(o.duration in C.fx.speeds?o.duration=C.fx.speeds[o.duration]:o.duration=C.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue=\"fx\"),o.old=o.complete,o.complete=function(){m(o.old)&&o.old.call(this),o.queue&&C.dequeue(this,o.queue)},o},C.fn.extend({fadeTo:function(t,e,n,o){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var i=C.isEmptyObject(t),s=C.speed(e,n,o),r=function(){var e=he(this,C.extend({},t),s);(i||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,i||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,i=null!=t&&t+\"queueHooks\",s=C.timers,r=Y.get(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&re.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));!e&&n||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),o=n[t+\"queue\"],i=n[t+\"queueHooks\"],s=C.timers,r=o?o.length:0;for(n.finish=!0,C.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish}))}}),C.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=C.fn[e];C.fn[e]=function(t,o,i){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,o,i)}})),C.each({slideDown:le(\"show\"),slideUp:le(\"hide\"),slideToggle:le(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){C.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}})),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),oe=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ie||(ie=!0,ae())},C.fx.stop=function(){ie=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,n){return e=C.fx&&C.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,o){var i=t.setTimeout(n,e);o.stop=function(){t.clearTimeout(i)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return N(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,n){var o,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,n):(1===s&&C.isXMLDoc(t)||(i=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):i&&\"set\"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+\"\"),n):i&&\"get\"in i&&null!==(o=i.get(t,e))?o:null==(o=C.find.attr(t,e))?void 0:o)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&E(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,o=0,i=e&&e.match(L);if(i&&1===t.nodeType)for(;n=i[o++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||C.find.attr;pe[e]=function(t,e,o){var i,s,r=e.toLowerCase();return o||(s=pe[r],pe[r]=i,i=null!=n(t,e,o)?r:null,pe[r]=s),i}}));var me=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(L)||[]).join(\" \")}function we(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ve(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(L)||[]}C.fn.extend({prop:function(t,e){return N(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,n){var o,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,i=C.propHooks[e]),void 0!==n?i&&\"set\"in i&&void 0!==(o=i.set(t,n,e))?o:t[e]=n:i&&\"get\"in i&&null!==(o=i.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,\"tabindex\");return e?parseInt(e,10):me.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,n,o,i,s,r,a,c=0;if(m(t))return this.each((function(e){C(this).addClass(t.call(this,e,we(this)))}));if((e=ve(t)).length)for(;n=this[c++];)if(i=we(n),o=1===n.nodeType&&\" \"+ge(i)+\" \"){for(r=0;s=e[r++];)o.indexOf(\" \"+s+\" \")<0&&(o+=s+\" \");i!==(a=ge(o))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,o,i,s,r,a,c=0;if(m(t))return this.each((function(e){C(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ve(t)).length)for(;n=this[c++];)if(i=we(n),o=1===n.nodeType&&\" \"+ge(i)+\" \"){for(r=0;s=e[r++];)for(;o.indexOf(\" \"+s+\" \")>-1;)o=o.replace(\" \"+s+\" \",\" \");i!==(a=ge(o))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,o=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&o?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){C(this).toggleClass(t.call(this,n,we(this),e),e)})):this.each((function(){var e,i,s,r;if(o)for(i=0,s=C(this),r=ve(t);e=r[i++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=we(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,o=0;for(e=\" \"+t+\" \";n=this[o++];)if(1===n.nodeType&&(\" \"+ge(we(n))+\" \").indexOf(e)>-1)return!0;return!1}});var ye=/\\r/g;C.fn.extend({val:function(t){var e,n,o,i=this[0];return arguments.length?(o=m(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?t.call(this,n,C(this).val()):t)?i=\"\":\"number\"==typeof i?i+=\"\":Array.isArray(i)&&(i=C.map(i,(function(t){return null==t?\"\":t+\"\"}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,i,\"value\")||(this.value=i))}))):i?(e=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(i,\"value\"))?n:\"string\"==typeof(n=i.value)?n.replace(ye,\"\"):null==n?\"\":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,\"value\");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,n,o,i=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],c=r?s+1:i.length;for(o=s<0?c:r?s:0;o<c;o++)if(((n=i[o]).selected||o===s)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,\"optgroup\"))){if(e=C(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,o,i=t.options,s=C.makeArray(e),r=i.length;r--;)((o=i[r]).selected=C.inArray(C.valHooks.option.get(o),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),C.each([\"radio\",\"checkbox\"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},p.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(e,n,o,i){var s,r,a,c,l,h,u,p,w=[o||g],v=d.call(e,\"type\")?e.type:e,y=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=o=o||g,3!==o.nodeType&&8!==o.nodeType&&!_e.test(v+C.event.triggered)&&(v.indexOf(\".\")>-1&&(y=v.split(\".\"),v=y.shift(),y.sort()),l=v.indexOf(\":\")<0&&\"on\"+v,(e=e[C.expando]?e:new C.Event(v,\"object\"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+y.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:C.makeArray(n,[e]),u=C.event.special[v]||{},i||!u.trigger||!1!==u.trigger.apply(o,n))){if(!i&&!u.noBubble&&!f(o)){for(c=u.delegateType||v,_e.test(c+v)||(r=r.parentNode);r;r=r.parentNode)w.push(r),a=r;a===(o.ownerDocument||g)&&w.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=w[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?c:u.bindType||v,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=l&&r[l])&&h.apply&&G(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(w.pop(),n)||!G(o)||l&&m(o[v])&&!f(o)&&((a=o[l])&&(o[l]=null),C.event.triggered=v,e.isPropagationStopped()&&p.addEventListener(v,Ce),o[v](),e.isPropagationStopped()&&p.removeEventListener(v,Ce),C.event.triggered=void 0,a&&(o[l]=a)),e.result}},simulate:function(t,e,n){var o=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(o,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),p.focusin||C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var o=this.ownerDocument||this.document||this,i=Y.access(o,e);i||o.addEventListener(t,n,!0),Y.access(o,e,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=Y.access(o,e)-1;i?Y.access(o,e,i):(o.removeEventListener(t,n,!0),Y.remove(o,e))}}}));var Ie=t.location,ke={guid:Date.now()},be=/\\?/;C.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||C.error(\"Invalid XML: \"+e),n};var xe=/\\[\\]$/,We=/\\r?\\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,o){var i;if(Array.isArray(e))C.each(e,(function(e,i){n||xe.test(t)?o(t,i):Te(t+\"[\"+(\"object\"==typeof i&&null!=i?e:\"\")+\"]\",i,n,o)}));else if(n||\"object\"!==y(e))o(t,e);else for(i in e)Te(t+\"[\"+i+\"]\",e[i],n,o)}C.param=function(t,e){var n,o=[],i=function(t,e){var n=m(e)?e():e;o[o.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){i(this.name,this.value)}));else for(n in t)Te(n,t[n],e,i);return o.join(\"&\")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,\"elements\");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(\":disabled\")&&Se.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(t){return{name:e.name,value:t.replace(We,\"\\r\\n\")}})):{name:e.name,value:n.replace(We,\"\\r\\n\")}})).get()}});var Be=/%20/g,De=/#.*$/,Me=/([?&])_=[^&]*/,Ae=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Le=/^\\/\\//,Oe={},Re={},He=\"*/\".concat(\"*\"),ze=g.createElement(\"a\");function Fe(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var o,i=0,s=e.toLowerCase().match(L)||[];if(m(n))for(;o=s[i++];)\"+\"===o[0]?(o=o.slice(1)||\"*\",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function $e(t,e,n,o){var i={},s=t===Re;function r(a){var c;return i[a]=!0,C.each(t[a]||[],(function(t,a){var l=a(e,n,o);return\"string\"!=typeof l||s||i[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)})),c}return r(e.dataTypes[0])||!i[\"*\"]&&r(\"*\")}function Ne(t,e){var n,o,i=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:o||(o={}))[n]=e[n]);return o&&C.extend(!0,t,o),t}ze.href=Ie.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":He,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,C.ajaxSettings),e):Ne(C.ajaxSettings,t)},ajaxPrefilter:Fe(Oe),ajaxTransport:Fe(Re),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var o,i,s,r,a,c,l,d,h,u,p=C.ajaxSetup({},n),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?C(m):C.event,w=C.Deferred(),v=C.Callbacks(\"once memory\"),y=p.statusCode||{},_={},I={},k=\"canceled\",b={readyState:0,getResponseHeader:function(t){var e;if(l){if(!r)for(r={};e=Ae.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)b.always(t[b.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||k;return o&&o.abort(e),x(0,e),this}};if(w.promise(b),p.url=((e||p.url||Ie.href)+\"\").replace(Le,Ie.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(L)||[\"\"],null==p.crossDomain){c=g.createElement(\"a\");try{c.href=p.url,c.href=c.href,p.crossDomain=ze.protocol+\"//\"+ze.host!=c.protocol+\"//\"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),$e(Oe,p,n,b),l)return b;for(h in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),i=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Be,\"+\")):(u=p.url.slice(i.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(i+=(be.test(i)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Me,\"$1\"),u=(be.test(i)?\"&\":\"?\")+\"_=\"+ke.guid+++u),p.url=i+u),p.ifModified&&(C.lastModified[i]&&b.setRequestHeader(\"If-Modified-Since\",C.lastModified[i]),C.etag[i]&&b.setRequestHeader(\"If-None-Match\",C.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&b.setRequestHeader(\"Content-Type\",p.contentType),b.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+He+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)b.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,b,p)||l))return b.abort();if(k=\"abort\",v.add(p.complete),b.done(p.success),b.fail(p.error),o=$e(Re,p,n,b)){if(b.readyState=1,d&&f.trigger(\"ajaxSend\",[b,p]),l)return b;p.async&&p.timeout>0&&(a=t.setTimeout((function(){b.abort(\"timeout\")}),p.timeout));try{l=!1,o.send(_,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,n,r,c){var h,u,g,_,I,k=n;l||(l=!0,a&&t.clearTimeout(a),o=void 0,s=c||\"\",b.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var o,i,s,r,a=t.contents,c=t.dataTypes;\"*\"===c[0];)c.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(o)for(i in a)if(a[i]&&a[i].test(o)){c.unshift(i);break}if(c[0]in n)s=c[0];else{for(i in n){if(!c[0]||t.converters[i+\" \"+c[0]]){s=i;break}r||(r=i)}s=s||r}if(s)return s!==c[0]&&c.unshift(s),n[s]}(p,b,r)),!h&&C.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,o){var i,s,r,a,c,l={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!c&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=s,s=d.shift())if(\"*\"===s)s=c;else if(\"*\"!==c&&c!==s){if(!(r=l[c+\" \"+s]||l[\"* \"+s]))for(i in l)if((a=i.split(\" \"))[1]===s&&(r=l[c+\" \"+a[0]]||l[\"* \"+a[0]])){!0===r?r=l[i]:!0!==l[i]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+c+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,b,h),h?(p.ifModified&&((I=b.getResponseHeader(\"Last-Modified\"))&&(C.lastModified[i]=I),(I=b.getResponseHeader(\"etag\"))&&(C.etag[i]=I)),204===e||\"HEAD\"===p.type?k=\"nocontent\":304===e?k=\"notmodified\":(k=_.state,u=_.data,h=!(g=_.error))):(g=k,!e&&k||(k=\"error\",e<0&&(e=0))),b.status=e,b.statusText=(n||k)+\"\",h?w.resolveWith(m,[u,k,b]):w.rejectWith(m,[b,k,g]),b.statusCode(y),y=void 0,d&&f.trigger(h?\"ajaxSuccess\":\"ajaxError\",[b,p,h?u:g]),v.fireWith(m,[b,k]),d&&(f.trigger(\"ajaxComplete\",[b,p]),--C.active||C.event.trigger(\"ajaxStop\")))}return b},getJSON:function(t,e,n){return C.get(t,e,n,\"json\")},getScript:function(t,e){return C.get(t,void 0,e,\"script\")}}),C.each([\"get\",\"post\"],(function(t,e){C[e]=function(t,n,o,i){return m(n)&&(i=i||o,o=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:i,data:n,success:o},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),C._evalUrl=function(t,e,n){return C.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){C.globalEval(t,e,n)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){C(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=C.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,C.ajaxTransport((function(e){var n,o;if(p.cors||qe&&!e.crossDomain)return{send:function(i,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\"),i)a.setRequestHeader(r,i[r]);n=function(t){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&o()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),C.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,i){e=C(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&i(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ge=/(=)\\?(?=&|$)|\\?\\?/;C.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ve.pop()||C.expando+\"_\"+ke.guid++;return this[t]=!0,t}}),C.ajaxPrefilter(\"json jsonp\",(function(e,n,o){var i,s,r,a=!1!==e.jsonp&&(Ge.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ge.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,\"$1\"+i):!1!==e.jsonp&&(e.url+=(be.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+i),e.converters[\"script json\"]=function(){return r||C.error(i+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[i],t[i]=function(){r=arguments},o.always((function(){void 0===s?C(t).removeProp(i):t[i]=s,e[i]&&(e.jsonpCallback=n.jsonpCallback,Ve.push(i)),r&&m(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),C.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((o=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(o)):e=g),s=!n&&[],(i=S.exec(t))?[e.createElement(i[1])]:(i=_t([t],e,s),s&&s.length&&C(s).remove(),C.merge([],i.childNodes)));var o,i,s},C.fn.load=function(t,e,n){var o,i,s,r=this,a=t.indexOf(\" \");return a>-1&&(o=ge(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(i=\"POST\"),r.length>0&&C.ajax({url:t,type:i||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(o?C(\"<div>\").append(C.parseHTML(t)).find(o):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,n){var o,i,s,r,a,c,l=C.css(t,\"position\"),d=C(t),h={};\"static\"===l&&(t.style.position=\"relative\"),a=d.offset(),s=C.css(t,\"top\"),c=C.css(t,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(s+c).indexOf(\"auto\")>-1?(r=(o=d.position()).top,i=o.left):(r=parseFloat(s)||0,i=parseFloat(c)||0),m(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+i),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,n,o=this[0];return o?o.getClientRects().length?(e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,o=this[0],i={top:0,left:0};if(\"fixed\"===C.css(o,\"position\"))e=o.getBoundingClientRect();else{for(e=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===C.css(t,\"position\");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((i=C(t).offset()).top+=C.css(t,\"borderTopWidth\",!0),i.left+=C.css(t,\"borderLeftWidth\",!0))}return{top:e.top-i.top-C.css(o,\"marginTop\",!0),left:e.left-i.left-C.css(o,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===C.css(t,\"position\");)t=t.offsetParent;return t||ot}))}}),C.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;C.fn[t]=function(o){return N(this,(function(t,o,i){var s;if(f(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===i)return s?s[e]:t[o];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):t[o]=i}),t,o,arguments.length)}})),C.each([\"top\",\"left\"],(function(t,e){C.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),zt.test(n)?C(t).position()[e]+\"px\":n}))})),C.each({Height:\"height\",Width:\"width\"},(function(t,e){C.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,o){C.fn[o]=function(i,s){var r=arguments.length&&(n||\"boolean\"!=typeof i),a=n||(!0===i||!0===s?\"margin\":\"border\");return N(this,(function(e,n,i){var s;return f(e)?0===o.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===i?C.css(e,n,a):C.style(e,n,i,a)}),e,r?i:void 0,r)}}))})),C.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;C.proxy=function(t,e){var n,o,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),m(t))return o=i.call(arguments,2),(s=function(){return t.apply(e||this,o.concat(i.call(arguments)))}).guid=t.guid=t.guid||C.guid++,s},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=m,C.isWindow=f,C.camelCase=V,C.type=y,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return C.noConflict=function(e){return t.$===C&&(t.$=Je),e&&t.jQuery===C&&(t.jQuery=Ye),C},void 0===e&&(t.jQuery=t.$=C),C}))}));let dt;window.$=lt,window.addEventListener(\"beforeunload\",(()=>{ct.dispose(),dt&&dt()}));const ht={init:(t,e)=>{if(rt.initialized)return void rt.init(t,t.agm.instance.windowId,ct,e);ct.subscribeForWorkspaceEvents();const n=rt.init(t,t.agm.instance.windowId,ct,e);return dt=n.cleanUp,ct.init(t,t.agm.instance.windowId).then((()=>{V.config.emptyFrame||rt.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),rt},getFrameId:()=>rt.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>rt.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{rt.unmount()},subscribeForWindowFocused:t=>rt.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{}};export default ht;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport MoveArea from \"./defaultComponents/MoveArea\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps,\r\n    MoveAreaProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents,\r\n    MoveArea\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\nexport const requestFocus: () => void = () => workspacesManager?.requestFocus();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps,\r\n    MoveAreaProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","import { Glue42Web } from \"../../web\";\r\nimport { ParsedConfig } from \"../shared/types\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): ParsedConfig => {\r\n    const combined = Object.assign({}, defaultConfig, config);\r\n\r\n    if (combined.systemLogger) {\r\n        combined.logger = combined.systemLogger.level ?? \"info\";\r\n    }\r\n\r\n    return combined;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const checkSingleton = (): void => {\r\n    const glue42CoreNamespace = (window as any).glue42core;\r\n\r\n    if (glue42CoreNamespace && glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n\r\n    if (!glue42CoreNamespace) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (window as any).glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n\r\n    glue42CoreNamespace.webStarted = true;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport const enterprise = (config: Glue42Web.Config): Glue42.Glue => {\r\n\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: config?.systemLogger?.level ?? \"warn\"\r\n    };\r\n\r\n    return (window as any).Glue(enterpriseConfig);\r\n};","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport {\r\n    IsWindowInSwimlaneResult,\r\n    WorkspaceSnapshotResult,\r\n    ChildSnapshotResult,\r\n    WorkspaceConfigResult,\r\n    FrameSummaryResult,\r\n    WorkspaceCreateConfigProtocol,\r\n    GetFrameSummaryConfig,\r\n    WorkspaceSummaryResult,\r\n    LayoutSummariesResult,\r\n    LayoutSummary,\r\n    OpenWorkspaceConfig,\r\n    FrameSummariesResult,\r\n    WorkspaceSummariesResult,\r\n    ExportedLayoutsResult,\r\n    DeleteLayoutConfig,\r\n    SimpleItemConfig,\r\n    ResizeItemConfig,\r\n    MoveFrameConfig,\r\n    FrameSnapshotResult,\r\n    BaseChildSnapshotConfig,\r\n    ParentSnapshotConfig,\r\n    SwimlaneWindowSnapshotConfig,\r\n    SimpleWindowOperationSuccessResult,\r\n    SetItemTitleConfig,\r\n    MoveWindowConfig,\r\n    AddWindowConfig,\r\n    AddContainerConfig,\r\n    AddItemResult,\r\n    BundleConfig,\r\n    WorkspaceStreamData,\r\n    FrameStreamData,\r\n    ContainerStreamData,\r\n    ContainerSummaryResult,\r\n    WindowStreamData,\r\n    PingResult,\r\n    FrameStateConfig,\r\n    FrameStateResult,\r\n    LockWorkspaceConfig,\r\n    LockWindowConfig,\r\n    LockContainerConfig,\r\n    SubParentSnapshotResult,\r\n    WindowSnapshotResult,\r\n    LockRowConfig,\r\n    LockColumnConfig,\r\n    LockGroupConfig,\r\n    FrameBoundsResult,\r\n    GetWorkspaceIconResult,\r\n    PinWorkspaceConfig,\r\n    SetWorkspaceIconConfig,\r\n    FrameInitializationConfigProtocol,\r\n    WorkspaceSelector\r\n} from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { EmptyFrameDefinition, FrameInitializationConfig, FrameInitializationContext, RestoreWorkspaceDefinition, WorkspacePinOptions } from \"../../temp\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\nexport const positiveNumberDecoder: Decoder<number> = number().where((num) => num > 0, \"Expected a positive number\");\r\n\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const windowDefinitionConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const groupDefinitionConfigDecoder: Decoder<Glue42Workspaces.GroupDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean())\r\n});\r\n\r\nexport const rowDefinitionConfigDecoder: Decoder<Glue42Workspaces.RowDefinitionConfig> = object({\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean())\r\n});\r\n\r\nexport const columnDefinitionConfigDecoder: Decoder<Glue42Workspaces.ColumnDefinitionConfig> = object({\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    isPinned: optional(boolean())\r\n});\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    config: optional(windowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(anyJson())\r\n}));\r\n\r\n\r\nexport const strictColumnDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"column\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(columnDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictRowDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"row\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(rowDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictGroupDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: constant(\"group\"),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    ),\r\n    config: optional(groupDefinitionConfigDecoder)\r\n});\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = oneOf(strictGroupDefinitionDecoder, strictColumnDefinitionDecoder, strictRowDefinitionDecoder);\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const loadingStrategyDecoder: Decoder<Glue42Workspaces.LoadingStrategy> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    loadingStrategy: optional(loadingStrategyDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean()),\r\n    icon: optional(nonEmptyStringDecoder),\r\n    isPinned: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    positionIndex: optional(nonNegativeNumberDecoder)\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n        loadingStrategy: optional(loadingStrategyDecoder),\r\n        allowDrop: optional(boolean()),\r\n        allowDropLeft: optional(boolean()),\r\n        allowDropTop: optional(boolean()),\r\n        allowDropRight: optional(boolean()),\r\n        allowDropBottom: optional(boolean()),\r\n        allowExtract: optional(boolean()),\r\n        showSaveButton: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        allowSplitters: optional(boolean()),\r\n        showWindowCloseButtons: optional(boolean()),\r\n        showEjectButtons: optional(boolean()),\r\n        showAddWindowButtons: optional(boolean()),\r\n        icon: optional(nonEmptyStringDecoder),\r\n        isPinned: optional(boolean()),\r\n        isSelected: optional(boolean()),\r\n        positionIndex: optional(nonNegativeNumberDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSelector> = object({\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const restoreWorkspaceDefinitionDecoder: Decoder<RestoreWorkspaceDefinition> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const emptyFrameDefinitionDecoder: Decoder<EmptyFrameDefinition> = optional(object({\r\n    frameConfig: optional(newFrameConfigDecoder),\r\n    context: optional(object())\r\n}));\r\n\r\nexport const frameInitConfigDecoder: Decoder<FrameInitializationConfig> = object({\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | RestoreWorkspaceDefinition>(\r\n        optional(workspaceDefinitionDecoder),\r\n        optional(restoreWorkspaceDefinitionDecoder)\r\n    ))\r\n});\r\n\r\nexport const frameInitProtocolConfigDecoder: Decoder<FrameInitializationConfigProtocol> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaces: array(oneOf<Glue42Workspaces.WorkspaceDefinition | RestoreWorkspaceDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        restoreWorkspaceDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameInitializationContextDecoder: Decoder<FrameInitializationContext> = object({\r\n    context: optional(object())\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: optional(boolean()),\r\n    isSelected: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    widthInPx: optional(number()),\r\n    heightInPx: optional(number()),\r\n    isPinned: optional(boolean()),\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    minWidth: optional(number()),\r\n    maxWidth: optional(number()),\r\n    minHeight: optional(number()),\r\n    maxHeight: optional(number())\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeigth: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number()),\r\n        widthInPx: optional(number()),\r\n        heightInPx: optional(number())\r\n    })\r\n) as any;\r\n\r\nexport const customWorkspaceSubParentSnapshotDecoder: Decoder<SubParentSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: parentSnapshotConfigDecoder,\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"row\" | \"column\" | \"group\">(\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const customWorkspaceWindowSnapshotDecoder: Decoder<WindowSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: swimlaneWindowSnapshotConfigDecoder,\r\n    type: constant(\"window\")\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = oneOf<WindowSnapshotResult | SubParentSnapshotResult>(\r\n    customWorkspaceWindowSnapshotDecoder,\r\n    customWorkspaceSubParentSnapshotDecoder);\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = customWorkspaceChildSnapshotDecoder;\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean()),\r\n        minWidth: optional(number()),\r\n        minHeigth: optional(number()),\r\n        maxWidth: optional(number()),\r\n        maxHeight: optional(number())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    isInitialized: optional(boolean()),\r\n    initializationContext: optional(frameInitializationContextDecoder)\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const frameBoundsResultDecoder: Decoder<FrameBoundsResult> = object({\r\n    bounds: object({\r\n        top: number(),\r\n        left: number(),\r\n        width: nonNegativeNumberDecoder,\r\n        height: nonNegativeNumberDecoder\r\n    })\r\n});\r\n\r\nexport const getWorkspaceIconResultDecoder: Decoder<GetWorkspaceIconResult> = object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(positiveNumberDecoder),\r\n    height: optional(positiveNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder,\r\n    workspaceSnapshot: optional(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean()),\r\n    metadata: optional(object())\r\n});\r\n\r\nexport const workspaceLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    showWindowCloseButtons: optional(boolean()),\r\n    showAddWindowButtons: optional(boolean()),\r\n    showEjectButtons: optional(boolean()),\r\n});\r\n\r\nexport const lockWorkspaceDecoder: Decoder<LockWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    config: optional(workspaceLockConfigDecoder)\r\n});\r\n\r\nexport const windowLockConfigDecoder: Decoder<Glue42Workspaces.WorkspaceWindowLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const elementResizeConfigDecoder: Decoder<Glue42Workspaces.ElementResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder)\r\n});\r\n\r\nexport const lockWindowDecoder: Decoder<LockWindowConfig> = object({\r\n    windowPlacementId: nonEmptyStringDecoder,\r\n    config: optional(windowLockConfigDecoder)\r\n});\r\n\r\nexport const rowLockConfigDecoder: Decoder<Glue42Workspaces.RowLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const columnLockConfigDecoder: Decoder<Glue42Workspaces.ColumnLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n});\r\n\r\nexport const groupLockConfigDecoder: Decoder<Glue42Workspaces.GroupLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowDropHeader: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean()),\r\n});\r\n\r\nexport const lockRowDecoder: Decoder<LockRowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"row\"),\r\n    config: optional(rowLockConfigDecoder)\r\n});\r\n\r\nexport const lockColumnDecoder: Decoder<LockColumnConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"column\"),\r\n    config: optional(columnLockConfigDecoder)\r\n});\r\n\r\nexport const lockGroupDecoder: Decoder<LockGroupConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"group\"),\r\n    config: optional(groupLockConfigDecoder)\r\n});\r\n\r\nexport const lockContainerDecoder: Decoder<LockContainerConfig> = oneOf<LockGroupConfig | LockColumnConfig | LockRowConfig>(lockRowDecoder, lockColumnDecoder, lockGroupDecoder);\r\n\r\nexport const pinWorkspaceDecoder: Decoder<PinWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const setWorkspaceIconDecoder: Decoder<SetWorkspaceIconConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    icon: optional(nonEmptyStringDecoder) // to enable the user to remove the icon from the workspace altogether\r\n});\r\n\r\nexport const workspacePinOptionsDecoder: Decoder<WorkspacePinOptions> = optional(object({\r\n    icon: optional(nonEmptyStringDecoder)\r\n}));\r\n","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder, frameWindowBoundsResultDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" | \"getFrameBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: frameWindowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface FrameWindowBoundsResult {\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        const ctx = await this._bridge.contextLib.get(this.myCtxKey);\r\n        return ctx;\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getFrameBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        // this.me is optional, because this handler responds to a workspace frame bounds request and the frame is not a regular GD window\r\n        return {\r\n            windowId: this.me?.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetLeft, targetTop);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","import {\r\n    isWindowInSwimlaneResultDecoder,\r\n    frameSummaryDecoder,\r\n    workspaceSnapshotResultDecoder,\r\n    frameSummariesResultDecoder,\r\n    workspaceCreateConfigDecoder,\r\n    getFrameSummaryConfigDecoder,\r\n    layoutSummariesDecoder,\r\n    openWorkspaceConfigDecoder,\r\n    workspaceSummariesResultDecoder,\r\n    voidResultDecoder,\r\n    exportedLayoutsResultDecoder,\r\n    workspaceLayoutDecoder,\r\n    deleteLayoutConfigDecoder,\r\n    simpleItemConfigDecoder,\r\n    resizeItemConfigDecoder,\r\n    moveFrameConfigDecoder,\r\n    frameSnapshotResultDecoder,\r\n    simpleWindowOperationSuccessResultDecoder,\r\n    setItemTitleConfigDecoder,\r\n    moveWindowConfigDecoder,\r\n    addWindowConfigDecoder,\r\n    addContainerConfigDecoder,\r\n    addItemResultDecoder,\r\n    bundleConfigDecoder,\r\n    workspaceStreamDataDecoder,\r\n    frameStreamDataDecoder,\r\n    containerStreamDataDecoder,\r\n    windowStreamDataDecoder,\r\n    workspaceLayoutSaveConfigDecoder,\r\n    pingResultDecoder,\r\n    frameStateConfigDecoder,\r\n    frameStateResultDecoder,\r\n    workspacesImportLayoutDecoder,\r\n    workspaceSelectorDecoder,\r\n    lockWorkspaceDecoder,\r\n    lockWindowDecoder,\r\n    lockContainerDecoder,\r\n    frameBoundsResultDecoder,\r\n    getWorkspaceIconResultDecoder,\r\n    pinWorkspaceDecoder,\r\n    setWorkspaceIconDecoder,\r\n    frameSummaryResultDecoder,\r\n    emptyFrameDefinitionDecoder,\r\n    frameInitProtocolConfigDecoder\r\n} from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"getFrameBounds\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\" |\r\n    \"lockWorkspace\" |\r\n    \"lockWindow\" |\r\n    \"lockContainer\" |\r\n    \"pinWorkspace\" |\r\n    \"unpinWorkspace\" |\r\n    \"getWorkspaceIcon\" |\r\n    \"setWorkspaceIcon\" |\r\n    \"createFrame\" |\r\n    \"initFrame\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    createFrame: { name: \"createFrame\", resultDecoder: frameSummaryResultDecoder, argsDecoder: emptyFrameDefinitionDecoder },\r\n    initFrame: { name: \"initFrame\", resultDecoder: voidResultDecoder, argsDecoder: frameInitProtocolConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    getFrameBounds: { name: \"getFrameBounds\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameBoundsResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    lockWorkspace: { name: \"lockWorkspace\", argsDecoder: lockWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    lockWindow: { name: \"lockWindow\", argsDecoder: lockWindowDecoder, resultDecoder: voidResultDecoder },\r\n    lockContainer: { name: \"lockContainer\", argsDecoder: lockContainerDecoder, resultDecoder: voidResultDecoder },\r\n    pinWorkspace: { name: \"pinWorkspace\", argsDecoder: pinWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    unpinWorkspace: { name: \"unpinWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    getWorkspaceIcon: { name: \"getWorkspaceIcon\", argsDecoder: workspaceSelectorDecoder, resultDecoder: getWorkspaceIconResultDecoder },\r\n    setWorkspaceIcon: { name: \"setWorkspaceIcon\", argsDecoder: setWorkspaceIconDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { appDirectoryStateChangeDecoder, appHelloSuccessDecoder, applicationStartConfigDecoder, appRemoveConfigDecoder, appsExportOperationDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"appDirectoryStateChange\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\" | \"import\" | \"remove\" | \"export\" | \"clear\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    appDirectoryStateChange: { name: \"appDirectoryStateChange\", dataDecoder: appDirectoryStateChangeDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    type: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppDirectoryStateChange {\r\n    appsAdded: BaseApplicationData[];\r\n    appsChanged: BaseApplicationData[];\r\n    appsRemoved: BaseApplicationData[];\r\n}\r\n\r\nexport interface AppRemoveConfig {\r\n    name: string;\r\n}\r\n\r\nexport interface AppsExportOperation {\r\n    definitions: Glue42Web.AppManager.Definition[];\r\n}\r\n\r\nexport interface AppsImportOperation {\r\n    definitions: Array<Glue42Web.AppManager.Definition | FDC3Definition>;\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    id?: string;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n    forceChromeTab?: boolean;\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n\r\nexport interface FDC3Definition {\r\n    name: string;\r\n    title?: string;\r\n    version?: string;\r\n    appId?: string;\r\n    manifest: string;\r\n    manifestType: string;\r\n    tooltip?: string;\r\n    description?: string;\r\n    contactEmail?: string;\r\n    supportEmail?: string;\r\n    publisher?: string;\r\n    images?: Array<{ url?: string }>;\r\n    icons?: Array<{ icon?: string }>;\r\n    customConfig?: any;\r\n    intents?: Intent[];\r\n}\r\n\r\nexport interface Intent {\r\n    name: string;\r\n    displayName?: string;\r\n    contexts?: string[];\r\n    customConfig?: any;\r\n}\r\n\r\nexport interface DefinitionParseResult {\r\n    valid: Glue42Web.AppManager.Definition[];\r\n    invalid: Array<{ app: string; error: string }>;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { allApplicationDefinitionsDecoder, appManagerOperationTypesDecoder, importModeDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController, ParsedConfig } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppsImportOperation, AppHelloSuccess, ApplicationStartConfig, AppRemoveConfig, InstanceData, operations, BaseApplicationData, AppsExportOperation, DefinitionParseResult, AppDirectoryStateChange } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private baseApplicationsTimeoutMS = 60000;\r\n    private appImportTimeoutMS = 20;\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // reuseId is a hidden property for workspaces-only use\r\n        // forceChromeTab is a hidden property for extension use only\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection,\r\n            id: (options as any)?.reuseId,\r\n            forceChromeTab: (options as any)?.forceTab\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return api;\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.appDirectoryStateChange.execute = this.handleAppDirectoryStateChange.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private async handleAppDirectoryStateChange(data: AppDirectoryStateChange): Promise<void> {\r\n        data.appsAdded.forEach(this.handleApplicationAddedMessage.bind(this));\r\n        data.appsChanged.forEach(this.handleApplicationChangedMessage.bind(this));\r\n        data.appsRemoved.forEach(this.handleApplicationRemovedMessage.bind(this));\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: BaseApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData, []);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private async import(definitions: Glue42Web.AppManager.Definition[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<Glue42Web.AppManager.ImportResult> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(definitions)) {\r\n            throw new Error(\"Import must be called with an array of definitions\");\r\n        }\r\n\r\n        if (definitions.length > 10000) {\r\n            throw new Error(\"Cannot import more than 10000 app definitions in Glue42 Core.\");\r\n        }\r\n\r\n        const parseResult = definitions.reduce<DefinitionParseResult>((soFar, definition) => {\r\n\r\n            const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n\r\n            if (!decodeResult.ok) {\r\n                soFar.invalid.push({ app: definition?.name, error: JSON.stringify(decodeResult.error) });\r\n            } else {\r\n                soFar.valid.push(definition);\r\n            }\r\n\r\n            return soFar;\r\n        }, { valid: [], invalid: [] });\r\n\r\n        const responseTimeout = this.baseApplicationsTimeoutMS + this.appImportTimeoutMS * parseResult.valid.length;\r\n\r\n        await this.bridge.send<AppsImportOperation, void>(\"appManager\", operations.import, { definitions: parseResult.valid, mode }, { methodResponseTimeoutMs: responseTimeout });\r\n\r\n        return {\r\n            imported: parseResult.valid.map((valid) => valid.name),\r\n            errors: parseResult.invalid\r\n        };\r\n    }\r\n\r\n    private async remove(name: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<AppRemoveConfig, void>(\"appManager\", operations.remove, { name }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n    }\r\n\r\n    private async clear(): Promise<void> {\r\n        await this.bridge.send<void, void>(\"appManager\", operations.clear, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n    }\r\n\r\n    private async export(): Promise<Glue42Web.AppManager.Definition[]> {\r\n\r\n        const response = await this.bridge.send<void, AppsExportOperation>(\"appManager\", operations.export, undefined, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n\r\n        return response.definitions;\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId }, { methodResponseTimeoutMs: this.baseApplicationsTimeoutMS });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { BaseApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: BaseApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = api;\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, layoutsImportConfigDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface LayoutsImportConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface LayoutParseResult {\r\n    valid: Glue42Web.Layouts.Layout[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, importModeDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutParseResult, LayoutsImportConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(layouts)) {\r\n            throw new Error(\"Import must be called with an array of layouts\");\r\n        }\r\n\r\n        const parseResult = layouts.reduce<LayoutParseResult>((soFar, layout) => {\r\n\r\n            const decodeResult = glueLayoutDecoder.run(layout);\r\n\r\n            if (decodeResult.ok) {\r\n                soFar.valid.push(layout);\r\n            } else {\r\n                this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n\r\n            return soFar;\r\n\r\n        }, { valid: [] });\r\n\r\n        await this.bridge.send<LayoutsImportConfig, void>(\"layouts\", operations.import, { layouts: parseResult.valid, mode });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        this.export().then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { notificationEventPayloadDecoder, permissionQueryResultDecoder, permissionRequestResultDecoder, raiseNotificationDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type NotificationsOperationTypes = \"raiseNotification\" | \"requestPermission\" | \"notificationShow\" | \"notificationClick\" | \"getPermission\";\r\n\r\nexport type NotificationPermissionTypes = \"default\" | \"granted\" | \"denied\";\r\n\r\nexport const operations: { [key in NotificationsOperationTypes]: BridgeOperation } = {\r\n    raiseNotification: { name: \"raiseNotification\", dataDecoder: raiseNotificationDecoder },\r\n    requestPermission: { name: \"requestPermission\", resultDecoder: permissionRequestResultDecoder },\r\n    notificationShow: { name: \"notificationShow\", dataDecoder: notificationEventPayloadDecoder },\r\n    notificationClick: { name: \"notificationClick\", dataDecoder: notificationEventPayloadDecoder },\r\n    getPermission: { name: \"getPermission\", resultDecoder: permissionQueryResultDecoder }\r\n};\r\n\r\nexport interface RaiseNotification {\r\n    settings: Glue42Web.Notifications.RaiseOptions;\r\n    id: string;\r\n}\r\n\r\nexport interface PermissionRequestResult {\r\n    permissionGranted: boolean;\r\n}\r\n\r\nexport interface PermissionQueryResult {\r\n    permission: NotificationPermissionTypes;\r\n}\r\n\r\nexport interface NotificationEventPayload {\r\n    definition: Glue42Web.Notifications.NotificationDefinition;\r\n    action?: string;\r\n    id?: string;\r\n}","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nmodule.exports = randomByte;\n","// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nmodule.exports = function (random, alphabet, size) {\n  // We can’t use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length)\n  var id = ''\n\n  while (true) {\n    var bytes = random(step)\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || ''\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n}\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","'use strict';\nmodule.exports = require('./lib/index');\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glue42NotificationOptionsDecoder, notificationsOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { NotificationEventPayload, operations, PermissionQueryResult, PermissionRequestResult, RaiseNotification } from \"./protocol\";\r\nimport { generate } from \"shortid\";\r\n\r\nexport class NotificationsController implements LibController {\r\n    private logger!: Glue42Web.Logger.API;\r\n    private bridge!: GlueBridge;\r\n    private notificationsSettings?: Glue42Web.Notifications.Settings;\r\n    private notifications: { [key in string]: Glue42Web.Notifications.Notification } = {};\r\n    private coreGlue!: Glue42Core.GlueCore;\r\n    private buildNotificationFunc!: (config: Glue42Web.Notifications.RaiseOptions) => Glue42Web.Notifications.Notification;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web notifications controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.coreGlue = coreGlue;\r\n\r\n        this.notificationsSettings = ioc.config.notifications;\r\n\r\n        this.buildNotificationFunc = ioc.buildNotification;\r\n\r\n        const api = this.toApi();\r\n\r\n        this.addOperationExecutors();\r\n\r\n        (coreGlue as Glue42Web.API).notifications = api;\r\n\r\n        this.logger.trace(\"notifications are ready\");\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = notificationsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Notifications.API {\r\n        const api: Glue42Web.Notifications.API = {\r\n            raise: this.raise.bind(this),\r\n            requestPermission: this.requestPermission.bind(this),\r\n            getPermission: this.getPermission.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async getPermission(): Promise<\"default\" | \"granted\" | \"denied\"> {\r\n\r\n        const queryResult = await this.bridge.send<void, PermissionQueryResult>(\"notifications\", operations.getPermission, undefined);\r\n\r\n        return queryResult.permission;\r\n    }\r\n\r\n    private async requestPermission(): Promise<boolean> {\r\n\r\n        const permissionResult = await this.bridge.send<void, PermissionRequestResult>(\"notifications\", operations.requestPermission, undefined);\r\n\r\n        return permissionResult.permissionGranted;\r\n    }\r\n\r\n    private async raise(options: Glue42Web.Notifications.RaiseOptions): Promise<Glue42Web.Notifications.Notification> {\r\n        const settings = glue42NotificationOptionsDecoder.runWithException(options);\r\n\r\n        const permissionGranted = await this.requestPermission();\r\n\r\n        if (!permissionGranted) {\r\n            throw new Error(\"Cannot raise the notification, because the user has declined the permission request\");\r\n        }\r\n\r\n        const id = generate();\r\n\r\n        await this.bridge.send<RaiseNotification, void>(\"notifications\", operations.raiseNotification, { settings, id });\r\n\r\n        const notification = this.buildNotificationFunc(options);\r\n\r\n        this.notifications[id] = notification;\r\n\r\n        return notification;\r\n    }\r\n\r\n    private addOperationExecutors(): void {\r\n        operations.notificationShow.execute = this.handleNotificationShow.bind(this);\r\n        operations.notificationClick.execute = this.handleNotificationClick.bind(this);\r\n    }\r\n\r\n    private async handleNotificationShow(data: NotificationEventPayload): Promise<void> {\r\n\r\n        if (!data.id) {\r\n            return;\r\n        }\r\n\r\n        const notification = this.notifications[data.id];\r\n        if (notification && notification.onshow) {\r\n            notification.onshow();\r\n        }\r\n    }\r\n\r\n    private async handleNotificationClick(data: NotificationEventPayload): Promise<void> {\r\n\r\n        if (!data.action && this.notificationsSettings?.defaultClick) {\r\n            this.notificationsSettings.defaultClick(this.coreGlue as Glue42Web.API, data.definition);\r\n        }\r\n\r\n        if (data.action && this.notificationsSettings?.actionClicks?.some((actionDef) => actionDef.action === data.action)) {\r\n            const foundHandler = this.notificationsSettings?.actionClicks?.find((actionDef) => actionDef.action === data.action) as Glue42Web.Notifications.ActionClickHandler;\r\n\r\n            foundHandler.handler(this.coreGlue as Glue42Web.API, data.definition);\r\n        }\r\n\r\n        if (!data.id) {\r\n            return;\r\n        }\r\n\r\n        const notification = this.notifications[data.id];\r\n\r\n        if (notification && notification.onclick) {\r\n            notification.onclick();\r\n            delete this.notifications[data.id];\r\n        }\r\n\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { wrappedIntentFilterDecoder, intentRequestDecoder, intentResultDecoder, wrappedIntentsDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type IntentsOperationTypes = \"getIntents\" | \"findIntent\" | \"raiseIntent\";\r\n\r\nexport const operations: { [key in IntentsOperationTypes]: BridgeOperation } = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\r\n\r\nexport interface WrappedIntentFilter {\r\n    filter?: Glue42Web.Intents.IntentFilter;\r\n}\r\n\r\nexport interface WrappedIntents {\r\n    intents: Glue42Web.Intents.Intent[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { intentsOperationTypesDecoder, raiseRequestDecoder, findFilterDecoder, addIntentListenerIntentDecoder } from \"../shared/decoders\";\r\nimport { operations, WrappedIntentFilter, WrappedIntents } from \"./protocol\";\r\n\r\nexport class IntentsController implements LibController {\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n    private myIntents = new Set<string>();\r\n\r\n    private readonly GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web intents controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).intents = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Intents.API {\r\n        const api: Glue42Web.Intents.API = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(request: string | Glue42Web.Intents.IntentRequest): Promise<Glue42Web.Intents.IntentResult> {\r\n        const requestObj = raiseRequestDecoder.runWithException(request);\r\n\r\n        let data: Glue42Web.Intents.IntentRequest;\r\n\r\n        if (typeof requestObj === \"string\") {\r\n            data = {\r\n                intent: requestObj\r\n            };\r\n        } else {\r\n            data = requestObj;\r\n        }\r\n\r\n        const result = await this.bridge.send<Glue42Web.Intents.IntentRequest, Glue42Web.Intents.IntentResult>(\"intents\", operations.raiseIntent, data);\r\n\r\n        return result;\r\n    }\r\n\r\n    private async all(): Promise<Glue42Web.Intents.Intent[]> {\r\n        const result = await this.bridge.send<void, WrappedIntents>(\"intents\", operations.getIntents, undefined);\r\n\r\n        return result.intents;\r\n    }\r\n\r\n    private addIntentListener(intent: string | Glue42Web.Intents.AddIntentListenerRequest, handler: (context: Glue42Web.Intents.IntentContext) => any): { unsubscribe: UnsubscribeFunction } {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n\r\n        let subscribed = true;\r\n\r\n        // `addIntentListener()` is sync.\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n\r\n        const result = {\r\n            unsubscribe: (): void => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                    this.myIntents.delete(intentName);\r\n                } catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n\r\n        let intentFlag: Omit<Glue42Web.Intents.AddIntentListenerRequest, \"intent\"> = {};\r\n\r\n        if (typeof intent === \"object\") {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const { intent: removed, ...rest } = intent;\r\n            intentFlag = rest;\r\n        }\r\n\r\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args: Glue42Web.Intents.IntentContext) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private async find(intentFilter?: string | Glue42Web.Intents.IntentFilter): Promise<Glue42Web.Intents.Intent[]> {\r\n        let data: WrappedIntentFilter | undefined = undefined;\r\n\r\n        if (typeof intentFilter !== \"undefined\") {\r\n            const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n\r\n            if (typeof intentFilterObj === \"string\") {\r\n                data = {\r\n                    filter: {\r\n                        name: intentFilterObj\r\n                    }\r\n                };\r\n            } else if (typeof intentFilterObj === \"object\") {\r\n                data = {\r\n                    filter: intentFilterObj\r\n                };\r\n            }\r\n        }\r\n\r\n        const result = await this.bridge.send<WrappedIntentFilter | undefined, WrappedIntents>(\"intents\", operations.findIntent, data);\r\n\r\n        return result.intents;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { channelNameDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class ChannelsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private logger!: Glue42Web.Logger.API;\r\n    private contexts!: Glue42Core.Contexts.API;\r\n    private currentChannelName: string | undefined;\r\n    private unsubscribeFunc: (() => void) | undefined;\r\n\r\n    private readonly GlueWebChannelsPrefix = \"___channel___\";\r\n    private readonly SubsKey = \"subs\";\r\n    private readonly ChangedKey = \"changed\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web channels controller\");\r\n\r\n        this.contexts = coreGlue.contexts;\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).channels = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    public async list(): Promise<Glue42Web.Channels.ChannelContext[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        const channelContexts = await Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n\r\n        return channelContexts;\r\n    }\r\n\r\n    public my(): string {\r\n        return this.current();\r\n    }\r\n\r\n    public async join(name: string): Promise<void> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        await this.switchToChannel(name);\r\n    }\r\n\r\n    public onChanged(callback: (channel: string) => void): UnsubscribeFunction {\r\n        return this.changed(callback);\r\n    }\r\n\r\n    public async leave(): Promise<void> {\r\n        await this.switchToChannel();\r\n    }\r\n\r\n    private toApi(): Glue42Web.Channels.API {\r\n        const api: Glue42Web.Channels.API = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private createContextName(channelName: string): string {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n\r\n    private getAllChannelNames(): string[] {\r\n        const contextNames = this.contexts.all();\r\n\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private unsubscribe(): void {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n\r\n    private async switchToChannel(name?: string): Promise<void> {\r\n        this.unsubscribe();\r\n\r\n        // TODO: Should be set after `subscribe()` has resolved, but due to an issue where `subscribe()` replays the context before returning an unsubscribe function this has been moved here.\r\n        this.currentChannelName = name;\r\n\r\n        // When joining a channel (and not leaving).\r\n        if (typeof name !== \"undefined\") {\r\n            const contextName = this.createContextName(name);\r\n\r\n            this.unsubscribeFunc = await this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                this.registry.execute(this.SubsKey, context.data, context, extraData?.updaterId);\r\n            });\r\n        }\r\n\r\n        this.registry.execute(this.ChangedKey, name);\r\n    }\r\n\r\n    private async updateData(name: string, data: any): Promise<void> {\r\n        const contextName = this.createContextName(name);\r\n\r\n        if (this.contexts.setPathSupported) {\r\n            const pathValues: Glue42Web.Contexts.PathValue[] = Object.keys(data).map((key) => {\r\n                return {\r\n                    path: `data.${key}`,\r\n                    value: data[key]\r\n                };\r\n            });\r\n\r\n            await this.contexts.setPaths(contextName, pathValues);\r\n        } else {\r\n            // Pre @glue42/core 5.2.0. Note that we update the data property only.\r\n            await this.contexts.update(contextName, { data });\r\n        }\r\n    }\r\n\r\n    private subscribe(callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n\r\n    private async subscribeFor(name: string, callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): Promise<UnsubscribeFunction> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n        }\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n            callback(context.data, context, extraData?.updaterId);\r\n        });\r\n    }\r\n\r\n    private publish(data: any, name?: string): Promise<void> {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n\r\n            return this.updateData(name, data);\r\n        }\r\n\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n\r\n    private async all(): Promise<string[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private async get(name: string): Promise<Glue42Web.Channels.ChannelContext> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        const channelContext = await this.contexts.get(contextName);\r\n\r\n        return channelContext;\r\n    }\r\n\r\n    private current(): string {\r\n        return this.currentChannelName as string;\r\n    }\r\n\r\n    private changed(callback: (channel: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n\r\n    private add(info: Glue42Web.Channels.ChannelContext): Promise<Glue42Web.Channels.ChannelContext> {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\r\n","import { anyDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type SystemOperationTypes = \"getEnvironment\" | \"getBase\";\r\n\r\nexport const operations: { [key in SystemOperationTypes]: BridgeOperation } = {\r\n    getEnvironment: { name: \"getEnvironment\", resultDecoder: anyDecoder },\r\n    getBase: { name: \"getBase\", resultDecoder: anyDecoder }\r\n};\r\n","import { Glue42Core } from \"@glue42/core\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { operations } from \"./protocol\";\r\n\r\nexport class SystemController implements LibController {\r\n    private bridge!: GlueBridge;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.bridge = ioc.bridge;\r\n\r\n        await this.setEnvironment();\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private async setEnvironment(): Promise<void> {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const environment = await this.bridge.send<void, any>(\"system\", operations.getEnvironment, undefined);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const base = await this.bridge.send<void, any>(\"system\", operations.getBase, undefined);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const glue42core = Object.assign({}, (window as any).glue42core, base, { environment });\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (window as any).glue42core = Object.freeze(glue42core);\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-empty-function */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport class Notification implements Glue42Web.Notifications.Notification {\r\n\r\n    public onclick: () => any = () => { };\r\n    public onshow: () => any = () => { };\r\n    public badge?: string | undefined;\r\n    public body?: string | undefined;\r\n    public data?: any;\r\n    public dir?: \"auto\" | \"ltr\" | \"rtl\" | undefined;\r\n    public icon?: string | undefined;\r\n    public image?: string | undefined;\r\n    public lang?: string | undefined;\r\n    public renotify?: boolean | undefined;\r\n    public requireInteraction?: boolean | undefined;\r\n    public silent?: boolean | undefined;\r\n    public tag?: string | undefined;\r\n    public timestamp?: number | undefined;\r\n    public vibrate?: number[] | undefined;\r\n\r\n    constructor(config: Glue42Web.Notifications.RaiseOptions) {\r\n        this.badge = config.badge;\r\n        this.body = config.body;\r\n        this.data = config.data;\r\n        this.dir = config.dir;\r\n        this.icon = config.icon;\r\n        this.image = config.image;\r\n        this.lang = config.lang;\r\n        this.renotify = config.renotify;\r\n        this.requireInteraction = config.requireInteraction;\r\n        this.silent = config.silent;\r\n        this.tag = config.tag;\r\n        this.timestamp = config.timestamp;\r\n        this.vibrate = config.vibrate;\r\n    }\r\n\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { extensionConfigDecoder } from \"./decoders\";\r\n\r\nexport type ExtensionOperationTypes = \"clientHello\";\r\n\r\nexport const operations: { [key in ExtensionOperationTypes]: BridgeOperation } = {\r\n    clientHello: { name: \"clientHello\", resultDecoder: extensionConfigDecoder }\r\n};\r\n\r\nexport interface ExtensionConfig {\r\n    widget: {\r\n        inject: boolean;\r\n    };\r\n}\r\n\r\nexport interface WidgetInjectionPermission { \r\n    command: \"permissionResponse\";\r\n    allowed: boolean;\r\n    channels?: Glue42Web.Channels.ChannelContext[]; \r\n    currentChannel?: Glue42Web.Channels.ChannelContext; \r\n}","import { Decoder, oneOf, constant, object, boolean } from \"decoder-validate\";\r\nimport { ExtensionConfig, ExtensionOperationTypes } from \"./protocol\";\r\n\r\nexport const extensionOperationTypesDecoder: Decoder<ExtensionOperationTypes> = oneOf<\"clientHello\">(\r\n    constant(\"clientHello\")\r\n);\r\n\r\nexport const extensionConfigDecoder: Decoder<ExtensionConfig> = object({\r\n    widget: object({\r\n        inject: boolean()\r\n    })\r\n});\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { ChannelsController } from \"../channels/controller\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { EventsDispatcher } from \"../shared/dispatcher\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { ExtensionConfig, operations, WidgetInjectionPermission } from \"./protocol\";\r\n\r\nexport class ExtController implements LibController {\r\n\r\n    private windowId!: string;\r\n    private logger!: Glue42Web.Logger.API;\r\n    private bridge!: GlueBridge;\r\n    private eventsDispatcher!: EventsDispatcher;\r\n    private channelsController!: ChannelsController;\r\n    private config!: ExtensionConfig;\r\n    private channels: Glue42Web.Channels.ChannelContext[] = [];\r\n\r\n    private readonly contentCommands: { [key in string]: { name: string; handle: (message: any) => Promise<void> } } = {\r\n        widgetVisualizationPermission: { name: \"widgetVisualizationPermission\", handle: this.handleWidgetVisualizationPermission.bind(this) },\r\n        changeChannel: { name: \"changeChannel\", handle: this.handleChangeChannel.bind(this) }\r\n    }\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"extension.controller.web\");\r\n        \r\n        this.windowId = (coreGlue as any).connection.transport.publicWindowId;\r\n\r\n        this.logger.trace(\"starting the extension web controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n        this.channelsController = ioc.channelsController;\r\n        this.eventsDispatcher = ioc.eventsDispatcher;\r\n\r\n        // TODO: Maybe think about a better way, because the platform will reject and log an error\r\n        try {\r\n            await this.registerWithPlatform();\r\n        } catch (error) {\r\n            // this is soft controller initialization to ensure that\r\n            // this non-essential controller will not break Glue Web \r\n            // initialization combined with older platforms\r\n            return;\r\n        }\r\n\r\n        this.channels = await this.channelsController.list();\r\n\r\n        this.eventsDispatcher.onContentMessage(this.handleContentMessage.bind(this));\r\n        this.channelsController.onChanged((channel) => {\r\n            this.eventsDispatcher.sendContentMessage({ command: \"channelChange\", newChannel: channel });\r\n        });\r\n    }\r\n\r\n    public async handleBridgeMessage(_: any): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private handleContentMessage(message: any): void {\r\n\r\n        if (!message || typeof message.command !== \"string\") {\r\n            return;\r\n        }\r\n\r\n        const foundHandler = this.contentCommands[message.command];\r\n\r\n        if (!foundHandler) {\r\n            return;\r\n        }\r\n\r\n        foundHandler.handle(message);\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        this.logger.trace(\"registering with the platform\");\r\n\r\n        this.config = await this.bridge.send<{ windowId: string }, ExtensionConfig>(\"extension\", operations.clientHello, { windowId: this.windowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a valid extension config\");\r\n    }\r\n\r\n    private async handleWidgetVisualizationPermission(): Promise<void> {\r\n        if (!this.config?.widget.inject) {\r\n            return this.eventsDispatcher.sendContentMessage<WidgetInjectionPermission>({ command: \"permissionResponse\", allowed: false });\r\n        }\r\n\r\n        const currentChannel = this.channels.find((channel) => channel.name === this.channelsController.my());\r\n\r\n        this.eventsDispatcher.sendContentMessage<WidgetInjectionPermission>({ command: \"permissionResponse\", allowed: true, channels: this.channels, currentChannel });\r\n    }\r\n\r\n    private async handleChangeChannel(message: { name: string }): Promise<void> {\r\n        if (message.name === \"no-channel\") {\r\n            await this.channelsController.leave();\r\n            return;\r\n        }\r\n\r\n        await this.channelsController.join(message.name);\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport class EventsDispatcher {\r\n    private glue!: Glue42Web.API;\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly glue42CoreEventName = \"Glue42CoreRuntime\";\r\n\r\n    private readonly events: { [key in string]: { name: string; handle: (glue42coreData: any) => void | Promise<void> } } = {\r\n        notifyStarted: { name: \"notifyStarted\", handle: this.handleNotifyStarted.bind(this) },\r\n        contentInc: { name: \"contentInc\", handle: this.handleContentInc.bind(this) }\r\n    }\r\n\r\n    public start(glue: Glue42Web.API): void {\r\n        this.glue = glue;\r\n\r\n        this.wireCustomEventListener();\r\n\r\n        this.announceStarted();\r\n    }\r\n\r\n    public sendContentMessage<T>(message: T): void {\r\n        this.send(\"contentOut\", message);\r\n    }\r\n\r\n    public onContentMessage(callback: (message: any) => void): UnsubscribeFunction {\r\n        return this.registry.add(\"content-inc\", callback);\r\n    }\r\n\r\n    private wireCustomEventListener(): void {\r\n        window.addEventListener(this.glue42CoreEventName, (event) => {\r\n            const data = (event as CustomEvent).detail;\r\n\r\n            if (!data || !data.glue42core) {\r\n                return;\r\n            }\r\n\r\n            const glue42Event: string = data.glue42core.event;\r\n\r\n            const foundHandler = this.events[glue42Event];\r\n\r\n            if (!foundHandler) {\r\n                return;\r\n            }\r\n\r\n            foundHandler.handle(data.glue42core.message);\r\n\r\n        });\r\n    }\r\n\r\n    private announceStarted(): void {\r\n        this.send(\"start\");\r\n    }\r\n\r\n    private handleNotifyStarted(): void {\r\n        this.announceStarted();\r\n    }\r\n\r\n    private handleContentInc(message: any): void {\r\n        this.registry.execute(\"content-inc\", message);\r\n    }\r\n\r\n    private send(eventName: string, message?: any): void {\r\n        const payload = { glue42core: { event: eventName, message } };\r\n\r\n        const event = new CustomEvent(this.glue42CoreEventName, { detail: payload });\r\n\r\n        window.dispatchEvent(event);\r\n    }\r\n}","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult } from \"../types/protocol\";\r\nimport { AllParentTypes, Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData = {\r\n                    id, parent, frame, workspace,\r\n                    config,\r\n                    type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData as ParentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition as Glue42Workspaces.BoxDefinition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Glue42Workspaces.Workspace, parent: AllParentTypes): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    frame, workspace, parent\r\n                } as WindowCreateConfig);\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                default: throw new Error(`Unsupported child type: ${(child as any).type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg)\r\n            .then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        })\r\n            .catch(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.extContentAvailable = false;\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = false;\r\n        this.parentInExtMode = false;\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) },\r\n            extConnectionResponse: { name: \"extConnectionResponse\", handle: this.handleExtConnectionResponse.bind(this) },\r\n            extSetupRequest: { name: \"extSetupRequest\", handle: this.handleExtSetupRequest.bind(this) }\r\n        };\r\n        this.extContentAvailable = !!window.glue42ext;\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (this.extContentConnected) {\r\n                    return [2, window.postMessage({ glue42ExtOut: msg }, this.defaultTargetString)];\r\n                }\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        if (!this.parentInExtMode) return [3, 3];\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 4:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            if (_this.extContentConnecting) {\r\n                request.glue42core.clientType = \"child\";\r\n                request.glue42core.bridgeInstanceId = _this.myClientId;\r\n                request.glue42core.parentWindowId = _this.parentWindowId;\r\n                return window.postMessage(request, _this.defaultTargetString);\r\n            }\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var connectionNotPossibleMsg, parentCheck, error_1;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        connectionNotPossibleMsg = \"Cannot initiate glue, because this window was not opened or created by a glue client\";\r\n                        parentCheck = PromisePlus(function (resolve, reject) {\r\n                            var isIframe = window.self !== window.top;\r\n                            if (parentType === \"top\" && !isIframe) {\r\n                                return reject(connectionNotPossibleMsg);\r\n                            }\r\n                            _this.parentPingResolve = resolve;\r\n                            var message = {\r\n                                glue42core: {\r\n                                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                                }\r\n                            };\r\n                            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n                            target.postMessage(message, _this.defaultTargetString);\r\n                        }, this.parentPingTimeout, connectionNotPossibleMsg);\r\n                        if (!this.extContentAvailable) {\r\n                            return [2, parentCheck];\r\n                        }\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 5]);\r\n                        return [4, parentCheck];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        this.logger.debug(\"the parent check failed, but there is an associated extension content script, requesting permission...\");\r\n                        return [4, this.requestConnectionPermissionFromExt()];\r\n                    case 4:\r\n                        _a.sent();\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            if (_this.extContentConnected) {\r\n                return;\r\n            }\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function (event) {\r\n        var _a;\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (data && data.extMode) {\r\n            this.logger.debug(\"my parent is connected to its content script, fetching windowId and proceeding with content script connection\");\r\n            this.parentWindowId = data.extMode.windowId;\r\n            this.parentInExtMode = true;\r\n        }\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (this.extContentConnecting) {\r\n            return this.processExtContentConnection(data);\r\n        }\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.processExtContentConnection = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me for extension content connection.\");\r\n        this.extContentConnecting = false;\r\n        this.extContentConnected = true;\r\n        this.publicWindowId = this.parentWindowId || this.myClientId;\r\n        if (this.extContentConnecting && this.identity) {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var extData = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42ExtInc;\r\n            if (!extData) {\r\n                return;\r\n            }\r\n            _this.registry.execute(\"onMessage\", extData);\r\n        });\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        if (this.extContentConnecting || this.extContentConnected) {\r\n            this.logger.debug(\"cannot process acceptance of a grandchild, because I am connected to a content script\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        if (this.extContentConnecting) {\r\n            this.logger.debug(\"This connection request event is targeted at the extension content\");\r\n            return;\r\n        }\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        if (this.extContentConnected) {\r\n            message.glue42core.extMode = { windowId: this.myClientId };\r\n        }\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.parent) {\r\n            this.parent.postMessage(message, this.defaultTargetString);\r\n        }\r\n        if (this.extContentConnected) {\r\n            return window.postMessage({ glue42ExtOut: message }, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    WebPlatformTransport.prototype.requestConnectionPermissionFromExt = function () {\r\n        var _this = this;\r\n        return this.waitForContentScript()\r\n            .then(function () { return PromisePlus(function (resolve, reject) {\r\n            _this.extConnectionResolve = resolve;\r\n            _this.extConnectionReject = reject;\r\n            var message = {\r\n                glue42core: {\r\n                    type: \"extSetupRequest\"\r\n                }\r\n            };\r\n            _this.logger.debug(\"permission request to the extension content script was sent\");\r\n            window.postMessage(message, _this.defaultTargetString);\r\n        }, _this.parentPingTimeout, \"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection timed out\"); });\r\n    };\r\n    WebPlatformTransport.prototype.handleExtConnectionResponse = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (!data.approved && this.extConnectionReject) {\r\n            return this.extConnectionReject(\"Cannot initialize glue, because this app was not opened or created by a Glue Client and the request for extension connection was rejected\");\r\n        }\r\n        if (this.extConnectionResolve) {\r\n            this.extContentConnecting = true;\r\n            this.logger.debug(\"The extension connection was approved, proceeding.\");\r\n            this.extConnectionResolve();\r\n            delete this.extConnectionResolve;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleExtSetupRequest = function () {\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.waitForContentScript = function () {\r\n        var _a;\r\n        var contentReady = !!((_a = window.glue42ext) === null || _a === void 0 ? void 0 : _a.content);\r\n        if (contentReady) {\r\n            return Promise.resolve();\r\n        }\r\n        return PromisePlus(function (resolve) {\r\n            window.addEventListener(\"Glue42EXTReady\", function () {\r\n                resolve();\r\n            });\r\n        }, this.connectionRequestTimeout, \"The content script was available, but was never heard to be ready\");\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.6.2\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else if (typeof (window === null || window === void 0 ? void 0 : window.glue42electron) !== \"undefined\") {\r\n            windowId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n            pid = window === null || window === void 0 ? void 0 : window.glue42electron.pid;\r\n            environment = window === null || window === void 0 ? void 0 : window.glue42electron.env;\r\n            region = window === null || window === void 0 ? void 0 : window.glue42electron.region;\r\n            uniqueAppName = (_d = window === null || window === void 0 ? void 0 : window.glue42electron.application) !== null && _d !== void 0 ? _d : \"glue-app\";\r\n            instanceId = window === null || window === void 0 ? void 0 : window.glue42electron.instanceId;\r\n        }\r\n        else ;\r\n        var replaySpecs = (_f = (_e = configuration.gateway) === null || _e === void 0 ? void 0 : _e.replaySpecs) !== null && _f !== void 0 ? _f : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        var identity = {\r\n            application: uniqueAppName,\r\n            applicationName: appName,\r\n            windowId: windowId,\r\n            instance: instanceId,\r\n            process: pid,\r\n            region: region,\r\n            environment: environment,\r\n            api: ext.version || version\r\n        };\r\n        if (configuration.identity) {\r\n            identity = Object.assign(identity, configuration.identity);\r\n        }\r\n        return {\r\n            identity: identity,\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof window.glue42electron !== \"undefined\") {\r\n            return window.glue42electron.application;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = createContextMsg.data || data;\r\n            contextData.hasReceivedSnapshot = true;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && (!contextData.hasCallbacks() || !contextData.hasReceivedSnapshot)) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    if (contextData.hasReceivedSnapshot) {\r\n                        var clone = deepClone(contextData.context);\r\n                        callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    }\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                if (contextData.hasReceivedSnapshot) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                }\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            if (contextData.hasReceivedSnapshot) {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            }\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        contextData.hasReceivedSnapshot = true;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        Object.keys(resolvedIdentity).forEach(function (key) {\r\n            _this.wrapped[key] = resolvedIdentity[key];\r\n        });\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = (_d = resolvedIdentity.isLocal) !== null && _d !== void 0 ? _d : true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign(__assign({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign(__assign({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else if (typeof window !== \"undefined\" && (window === null || window === void 0 ? void 0 : window.glue42electron)) {\r\n                if (typeof window.glue42electron.gwToken === \"string\") {\r\n                    authPromise = Promise.resolve({\r\n                        gatewayToken: window.glue42electron.gwToken\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks,\r\n                        startTime: t.startTime,\r\n                        endTime: t.endTime\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, Glue42WebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { checkSingleton } from \"./config/checkSingleton\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\nimport { version } from \"../package.json\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): Glue42WebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        checkSingleton();\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config, { version }) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n\r\n        ioc.defineConfig(config);\r\n\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started\");\r\n\r\n        ioc.eventsDispatcher.start(glue);\r\n\r\n        logger.trace(\"start event dispatched, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","import React, { useContext } from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\nimport { GlueContext } from '@glue42/react-hooks';\r\n// import { Glue42Workspaces } from '@glue42/workspaces-api';\r\n// import { Glue42Web } from \"@glue42/web\";\r\n// import { Glue42 } from \"@glue42/desktop\";\r\n\r\nconst App = () => {\r\n    (window as any).glue = useContext(GlueContext);\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\n// const App = () => {\r\n//     const waitForMyFrame = (glue: Glue42Web.API | Glue42.Glue) => {\r\n//         return new Promise<Glue42Workspaces.Frame>(async (res, rej) => {\r\n//             const unsub = await glue.workspaces?.onFrameOpened((f) => {\r\n//                 if (f.id === getFrameId()) {\r\n//                     res(f);\r\n//                     if (unsub) {\r\n//                         unsub();\r\n//                     }\r\n//                 }\r\n//             });\r\n//             const frames = await glue.workspaces?.getAllFrames();\r\n//             const myFrame = frames?.find(f => f.id === getFrameId());\r\n\r\n//             if (myFrame) {\r\n//                 res(myFrame);\r\n//                 if (unsub) {\r\n//                     unsub();\r\n//                 }\r\n//             }\r\n//         });\r\n//     };\r\n\r\n//     useGlue(async (glue) => {\r\n//         const myFrame = await waitForMyFrame(glue as any);\r\n//         const wsp = (await myFrame.workspaces())[0];\r\n//         const newWsp = await glue.workspaces?.restoreWorkspace(\"example2\", {title: \"example2\", reuseWorkspaceId: wsp.id} as any);\r\n//         await newWsp?.setTitle(\"Default\");\r\n//     });\r\n\r\n//     return (\r\n//         <Workspaces />\r\n//     );\r\n// }\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { nonNegativeNumberDecoder, rowLockConfigDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.RowLockConfig | ((config: Glue42Workspaces.RowLockConfig) => Glue42Workspaces.RowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : rowLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setHeight(height: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(height);\r\n        return getBase(this).setHeight(this, height);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { columnLockConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getBase(this).getAllowSplitters(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getBase(this).getIsPinned(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.ColumnLockConfig | ((config: Glue42Workspaces.ColumnLockConfig) => Glue42Workspaces.ColumnLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowSplitters: this.allowSplitters\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : columnLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setWidth(width: number): Promise<void> {\r\n        nonNegativeNumberDecoder.runWithException(width);\r\n        return getBase(this).setWidth(this, width);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { elementResizeConfigDecoder, groupLockConfigDecoder } from \"../shared/decoders\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getBase(this).getAllowExtract(this);\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getBase(this).getAllowDropLeft(this);\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getBase(this).getAllowDropRight(this);\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getBase(this).getAllowDropTop(this);\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getBase(this).getAllowDropBottom(this);\r\n    }\r\n\r\n    public get allowDropHeader(): boolean {\r\n        return getBase(this).getAllowDropHeader(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get showMaximizeButton(): boolean {\r\n        return getBase(this).getShowMaximizeButton(this);\r\n    }\r\n\r\n    public get showEjectButton(): boolean {\r\n        return getBase(this).getShowEjectButton(this);\r\n    }\r\n\r\n    public get showAddWindowButton(): boolean {\r\n        return getBase(this).getShowAddWindowButton(this);\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getBase(this).getMinWidth(this);\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getBase(this).getMinHeight(this);\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getBase(this).getMaxWidth(this);\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getBase(this).getMaxHeight(this);\r\n    }\r\n\r\n    public get width(): number {\r\n        return getBase(this).getWidthInPx(this);\r\n    }\r\n\r\n    public get height(): number {\r\n        return getBase(this).getHeightInPx(this);\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getBase(this).getIsMaximized(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: Glue42Workspaces.GroupLockConfig | ((config: Glue42Workspaces.GroupLockConfig) => Glue42Workspaces.GroupLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropHeader: this.allowDropHeader,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : groupLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n\r\n        return getBase(this).setSize(this, config.width, config.height);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLockConfigDecoder, workspacePinOptionsDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"./frame\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacePinOptions } from \"../../temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\ntype SaveLayoutConfig = Omit<Omit<Glue42Workspaces.WorkspaceLayoutSaveConfig, \"name\">, \"workspaceId\">;\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean | undefined {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get isSelected(): boolean {\r\n        return getData(this).config.isSelected;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getData(this).config.allowSplitters;\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getData(this).config.allowDrop;\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getData(this).config.allowDropLeft;\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getData(this).config.allowDropTop;\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getData(this).config.allowDropRight;\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getData(this).config.allowDropBottom;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get showSaveButton(): boolean {\r\n        return getData(this).config.showSaveButton;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get showWindowCloseButtons(): boolean {\r\n        return getData(this).config.showWindowCloseButtons;\r\n    }\r\n\r\n    public get showEjectButtons(): boolean {\r\n        return getData(this).config.showEjectButtons;\r\n    }\r\n\r\n    public get showAddWindowButtons(): boolean {\r\n        return getData(this).config.showAddWindowButtons;\r\n    }\r\n\r\n    public get isPinned(): boolean {\r\n        return getData(this).config.isPinned;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: SaveLayoutConfig): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext, metadata: config?.metadata });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const currentChildrenFlat = getData(this).controller.flatChildren(getData(this).children);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren: currentChildrenFlat,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public async getIcon(): Promise<string> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceIcon(this.id);\r\n    }\r\n\r\n    public async setIcon(icon: string): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceIcon(this.id, icon);\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Glue42Workspaces.Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Glue42Workspaces.Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Glue42Workspaces.Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceWindow;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Glue42Workspaces.WorkspaceWindow[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceLockConfig | ((config: Glue42Workspaces.WorkspaceLockConfig) => Glue42Workspaces.WorkspaceLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowSplitters: this.allowSplitters,\r\n                showCloseButton: this.showCloseButton,\r\n                showSaveButton: this.showSaveButton,\r\n                showAddWindowButtons: this.showAddWindowButtons,\r\n                showEjectButtons: this.showEjectButtons,\r\n                showWindowCloseButtons: this.showWindowCloseButtons\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : workspaceLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        await getData(this).controller.lockWorkspace(this.id, verifiedConfig);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async pin(options: WorkspacePinOptions): Promise<void> {\r\n        workspacePinOptionsDecoder.runWithException(options);\r\n        await getData(this).controller.pinWorkspace(this.id, options?.icon);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async unpin(): Promise<void> {\r\n        await getData(this).controller.unpinWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, windowLockConfigDecoder, elementResizeConfigDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get elementId(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get width(): number {\r\n        return getData(this).config.widthInPx;\r\n    }\r\n\r\n    public get height(): number {\r\n        return getData(this).config.heightInPx;\r\n    }\r\n\r\n    public get minWidth(): number {\r\n        return getData(this).config.minWidth;\r\n    }\r\n\r\n    public get minHeight(): number {\r\n        return getData(this).config.minHeight;\r\n    }\r\n\r\n    public get maxWidth(): number {\r\n        return getData(this).config.maxWidth;\r\n    }\r\n\r\n    public get maxHeight(): number {\r\n        return getData(this).config.maxHeight;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        await this.workspace.refreshReference();\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        await controller.moveWindowTo(myId, parent.id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: Glue42Workspaces.WorkspaceWindowLockConfig | ((config: Glue42Workspaces.WorkspaceWindowLockConfig) => Glue42Workspaces.WorkspaceWindowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowExtract: this.allowExtract,\r\n                showCloseButton: this.showCloseButton\r\n            };\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : windowLockConfigDecoder.runWithException(lockConfigResult);\r\n        const windowPlacementId = getData(this).id;\r\n        await getData(this).controller.lockWindow(windowPlacementId, verifiedConfig);\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setSize(config: Glue42Workspaces.ElementResizeConfig): Promise<void> {\r\n        const verifiedConfig = elementResizeConfigDecoder.runWithException(config);\r\n\r\n        if (!verifiedConfig.width && !verifiedConfig.height) {\r\n            throw new Error(\"Expected either width or height to be passed.\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.resizeItem(myId, {\r\n            height: verifiedConfig.height,\r\n            width: verifiedConfig.width,\r\n            relative: false\r\n        });\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder, frameInitConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\nimport { FrameInitializationConfig, FrameInitializationContext } from \"../../temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public get isInitialized(): boolean {\r\n        return getData(this).summary.isInitialized;\r\n    }\r\n\r\n    public getBounds(): Promise<Glue42Workspaces.FrameBounds> {\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.getFrameBounds(myId);\r\n    }\r\n\r\n    public async resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public async move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspacesByFrameId(this.id);\r\n    }\r\n\r\n    public async getConstraints(): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const controller = getData(this).controller;\r\n        const myId = getData(this).summary.id;\r\n\r\n        return controller.getFrameConstraints(myId);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async init(config: FrameInitializationConfig): Promise<void> {\r\n        frameInitConfigDecoder.runWithException(config);\r\n\r\n        if (getData(this).summary.isInitialized) {\r\n            throw new Error(\"The frame has already been initialized\");\r\n        }\r\n        return getData(this).controller.initFrame(this.id, config);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.transformStreamPayloadToWorkspace(payload);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspaceById(payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onInitializationRequested(callback: (context?: FrameInitializationContext) => Promise<void>): Promise<void> {\r\n        checkThrowCallback(callback);\r\n\r\n        if (!this.isInitialized) {\r\n            await callback(getData(this).summary.initializationContext);\r\n        }\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child, SubParentTypes } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<SubParentTypes, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: SubParentTypes, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: SubParentTypes): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent, ContainerLockConfig } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\nimport { Group } from \"../group\";\r\nimport { Row } from \"../row\";\r\nimport { Column } from \"../column\";\r\nimport { ColumnSnapshotConfig, GroupSnapshotConfig, RowSnapshotConfig } from \"../../types/protocol\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model as SubParentTypes);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: SubParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n\r\n        if (model.parent instanceof Workspace) {\r\n            await model.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(model.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async restore(model: SubParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n\r\n        if (model.parent instanceof Workspace) {\r\n            await model.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(model.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async lockContainer(model: SubParentTypes, config?: ContainerLockConfig): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.lockContainer(modelData.id, model.type, config);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public getAllowDrop(model: SubParentTypes): boolean {\r\n        return getData(this, model).config.allowDrop;\r\n    }\r\n\r\n    public getAllowDropLeft(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropLeft is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropLeft;\r\n    }\r\n\r\n    public getAllowDropRight(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropRight is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropRight;\r\n    }\r\n\r\n    public getAllowDropTop(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropTop is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropTop;\r\n    }\r\n\r\n    public getAllowDropBottom(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropBottom is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropBottom;\r\n    }\r\n\r\n    public getAllowDropHeader(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Property allowDropHeader is available only for groups and not on ${model.type} ${model.id}`);\r\n        }\r\n        return privateData.config.allowDropHeader;\r\n    }\r\n\r\n    public getAllowSplitters(model: Row | Column): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        if (privateData.type === \"group\") {\r\n            throw new Error(`Cannot get allow splitters from private data ${privateData.type}`);\r\n        }\r\n\r\n        return privateData.config.allowSplitters;\r\n    }\r\n\r\n    public getAllowExtract(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowExtract;\r\n    }\r\n\r\n    public getShowMaximizeButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show maximize button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showMaximizeButton;\r\n    }\r\n\r\n    public getShowEjectButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show eject button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showEjectButton;\r\n    }\r\n\r\n    public getShowAddWindowButton(model: Group): boolean {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get add window button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showAddWindowButton;\r\n    }\r\n\r\n    public getMinWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minWidth;\r\n    }\r\n\r\n    public getMaxWidth(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxWidth;\r\n    }\r\n\r\n    public getMinHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.minHeight;\r\n    }\r\n\r\n    public getMaxHeight(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.maxHeight;\r\n    }\r\n\r\n    public getWidthInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.widthInPx;\r\n    }\r\n\r\n    public getHeightInPx(model: SubParentTypes): number {\r\n        const privateData = getData(this, model);\r\n\r\n        return privateData.config.heightInPx;\r\n    }\r\n\r\n    public getIsPinned(model: Column | Row): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig).isPinned;\r\n    }\r\n\r\n    public getIsMaximized(model: Column | Row | Group): boolean {\r\n        const privateData = getData(this, model);\r\n\r\n        return (privateData.config as RowSnapshotConfig | ColumnSnapshotConfig | GroupSnapshotConfig).isMaximized;\r\n    }\r\n\r\n    public async setHeight(model: Row, height: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            height\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async setWidth(model: Column, width: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            width\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async setSize(model: Group, width?: number, height?: number): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n        const { controller } = modelData;\r\n\r\n        await controller.resizeItem(getData(this, model).id, {\r\n            width,\r\n            height\r\n        });\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { AllParentTypes, Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { EmptyFrameDefinition, FrameInitializationConfig } from \"../../temp\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: EmptyFrameDefinition): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.createFrame.name, definition);\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: FrameInitializationConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.initFrame.name, { frameId, ...config });\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n\r\n            return Object.assign(\r\n                {},\r\n                { id: summary.id, width: summary.config.widthInPx, height: summary.config.heightInPx },\r\n                summary.config\r\n            );\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: payload.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const snapshot = payload.workspaceSnapshot || (await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: payload.workspaceSummary.id }));\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        const workspace = this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n        return workspace;\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window || (parent as Glue42Workspaces.WorkspaceWindow).type === \"window\") {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((child) => {\r\n                return child.type === \"window\" ? child.elementId === newChildSnapshot.id : child.id === newChildSnapshot.id;\r\n            });\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent: parent as AllParentTypes,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                let createConfig: WindowCreateConfig | ParentCreateConfig;\r\n                if (newChildSnapshot.type === \"window\") {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                    } as WindowCreateConfig;\r\n                } else {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                        children: []\r\n                    } as ParentCreateConfig;\r\n                }\r\n\r\n                childToAdd = this.ioc.getModel<\"child\">(newChildSnapshot.type, createConfig);\r\n            }\r\n\r\n            if (newChildSnapshot.type !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent as SubParentTypes, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild((child as SubParentTypes).children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren((child as SubParentTypes).children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWorkspace.name, { workspaceId, config });\r\n    }\r\n\r\n    public async lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWindow.name, { windowPlacementId, config });\r\n    }\r\n\r\n    public async lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockContainer.name, { itemId, type, config });\r\n    }\r\n\r\n    public async pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.pinWorkspace.name, { workspaceId, icon });\r\n    }\r\n\r\n    public async unpinWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.unpinWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        const result = await this.bridge.send<{ icon: string }>(OPERATIONS.getWorkspaceIcon.name, { workspaceId });\r\n        return result.icon;\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.bridge.send<void>(OPERATIONS.setWorkspaceIcon.name, { workspaceId, icon });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult, FrameBoundsResult, WorkspaceStreamData } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { EmptyFrameDefinition, FrameInitializationConfig } from \"../../temp\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async createEmptyFrame(definition: EmptyFrameDefinition): Promise<Frame> {\r\n        return await this.base.createEmptyFrame(definition);\r\n    }\r\n\r\n    public async initFrame(frameId: string, config: FrameInitializationConfig): Promise<void> {\r\n        return this.base.initFrame(frameId, config);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public getWorkspaceById(workspaceId: string): Promise<Workspace> {\r\n        return this.base.fetchWorkspace(workspaceId);\r\n    }\r\n\r\n    public transformStreamPayloadToWorkspace(payload: WorkspaceStreamData): Promise<Workspace> {\r\n        return this.base.transformStreamPayloadToWorkspace(payload);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getWorkspacesByFrameId(frameId: string): Promise<Workspace[]> {\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n        const summariesForFrame = workspaceSummaries.filter((s) => s.frameId === frameId);\r\n\r\n        const workspacesForFrame = await Promise.all(summariesForFrame.map((summary) => {\r\n            return this.base.fetchWorkspace(summary.id);\r\n        }));\r\n\r\n        return workspacesForFrame;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameBounds(frameId: string): Promise<Glue42Workspaces.FrameBounds> {\r\n        const frameResult = await this.bridge.send<FrameBoundsResult>(OPERATIONS.getFrameBounds.name, { itemId: frameId });\r\n        return frameResult.bounds;\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\"): Promise<WorkspaceSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"frame\"): Promise<FrameSnapshotResult>\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public flatChildren(children: Child[]): Child[] {\r\n        return children.reduce<Child[]>((soFar, child) => {\r\n\r\n            soFar.push(child);\r\n\r\n            if (child.type !== \"window\") {\r\n                soFar.push(...this.flatChildren(child.children));\r\n            }\r\n\r\n            return soFar;\r\n        }, []);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    public lockWorkspace(workspaceId: string, config?: Glue42Workspaces.WorkspaceLockConfig): Promise<void> {\r\n        return this.base.lockWorkspace(workspaceId, config);\r\n    }\r\n\r\n    public lockWindow(windowPlacementId: string, config?: Glue42Workspaces.WorkspaceWindowLockConfig): Promise<void> {\r\n        return this.base.lockWindow(windowPlacementId, config);\r\n    }\r\n\r\n    public lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        return this.base.lockContainer(itemId, type, config);\r\n    }\r\n\r\n    public pinWorkspace(workspaceId: string, icon?: string): Promise<void> {\r\n        return this.base.pinWorkspace(workspaceId, icon);\r\n    }\r\n\r\n    public unpinWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.unpinWorkspace(workspaceId);\r\n    }\r\n\r\n    public getWorkspaceIcon(workspaceId: string): Promise<string> {\r\n        return this.base.getWorkspaceIcon(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceIcon(workspaceId: string, icon: string): Promise<void> {\r\n        return this.base.setWorkspaceIcon(workspaceId, icon);\r\n    }\r\n\r\n    public async getFrameConstraints(frameId: string): Promise<Glue42Workspaces.FrameConstraints> {\r\n        const frameSnapshot = await this.getSnapshot(frameId, \"frame\");\r\n\r\n        return {\r\n            minWidth: frameSnapshot.config.minWidth,\r\n            maxWidth: frameSnapshot.config.maxWidth,\r\n            minHeight: frameSnapshot.config.minHeight,\r\n            maxHeight: frameSnapshot.config.maxHeight,\r\n        };\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder, emptyFrameDefinitionDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\nimport { API, EmptyFrameDefinition } from \"../temp\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getWorkspaceById = async (workspaceId: string): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(workspaceId);\r\n\r\n        return controller.getWorkspaceById(workspaceId);\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const createEmptyFrame = async (definition?: EmptyFrameDefinition): Promise<Glue42Workspaces.Frame> => {\r\n        const validatedDefinition = emptyFrameDefinitionDecoder.runWithException(definition);\r\n\r\n        return controller.createEmptyFrame(validatedDefinition ?? {});\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await controller.transformStreamPayloadToWorkspace(payload);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const waitForFrame = async (id: string): Promise<Glue42Workspaces.Frame> => {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n        return new Promise<Glue42Workspaces.Frame>((res, rej) => {\r\n            let unsub: Glue42Workspaces.Unsubscribe = () => {\r\n                // do nothing\r\n            };\r\n            onFrameOpened((f) => {\r\n                if (f.id === id) {\r\n                    res(f);\r\n                    unsub();\r\n                }\r\n            }).then((u) => {\r\n                unsub = u;\r\n                return getAllFrames();\r\n            }).then((frames) => {\r\n                const myFrame = frames.find((f) => f.id === id);\r\n                if (myFrame) {\r\n                    res(myFrame);\r\n                    unsub();\r\n                }\r\n            }).catch(rej);\r\n        });\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getWorkspaceById,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        createEmptyFrame,\r\n        waitForFrame,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue, { Glue42 } from \"@glue42/desktop\";\r\nimport GlueWeb, { Glue42Web } from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\n// import GlueWebPlatform from \"@glue42/web-platform\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider glueFactory={(config: any) => {\r\n\r\n      // const layouts = {\r\n      //   mode: \"session\",\r\n      //   local: [\r\n      //     { \"name\": \"example2\", \"type\": \"Workspace\", \"components\": [{ \"type\": \"Workspace\", \"state\": { \"config\": { \"name\": \"second\", \"title\": \"Untitled 1\" }, \"context\": {}, \"children\": [{ \"type\": \"column\", \"config\": {}, \"children\": [{ \"type\": \"row\", \"config\": {}, \"children\": [{ \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\", \"title\": \"asd\" } }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }] } }], \"metadata\": {} },\r\n      //     { \"name\": \"not-example\", \"type\": \"Workspace\", \"components\": [{ \"type\": \"Workspace\", \"state\": { \"config\": { \"name\": \"second\", \"title\": \"Untitled 1\" }, \"context\": {}, \"children\": [{ \"type\": \"column\", \"config\": {}, \"children\": [{ \"type\": \"row\", \"config\": {}, \"children\": [{ \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }] } }], \"metadata\": {} },\r\n      //     {\r\n      //       \"name\": \"asd\",\r\n      //       \"type\": \"Workspace\",\r\n      //       \"metadata\": {},\r\n      //       \"components\": [\r\n      //         {\r\n      //           \"type\": \"Workspace\",\r\n      //           \"state\": {\r\n      //             \"config\": {\r\n      //               \"name\": \"asd\",\r\n      //               \"title\": \"Untitled 1\"\r\n      //             },\r\n      //             \"context\": null,\r\n      //             \"children\": [\r\n      //               {\r\n      //                 \"type\": \"column\",\r\n      //                 \"config\": {},\r\n      //                 \"children\": [\r\n      //                   {\r\n      //                     \"type\": \"group\",\r\n      //                     \"config\": {},\r\n      //                     \"children\": [\r\n      //                       {\r\n      //                         \"type\": \"window\",\r\n      //                         \"config\": {\r\n      //                           \"appName\": \"SimpleOne\"\r\n      //                         }\r\n      //                       }\r\n      //                     ]\r\n      //                   }\r\n      //                 ]\r\n      //               }\r\n      //             ]\r\n      //           }\r\n      //         }\r\n      //       ]\r\n      //     }\r\n      //   ]\r\n      // };\r\n\r\n      // const applications = {\r\n      //   local: [\r\n      //     {\r\n      //       name: \"SimpleOne\",\r\n      //       type: \"window\",\r\n      //       title: \"maybe\",\r\n      //       details: {\r\n      //         url: \"http://localhost:9200/\"\r\n      //       },\r\n      //       customProperties: {\r\n      //         includeInWorkspaces: true\r\n      //       }\r\n      //     }\r\n      //   ]\r\n      // }\r\n\r\n      // const platformConfig = {\r\n      //   glue: {\r\n      //     libraries: [GlueWorkspaces],\r\n      //     systemLogger: { level: \"trace\" }\r\n      //   },\r\n      //   applications,\r\n      //   layouts,\r\n      //   workspaces: {\r\n      //     src: \"/\",\r\n      //     isFrame: true\r\n      //   }\r\n      // };\r\n\r\n      // return GlueWebPlatform(platformConfig as any).then((data) => data.glue) as any;\r\n\r\n      return window.glue42gd ?\r\n        Glue(Object.assign(config, { libraries: [GlueWorkspaces], appManager: \"skipIcons\" }) as Glue42.Config) :\r\n        GlueWeb(Object.assign(config, { libraries: [GlueWorkspaces] }) as Glue42Web.Config) as any\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}